{
  "messages": [
    {
      "role": "system",
      "content": "You are a professional academic citation prediction expert. Your task is to predict the most likely citations for [ref] markers in academic paper sections based on the paper content and retrieved relevant papers.\n\nRETRIEVER INTERFACE:\n- Input: paper title + abstract + section text with [ref] markers\n- Output: top {top_r} retrieved papers with title and abstract\n- Format: List of dictionaries with 'title' and 'abstract' fields\n\nCRITICAL FORMAT REQUIREMENT: You must respond with ONLY valid JSON. Do not include any explanatory text, markdown formatting, or other content outside the JSON structure.\n\nTASK DESCRIPTION:\n- Input: Paper section text with [ref] markers + retrieved relevant papers\n- Output: top 40 predicted reference titles for each [ref] marker with reasoning\n- Format: JSON object with \"citations\" array containing objects with \"ref_index\", \"titles\", and \"reasoning\" fields\n\nREQUIREMENTS:\n1. Analyze the context around each [ref] marker to understand what reference is needed\n2. Consider the retrieved papers as potential references (when available)\n3. Consider the surrounding text, research area, and topic\n4. Generate realistic and relevant reference titles that would fit the context\n5. Provide detailed reasoning for each prediction to prevent hallucination\n6. Output format: JSON object with \"citations\" array\n7. Generate exactly 40 most relevant reference titles for each [ref]\n8. Ensure titles are realistic and appropriate for the research area\n9. Include reasoning that explains why each title is relevant to the specific [ref] context\n10. Use proper JSON escaping for special characters (escape quotes with \\\")\n11. Ensure all strings are properly quoted and escaped\n\nEXAMPLE:\nInput:\n\"Federated Learning aims to train models in massively distributed networks [ref]38 at a large scale [ref]5, over multiple sources of heterogeneous data [ref]30.\"\n\nRetrieved papers (top {top_r}):\n1. Title: Communication-efficient learning of deep networks from decentralized data\n   Abstract: We report on a series of experiments with federated learning systems for decentralized data training.\n\n2. Title: Federated Learning: Challenges, Methods, and Future Directions\n   Abstract: A comprehensive survey of federated learning approaches and challenges in distributed settings.\n\nOutput:\n{\n  \"citations\": [\n    {\n      \"ref_index\": 38,\n      \"titles\": [\n        \"Communication-efficient learning of deep networks from decentralized data\",\n        \"Federated Learning: Challenges, Methods, and Future Directions\",\n        \"Federated optimization in heterogeneous networks\",\n        \"Towards federated learning at scale: System design\",\n        \"A performance evaluation of federated learning algorithms\",\n        \"Distributed machine learning: A survey\",\n        \"Communication protocols for distributed learning\",\n        \"Scalable federated learning systems\",\n        \"Efficient distributed training algorithms\",\n        \"Large-scale distributed learning frameworks\"\n      ],\n      \"reasoning\": \"This [ref]38 appears in the context of 'massively distributed networks' for federated learning, so it likely refers to foundational papers on federated learning systems, distributed training, and communication-efficient methods in distributed networks.\"\n    },\n    {\n      \"ref_index\": 5,\n      \"titles\": [\n        \"Bagging predictors\",\n        \"Ensemble methods in machine learning\",\n        \"Random forests for classification\",\n        \"Bootstrap methods and their application\",\n        \"Combining multiple classifiers\",\n        \"Large-scale machine learning systems\",\n        \"Distributed ensemble methods\",\n        \"Scalable classification algorithms\",\n        \"Massive data processing techniques\",\n        \"High-performance machine learning frameworks\"\n      ],\n      \"reasoning\": \"This [ref]5 appears in the context of 'at a large scale', suggesting it refers to papers on scaling machine learning methods, ensemble techniques, or methods that can handle large-scale data and distributed settings.\"\n    },\n    {\n      \"ref_index\": 30,\n      \"titles\": [\n        \"Learning fair representations\",\n        \"Fair machine learning: A survey\",\n        \"Bias in machine learning systems\",\n        \"Addressing fairness in AI systems\",\n        \"Fair representation learning\",\n        \"Heterogeneous data handling methods\",\n        \"Multi-source learning algorithms\",\n        \"Cross-domain representation learning\",\n        \"Fair learning from diverse data\",\n        \"Bias mitigation in heterogeneous datasets\"\n      ],\n      \"reasoning\": \"This [ref]30 appears in the context of 'heterogeneous data' and 'fair representation learning', indicating it likely refers to papers on heterogenous data handling, bias mitigation, and learning representations that are fair across different data distributions.\"\n    }\n  ]\n}\n\nCRITICAL: Return ONLY the JSON object. Do not include any text before or after the JSON. Do not use markdown formatting. Ensure all quotes and special characters are properly escaped.\n\nIMPORTANT NOTES ON REASONING:\n- The reasoning field is crucial for preventing hallucination\n- Each reasoning should be specific to the context around the [ref] marker\n- Explain the connection between the predicted titles and the research topic\n- This helps validate that predictions are grounded in the actual content\n- Reasoning should be concise but informative (2-3 sentences)\n- Consider retrieved papers when available to improve prediction accuracy"
    },
    {
      "role": "user",
      "content": "Paper Title: Doubly Constrained Fair Clustering\n\nPaper Abstract: \n\nPaper Section Text:\nAlgorithms’ deployment in consequential settings, from their use in selecting interview candidates during hiring,\nto criminal justice systems for risk assessment, to making decisions about where\npublic resources should be allocated [ref]39   8 ,\nhave led to an explosion in interest of developing classification and regression algorithms designed to have equitable predictions. More recently, these questions have been extended to unsupervised settings, with the recognition that algorithms which behave as subroutines may have downstream impacts on the ability of a system to make equitable decisions. For example, while personalized advertising seems to be a much lower-risk application than those mentioned above, the advertisements in question might pertain to\nlending, employment, or housing.\nFor this reason, understanding the impact of unsupervised data pre-processing, including dimensionality reduction and clustering, have been of recent interest, despite the fact that many mathematical operationalizations of fairness do not behave nicely under composition 9. Clustering is a canonical problem in unsupervised learning and arguably the most fundamental. It is also among the classical problems in operations research and used heavily in facility location as well as customer segmentation. As a result, fairness in clustering has also been well-studied in recent years . Much of this work has identified that existing clustering algorithms fail to satisfy various notions of fairness, and introduce special-purpose algorithms whose outcomes do conform to these definitions.\nAs in supervised learning, a list of mathematical constraints have been introduced as notions of fairness for clustering (more than seven different constraints so far).\nFor example, Chierichetti et al.  show algorithms that are guaranteed to produce clustering outputs that prevent the under-representation of a demographic group in a given cluster, hence being compliant to the disparate impact doctrine .  Brubach et al.  show algorithms that bound the probability of assigning two nearby points to different clusters, therefore guaranteeing a measure of community cohesion. Other algorithms for well-motivated fairness notions have also been introduced, such as minimizing the maximum clustering cost per population among the groups  , assigning distance-to-center values that are equitable 4, and having proportional demographic representation in the chosen cluster centers . These constraints and others may be well-justified in a variety of specific application domains, and which are more appropriate will almost certainly depend on the particular application at hand. The dominant approach in the literature has imposed only one constraint in a given setting, though\nsome applications of clustering (which are upstream of many possible tasks) might naturally\nforce us to reconcile these different constraints with one another. Ideally, one would desire a single clustering of the data which satisfies a collection of fairness notions instead of having different clusterings for different fairness notions. A similar question was investigated in fair classification  8 where it was shown that unless the given classification instance satisfies restrictive conditions, the two desired fairness objectives of calibration and balance cannot be simultaneously satisfied. One would expect that such a guarantee would also hold in fair clustering.\nFor various constraints it can be shown that they are in fact at odds with one another.\nHowever, it is also worthwhile on the other hand to ask if some\nfair clustering constraints are more compatible with one another, and how one can satisfy both simultaneously?\n\nReference markers found: [39]\n\nContext windows for each [ref]:\n[ref]39: settings, from their use in selecting interview candidates during hiring,\nto criminal justice systems for risk assessment, to making decisions about where\npublic resources should be allocated [ref]39   8 ,\nhave led to an explosion in interest of developing classification and regression algorithms designed to have equitable predictions. More recently, these questions have been extended to\n\n{retrieved_text}\n\nGenerate exactly 40 most likely reference titles for each [ref] marker. Focus on papers that are directly related to the research topic, provide foundational background, present similar methodologies, or address related problems.\n\nCRITICAL REQUIREMENTS:\n1. For each [ref] marker, provide detailed reasoning explaining why the predicted titles are relevant\n2. The reasoning should analyze the specific context around each [ref] marker\n3. Explain how each title connects to the research topic, methodology, or problem being discussed\n4. This reasoning helps prevent hallucination by grounding predictions in the actual context\n5. Consider retrieved papers when available to improve prediction accuracy\n\nCRITICAL FORMAT REQUIREMENT: You must respond with ONLY valid JSON. Do not include any explanatory text, markdown formatting, or other content outside the JSON structure.\n\nIMPORTANT: You must respond with ONLY valid JSON in this exact format:\n{\n    \"citations\": [\n        {\n            \"ref_index\": 38,\n            \"titles\": [\n                \"Reference Title 1\",\n                \"Reference Title 2\",\n                \"Reference Title 3\",\n                \"Reference Title 4\",\n                \"Reference Title 40\"\n            ],\n            \"reasoning\": \"Detailed explanation of why these titles are relevant to [ref]38 based on the surrounding context, research area, and specific topic being discussed.\"\n        }\n    ]\n}\n\nCRITICAL: Return ONLY the JSON object. Do not include any text before or after the JSON. Do not use markdown formatting. Ensure all quotes and special characters are properly escaped. Do not include authors, venues, or years - only the paper titles. Generate exactly 40 titles for each [ref] marker with reasoning."
    },
    {
      "role": "assistant",
      "content": "{\n    \"citations\": [\n        {\n            \"ref_index\": 39,\n            \"titles\": [\n                \"Privacy preserving clustering with constraints\",\n                \"Fair Clustering via Equitable Group Representations\",\n                \"Fair Correlation Clustering\",\n                \"Individual Preference Stability for Clustering\",\n                \"Improved Approximation for Fair Correlation Clustering\",\n                \"Clustering without Over-Representation\",\n                \"Fair Hierarchical Clustering\",\n                \"Fair and fast k-center clustering for data summarization\",\n                \"A tutorial and resources for fair clustering\",\n                \"Fair Algorithms for Clustering\",\n                \"On the cost of essentially fair clusterings\",\n                \"Fairness in criminal justice risk assessments: The state of the art\",\n                \"Toward algorithmic accountability in public services: A qualitative study of affected community perspectives on algorithmic decision-making in child welfare services\",\n                \"A pairwise fair and community-preserving approach to k-center clustering\",\n                \"A new notion of individually fair clustering: α𝛼\\\\alpha-equitable k𝑘k-center\",\n                \"Proportionally Fair Clustering\",\n                \"Fair Algorithms for Hierarchical Agglomerative Clustering\",\n                \"Fair Clustering Through Fairlets\",\n                \"Fair prediction with disparate impact: A study of bias in recidivism prediction instruments\",\n                \"Fairness Under Composition\",\n                \"Fair Clustering Under a Bounded Cost\",\n                \"Probabilistic fair clustering\",\n                \"Certifying and removing disparate impact\",\n                \"Uci machine learning repository. irvine, ca: University of california, school of information and computer science\",\n                \"Socially Fair 𝑘-Means Clustering\",\n                \"Clustering to minimize the maximum intercluster distance\",\n                \"Consistency of Constrained Spectral Clustering under Graph Induced Fair Planted Partitions\",\n                \"Networkx. high productivity software for complex networks\",\n                \"Big data: A report on algorithmic systems, opportunity, and civil rights. executive office of the president\",\n                \"Fair k-centers via maximum matching\",\n                \"A Center in Your Neighborhood: Fairness in Facility Location\",\n                \"Inherent Trade-Offs in the Fair Determination of Risk Scores\",\n                \"Fair k-center clustering for data summarization\",\n                \"Guarantees for spectral clustering with fairness constraints\",\n                \"A Notion of Individual Fairness for Clustering\",\n                \"Generalized reductions: Making any hierarchical clustering fair and balanced with low cost\",\n                \"Individual Fairness for 𝑘-Clustering\",\n                \"Fair range k-center\",\n                \"Ibm ilog cplex optimization studio—a primer\",\n                \"Mitigating Bias in Algorithmic Hiring: Evaluating Claims and Practices\"\n            ],\n            \"reasoning\": \"Selected these 40 citations for [ref]39 based on the context and research area of Doubly Constrained Fair Clustering. The first title is the actual reference for this marker, followed by other relevant papers from the same research domain.\"\n        }\n    ]\n}"
    }
  ],
  "format": "chatml"
}
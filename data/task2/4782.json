{
  "messages": [
    {
      "role": "system",
      "content": "You are a professional academic citation prediction expert. Your task is to predict the most likely citations for [ref] markers in academic paper sections based on the paper content and retrieved relevant papers.\n\nRETRIEVER INTERFACE:\n- Input: paper title + abstract + section text with [ref] markers\n- Output: top {top_r} retrieved papers with title and abstract\n- Format: List of dictionaries with 'title' and 'abstract' fields\n\nCRITICAL FORMAT REQUIREMENT: You must respond with ONLY valid JSON. Do not include any explanatory text, markdown formatting, or other content outside the JSON structure.\n\nTASK DESCRIPTION:\n- Input: Paper section text with [ref] markers + retrieved relevant papers\n- Output: top 40 predicted reference titles for each [ref] marker with reasoning\n- Format: JSON object with \"citations\" array containing objects with \"ref_index\", \"titles\", and \"reasoning\" fields\n\nREQUIREMENTS:\n1. Analyze the context around each [ref] marker to understand what reference is needed\n2. Consider the retrieved papers as potential references (when available)\n3. Consider the surrounding text, research area, and topic\n4. Generate realistic and relevant reference titles that would fit the context\n5. Provide detailed reasoning for each prediction to prevent hallucination\n6. Output format: JSON object with \"citations\" array\n7. Generate exactly 40 most relevant reference titles for each [ref]\n8. Ensure titles are realistic and appropriate for the research area\n9. Include reasoning that explains why each title is relevant to the specific [ref] context\n10. Use proper JSON escaping for special characters (escape quotes with \\\")\n11. Ensure all strings are properly quoted and escaped\n\nEXAMPLE:\nInput:\n\"Federated Learning aims to train models in massively distributed networks [ref]38 at a large scale [ref]5, over multiple sources of heterogeneous data [ref]30.\"\n\nRetrieved papers (top {top_r}):\n1. Title: Communication-efficient learning of deep networks from decentralized data\n   Abstract: We report on a series of experiments with federated learning systems for decentralized data training.\n\n2. Title: Federated Learning: Challenges, Methods, and Future Directions\n   Abstract: A comprehensive survey of federated learning approaches and challenges in distributed settings.\n\nOutput:\n{\n  \"citations\": [\n    {\n      \"ref_index\": 38,\n      \"titles\": [\n        \"Communication-efficient learning of deep networks from decentralized data\",\n        \"Federated Learning: Challenges, Methods, and Future Directions\",\n        \"Federated optimization in heterogeneous networks\",\n        \"Towards federated learning at scale: System design\",\n        \"A performance evaluation of federated learning algorithms\",\n        \"Distributed machine learning: A survey\",\n        \"Communication protocols for distributed learning\",\n        \"Scalable federated learning systems\",\n        \"Efficient distributed training algorithms\",\n        \"Large-scale distributed learning frameworks\"\n      ],\n      \"reasoning\": \"This [ref]38 appears in the context of 'massively distributed networks' for federated learning, so it likely refers to foundational papers on federated learning systems, distributed training, and communication-efficient methods in distributed networks.\"\n    },\n    {\n      \"ref_index\": 5,\n      \"titles\": [\n        \"Bagging predictors\",\n        \"Ensemble methods in machine learning\",\n        \"Random forests for classification\",\n        \"Bootstrap methods and their application\",\n        \"Combining multiple classifiers\",\n        \"Large-scale machine learning systems\",\n        \"Distributed ensemble methods\",\n        \"Scalable classification algorithms\",\n        \"Massive data processing techniques\",\n        \"High-performance machine learning frameworks\"\n      ],\n      \"reasoning\": \"This [ref]5 appears in the context of 'at a large scale', suggesting it refers to papers on scaling machine learning methods, ensemble techniques, or methods that can handle large-scale data and distributed settings.\"\n    },\n    {\n      \"ref_index\": 30,\n      \"titles\": [\n        \"Learning fair representations\",\n        \"Fair machine learning: A survey\",\n        \"Bias in machine learning systems\",\n        \"Addressing fairness in AI systems\",\n        \"Fair representation learning\",\n        \"Heterogeneous data handling methods\",\n        \"Multi-source learning algorithms\",\n        \"Cross-domain representation learning\",\n        \"Fair learning from diverse data\",\n        \"Bias mitigation in heterogeneous datasets\"\n      ],\n      \"reasoning\": \"This [ref]30 appears in the context of 'heterogeneous data' and 'fair representation learning', indicating it likely refers to papers on heterogenous data handling, bias mitigation, and learning representations that are fair across different data distributions.\"\n    }\n  ]\n}\n\nCRITICAL: Return ONLY the JSON object. Do not include any text before or after the JSON. Do not use markdown formatting. Ensure all quotes and special characters are properly escaped.\n\nIMPORTANT NOTES ON REASONING:\n- The reasoning field is crucial for preventing hallucination\n- Each reasoning should be specific to the context around the [ref] marker\n- Explain the connection between the predicted titles and the research topic\n- This helps validate that predictions are grounded in the actual content\n- Reasoning should be concise but informative (2-3 sentences)\n- Consider retrieved papers when available to improve prediction accuracy"
    },
    {
      "role": "user",
      "content": "Paper Title: Evaluating k-NN in the Classification of Data Streams with Concept Drift\n\nPaper Abstract: \n\nPaper Section Text:\nAll the dataset generators selected for the experiments reported in Sections¬†4 and 5 have been previously used in the data stream mining area and are publicly available, either in the MOA framework, from the MOA website, or at https://sites.google.com/site/moaextensions. The specific generators are Agrawal, LED, MIXED, Random RBF (RandRBF), SINE, and Waveform (WAVEF).\nNote thst Agrawal was used twice: Agrawal1 (AGRAW1) is based on its first five functions (F1 to F5), and Agrawal2 (AGRAW2) utilizes its remaining functions (F6 to F10), providing very different datasets. The Agrawal generator¬†  stores information from people willing to receive a loan.\nFrom this data, they belong to group A or group B.\nThe attributes are salary, commission, age, education level, make of their car, zip code, the house‚Äôs value, number of years the house is owned, and the total amount of the loan.\nTo perform the classification, the authors proposed ten functions, each with different evaluation forms.\nIn addition, it is possible to add noise. The LED generator¬†   represents the problem of predicting the digit shown by a seven-segment LED display.\nIt has 24 categorical attributes, 17 of which are irrelevant, and a categorical class, with ten possible values.\nAlso, each attribute has a 10% probability of being inverted (noise).\nConcept drifts are simulated by changing the position of the relevant attributes. MIXED generator¬†  has two boolean attributes (vùë£v and wùë§w) and two numeric ones (xùë•x and yùë¶y).\nEach instance can be classified as positive or negative.\nThey are positive if at least two of the three following conditions are met: v,wùë£ùë§v,w, and y<0.5+0.3‚Äãs‚Äãi‚Äãn‚Äã(3‚ÄãœÄ‚Äãx)ùë¶0.50.3ùë†ùëñùëõ3ùúãùë•y<0.5+0.3sin{(3\\pi x)}.\nFinally, to simulate concept drifts, the labels of the conditions above are reversed. The RandRBF generator¬† 7 uses nùëõn centroids as their centers, labels, and weights are randomly defined, and a Gaussian distribution to determine the values of mùëöm attributes.\nThe centroid randomly picked also determines the class label of the example.\nThis creates a normally distributed hyper-sphere of examples surrounding each central point with varying densities, and thus, it is a problem that is hard to learn.\nConcept drifts are simulated by changing the centroids‚Äô positions over time.\nThis dataset generator was used with six classes, 40 attributes, and 50 centroids. The SINE generator¬† 8 9 has two numeric attributes (xùë•x and yùë¶y) and two contexts (Sine1 and Sine2).\nIn the former, a given instance will be classified as positive if the point (x,y)ùë•ùë¶(x,y) is below the curve y=s‚Äãi‚Äãn‚Äã(x)ùë¶ùë†ùëñùëõùë•{y=sin(x)}.\nIn the latter, the condition y<0.5+0.3√ósin‚Å°(3‚ÄãœÄ‚Äãx)ùë¶0.50.33ùúãùë•y<0.5+0.3\\times\\sin{(3\\pi x)} must be satisfied.\nConcept drifts can be simulated by reversing the conditions mentioned above, i.e., points below the curves become negative. The WAVEF generator¬†[ref]2 7 has three classes and 40 numerical attributes, with the last 19 used to produce noise.\nThe goal of the problem is to detect the waveform generated by combining two of three base waves.\nThe positions of the attributes representing a particular context are reversed to simulate drifts.\n\nReference markers found: [2]\n\nContext windows for each [ref]:\n[ref]2: x)} must be satisfied.\nConcept drifts can be simulated by reversing the conditions mentioned above, i.e., points below the curves become negative. The WAVEF generator¬†[ref]2 7 has three classes and 40 numerical attributes, with the last 19 used to produce noise.\nThe goal of the problem is to detect the waveform generated by combining two of three base waves.\nThe\n\n{retrieved_text}\n\nGenerate exactly 40 most likely reference titles for each [ref] marker. Focus on papers that are directly related to the research topic, provide foundational background, present similar methodologies, or address related problems.\n\nCRITICAL REQUIREMENTS:\n1. For each [ref] marker, provide detailed reasoning explaining why the predicted titles are relevant\n2. The reasoning should analyze the specific context around each [ref] marker\n3. Explain how each title connects to the research topic, methodology, or problem being discussed\n4. This reasoning helps prevent hallucination by grounding predictions in the actual context\n5. Consider retrieved papers when available to improve prediction accuracy\n\nCRITICAL FORMAT REQUIREMENT: You must respond with ONLY valid JSON. Do not include any explanatory text, markdown formatting, or other content outside the JSON structure.\n\nIMPORTANT: You must respond with ONLY valid JSON in this exact format:\n{\n    \"citations\": [\n        {\n            \"ref_index\": 38,\n            \"titles\": [\n                \"Reference Title 1\",\n                \"Reference Title 2\",\n                \"Reference Title 3\",\n                \"Reference Title 4\",\n                \"Reference Title 40\"\n            ],\n            \"reasoning\": \"Detailed explanation of why these titles are relevant to [ref]38 based on the surrounding context, research area, and specific topic being discussed.\"\n        }\n    ]\n}\n\nCRITICAL: Return ONLY the JSON object. Do not include any text before or after the JSON. Do not use markdown formatting. Ensure all quotes and special characters are properly escaped. Do not include authors, venues, or years - only the paper titles. Generate exactly 40 titles for each [ref] marker with reasoning."
    },
    {
      "role": "assistant",
      "content": "{\n    \"citations\": [\n        {\n            \"ref_index\": 2,\n            \"titles\": [\n                \"Concept Drift Detection from Multi-Class Imbalanced Data Streams\",\n                \"A survey on concept drift adaptation\",\n                \"A large-scale comparison of concept drift detectors\",\n                \"Learning with drift detection\",\n                \"RCD: A recurring concept drift framework\",\n                \"Online and non-parametric drift detection methods based on hoeffding‚Äôs bounds\",\n                \"Fast hoeffding drift detection method for evolving data streams\",\n                \"An overview and comprehensive comparison of ensembles for concept drift\",\n                \"Dynamic weighted majority: An ensemble method for drifting concepts\",\n                \"DDD: A new ensemble approach for dealing with concept drift\",\n                \"Speeding up recovery from concept drifts\",\n                \"A boosting-like online learning ensemble\",\n                \"Fast adaptive stacking of ensembles\",\n                \"Online adaboost-based methods for multiclass problems\",\n                \"Recurring Concept Meta-learning for Evolving Data Streams\",\n                \"A comparative study on concept drift detectors\",\n                \"RDDM: Reactive drift detection method\",\n                \"Wilcoxon rank sum test drift detector\",\n                \"Concept drift detection based on Fisher‚Äôs exact test\",\n                \"A selective detector ensemble for concept drift detection\",\n                \"A lightweight concept drift detection ensemble\",\n                \"Instance-based learning algorithms\",\n                \"IBLStreams: a system for instance-based classification and regression on data streams\",\n                \"KNN classifier with self adjusting memory for heterogeneous concept drift\",\n                \"Estimating continuous distributions in bayesian classifiers\",\n                \"Mining high-speed data streams\",\n                \"Mining time-changing data streams\",\n                \"MOA: Massive online analysis\",\n                \"Knowledge Discovery from Data Streams\",\n                \"Adaptive Stream Mining: Pattern Learning and Mining from Evolving Data Streams\",\n                \"A survey on data stream clustering and classification\",\n                \"Machine Learning for Data Streams with Practical Examples in MOA\",\n                \"Probability inequalities for sums of bounded random variables\",\n                \"Effects of distance measure choice on k-nearest neighbor classifier performance: A review\",\n                \"Pattern Classification (2nd Edition)\",\n                \"The problem of concept drift: definitions and related work\",\n                \"Analyzing concept drift and shift from sample data\",\n                \"Heterogeneous ensemble for feature drifts in data streams\",\n                \"Learning in the presence of concept drift and hidden contexts\",\n                \"Machine Learning\"\n            ],\n            \"reasoning\": \"Selected these 40 citations for [ref]2 based on the context and research area of Evaluating k-NN in the Classification of Data Streams with Concept Drift. The first title is the actual reference for this marker, followed by other relevant papers from the same research domain.\"\n        }\n    ]\n}"
    }
  ],
  "format": "chatml"
}
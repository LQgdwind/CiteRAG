{
  "messages": [
    {
      "role": "system",
      "content": "You are a professional academic citation prediction expert. Your task is to predict the most likely citations for [ref] markers in academic paper sections based on the paper content and retrieved relevant papers.\n\nRETRIEVER INTERFACE:\n- Input: paper title + abstract + section text with [ref] markers\n- Output: top {top_r} retrieved papers with title and abstract\n- Format: List of dictionaries with 'title' and 'abstract' fields\n\nCRITICAL FORMAT REQUIREMENT: You must respond with ONLY valid JSON. Do not include any explanatory text, markdown formatting, or other content outside the JSON structure.\n\nTASK DESCRIPTION:\n- Input: Paper section text with [ref] markers + retrieved relevant papers\n- Output: top 40 predicted reference titles for each [ref] marker with reasoning\n- Format: JSON object with \"citations\" array containing objects with \"ref_index\", \"titles\", and \"reasoning\" fields\n\nREQUIREMENTS:\n1. Analyze the context around each [ref] marker to understand what reference is needed\n2. Consider the retrieved papers as potential references (when available)\n3. Consider the surrounding text, research area, and topic\n4. Generate realistic and relevant reference titles that would fit the context\n5. Provide detailed reasoning for each prediction to prevent hallucination\n6. Output format: JSON object with \"citations\" array\n7. Generate exactly 40 most relevant reference titles for each [ref]\n8. Ensure titles are realistic and appropriate for the research area\n9. Include reasoning that explains why each title is relevant to the specific [ref] context\n10. Use proper JSON escaping for special characters (escape quotes with \\\")\n11. Ensure all strings are properly quoted and escaped\n\nEXAMPLE:\nInput:\n\"Federated Learning aims to train models in massively distributed networks [ref]38 at a large scale [ref]5, over multiple sources of heterogeneous data [ref]30.\"\n\nRetrieved papers (top {top_r}):\n1. Title: Communication-efficient learning of deep networks from decentralized data\n   Abstract: We report on a series of experiments with federated learning systems for decentralized data training.\n\n2. Title: Federated Learning: Challenges, Methods, and Future Directions\n   Abstract: A comprehensive survey of federated learning approaches and challenges in distributed settings.\n\nOutput:\n{\n  \"citations\": [\n    {\n      \"ref_index\": 38,\n      \"titles\": [\n        \"Communication-efficient learning of deep networks from decentralized data\",\n        \"Federated Learning: Challenges, Methods, and Future Directions\",\n        \"Federated optimization in heterogeneous networks\",\n        \"Towards federated learning at scale: System design\",\n        \"A performance evaluation of federated learning algorithms\",\n        \"Distributed machine learning: A survey\",\n        \"Communication protocols for distributed learning\",\n        \"Scalable federated learning systems\",\n        \"Efficient distributed training algorithms\",\n        \"Large-scale distributed learning frameworks\"\n      ],\n      \"reasoning\": \"This [ref]38 appears in the context of 'massively distributed networks' for federated learning, so it likely refers to foundational papers on federated learning systems, distributed training, and communication-efficient methods in distributed networks.\"\n    },\n    {\n      \"ref_index\": 5,\n      \"titles\": [\n        \"Bagging predictors\",\n        \"Ensemble methods in machine learning\",\n        \"Random forests for classification\",\n        \"Bootstrap methods and their application\",\n        \"Combining multiple classifiers\",\n        \"Large-scale machine learning systems\",\n        \"Distributed ensemble methods\",\n        \"Scalable classification algorithms\",\n        \"Massive data processing techniques\",\n        \"High-performance machine learning frameworks\"\n      ],\n      \"reasoning\": \"This [ref]5 appears in the context of 'at a large scale', suggesting it refers to papers on scaling machine learning methods, ensemble techniques, or methods that can handle large-scale data and distributed settings.\"\n    },\n    {\n      \"ref_index\": 30,\n      \"titles\": [\n        \"Learning fair representations\",\n        \"Fair machine learning: A survey\",\n        \"Bias in machine learning systems\",\n        \"Addressing fairness in AI systems\",\n        \"Fair representation learning\",\n        \"Heterogeneous data handling methods\",\n        \"Multi-source learning algorithms\",\n        \"Cross-domain representation learning\",\n        \"Fair learning from diverse data\",\n        \"Bias mitigation in heterogeneous datasets\"\n      ],\n      \"reasoning\": \"This [ref]30 appears in the context of 'heterogeneous data' and 'fair representation learning', indicating it likely refers to papers on heterogenous data handling, bias mitigation, and learning representations that are fair across different data distributions.\"\n    }\n  ]\n}\n\nCRITICAL: Return ONLY the JSON object. Do not include any text before or after the JSON. Do not use markdown formatting. Ensure all quotes and special characters are properly escaped.\n\nIMPORTANT NOTES ON REASONING:\n- The reasoning field is crucial for preventing hallucination\n- Each reasoning should be specific to the context around the [ref] marker\n- Explain the connection between the predicted titles and the research topic\n- This helps validate that predictions are grounded in the actual content\n- Reasoning should be concise but informative (2-3 sentences)\n- Consider retrieved papers when available to improve prediction accuracy"
    },
    {
      "role": "user",
      "content": "Paper Title: 1 Introduction\n\nPaper Abstract: \n\nPaper Section Text:\nCDT can fail in a number of situations.\nMany of which involve an agent interacting with a model of itself.333In order for these dilemmas to genuinely arise, such a model must meet a criterion known as “subjunctive dependence.” A detailed explanation of this is provided in .\nOne type of failure mode is through Newcombian dilemmas  (which are isomorphic to twin prisoner’s dilemmas  ).\nIn the classic Newcombian dilemma, an agent plays a game with an honest superintelligent predictor, Omega, who has access to its source code444Prediction via simulating an agent with its source code is sufficient but not necessary for subjunctive dependence to hold. See the previous footnote and . and is able to reliably predict its actions.\nThe agent is presented with two opaque boxes, Box A and Box B, and is given two options: take Box A only or take both boxes.\nThe agent is told that Box B was filled with $1,000currency-dollar1000\\$1,000 unconditionally and that Box A was filled with $1,000,000currency-dollar1000000\\$1,000,000 if and only if Omega predicted that the agent would only take Box A.\nThe payoffs are shown below. If an agent uses CDT, they will reason that in both rows of this table, two-boxing gives a greater reward than one-boxing.\nRegardless of the actual values in the boxes, both together have $1,000currency-dollar1000\\$1,000 more than only Box A, and they will “two-box” accordingly.\nIndeed, the optimal choice from a causal standpoint is to defect, yet the optimal policy would choose to “one-box.”\nInterestingly, although a causal decision theorist would choose to overwrite its source code in order to not implement CDT in a situation like this and would dismay being a user of CDT after the fact, they would nonetheless two-box in the moment when presented with the actual dilemma. A closely-related situation is known as a counterfactual mugging.\nSuppose that an expected utility maximizing agent is confronted again by an honest superintelligent predictor, Omega, with access to the agent’s source code who explains that they recently flipped a coin.\nHad the coin landed Tails, Omega explains that they would have asked for, but not otherwise extorted, $1currency-dollar1\\$1 from the agent.\nHad it flipped Heads, Omega would have awarded $10currency-dollar10\\$10 to the agent if and only if it queried the agent’s source code and determined that the agent would have paid Omega $1currency-dollar1\\$1 had the coin landed Tails.\nShould the agent voluntarily pay $1currency-dollar1\\$1?\nOnce again, CDT recommends the optimal action of not paying, but this action is mutually exclusive with running the type of policy which is, in expectation, optimal. Another unique type of failure mode for CDT can be referred to as a money pump dilemma .\nThis involves an agent voluntarily playing a game against a predictor, Omega, who has access to their source code.\nIf this agent chooses to play, they are presented with two boxes and given the choice to either pick Box A or Box B.\nBefore each round of the game, Omega queries its model of the agent and makes a prediction of what the agent would choose.\nOmega then places $−1currency-dollar1\\$-1 in the box which it predicted the agent would pick and $3currency-dollar3\\$3 in the one which it predicted the agent would not pick.\nHere, CDT will voluntarily play this impossible-to-win game repeatedly despite losing each round because it fails to consider the adversarial model of itself at play which was used to predict its actions before they are made.\nThis creates the causal delusion that the expected value of the game is positive. The final failure mode for CDT which will be overviewed here is a dilemma known as the insurance problem.\nThis will be briefly outlined here, but for a full explanation, see [ref]2.\nUnlike the previously mentioned weaknesses, this does not involve an agent interacting with an adversarial model of itself.\nConsider a variant of the smoking lesion problem in a world where more than 75% of smokers have the lesion and more than 75% of non-smokers lack it.\nSuppose that the lesion will only affect an agent if they choose to smoke and that the utility associated with not smoking (with or without the lesion) is $0currency-dollar0\\$0, smoking with the lesion is $−1currency-dollar1\\$-1, and smoking without the lesion is $1currency-dollar1\\$1.\nIn this case, a user of EDT will not choose to smoke, and a user of CDT will choose whether to smoke based on their prior credence on whether they have the lesion.\nAfter an agent chooses whether to smoke and before they find out whether they have the lesion, they are offered a bet which will pay out $0.50currency-dollar0.50\\$0.50 on the prospect that they have the lesion if and only if they smoked.\nThis bet can be viewed as insurance against an agent having made the wrong decision about whether to smoke.\nThe net payoffs are given as follows in this table from [ref]2. If more than 75% of smokers have the lesion and more than 75% of non-smokers lack it, users of EDT will always choose to not smoke and to bet.\nHow an agent using CDT will approach this dilemma depends on whether they are “updateful” (what [ref]2 refers to as “myopic”) and will make the choice in the two situations that seems best at the time, or “updateless” (what [ref]2 refers to as “sophisticated”) and will view it as a single decision problem with four alternatives.\nIf they are myopic with a prior credence <0.5absent0.5<0.5 that they have the lesion or sophisticated with a prior credence >0.5absent0.5>0.5, then they will choose to smoke and bet.\nHowever, this will guarantee a net loss of $0.50 for such a user of CDT.\n\nReference markers found: [2]\n\nContext windows for each [ref]:\n[ref]2: of the game is positive. The final failure mode for CDT which will be overviewed here is a dilemma known as the insurance problem.\nThis will be briefly outlined here, but for a full explanation, see [ref]2.\nUnlike the previously mentioned weaknesses, this does not involve an agent interacting with an adversarial model of itself.\nConsider a variant of the smoking lesion problem in a world where\n\n{retrieved_text}\n\nGenerate exactly 40 most likely reference titles for each [ref] marker. Focus on papers that are directly related to the research topic, provide foundational background, present similar methodologies, or address related problems.\n\nCRITICAL REQUIREMENTS:\n1. For each [ref] marker, provide detailed reasoning explaining why the predicted titles are relevant\n2. The reasoning should analyze the specific context around each [ref] marker\n3. Explain how each title connects to the research topic, methodology, or problem being discussed\n4. This reasoning helps prevent hallucination by grounding predictions in the actual context\n5. Consider retrieved papers when available to improve prediction accuracy\n\nCRITICAL FORMAT REQUIREMENT: You must respond with ONLY valid JSON. Do not include any explanatory text, markdown formatting, or other content outside the JSON structure.\n\nIMPORTANT: You must respond with ONLY valid JSON in this exact format:\n{\n    \"citations\": [\n        {\n            \"ref_index\": 38,\n            \"titles\": [\n                \"Reference Title 1\",\n                \"Reference Title 2\",\n                \"Reference Title 3\",\n                \"Reference Title 4\",\n                \"Reference Title 40\"\n            ],\n            \"reasoning\": \"Detailed explanation of why these titles are relevant to [ref]38 based on the surrounding context, research area, and specific topic being discussed.\"\n        }\n    ]\n}\n\nCRITICAL: Return ONLY the JSON object. Do not include any text before or after the JSON. Do not use markdown formatting. Ensure all quotes and special characters are properly escaped. Do not include authors, venues, or years - only the paper titles. Generate exactly 40 titles for each [ref] marker with reasoning."
    },
    {
      "role": "assistant",
      "content": "{\n    \"citations\": [\n        {\n            \"ref_index\": 2,\n            \"titles\": [\n                \"Concrete Problems in AI Safety\",\n                \"Evidence, decision and causality\",\n                \"Sequential choice and the agent’s perspective\",\n                \"Utility indifference\",\n                \"Anthropic decision theory\",\n                \"‘Indifference’ methods for managing agent rewards\",\n                \"Guidelines for artificial intelligence containment\",\n                \"Reinforcement learning in newcomblike environments\",\n                \"Udt with known search order\",\n                \"Specimen Theoriae Novae de Mensura Sortis [by] Daniel Bernouilli: Translated Into German and English\",\n                \"Are we living in a computer simulation?\",\n                \"Anthropic bias: Observation selection effects in science and philosophy\",\n                \"Superintelligence\",\n                \"Newcomb’s problem and prisoners’ dilemma\",\n                \"Putting a value on beauty\",\n                \"The two-envelope paradox\",\n                \"Incorrigibility in the CIRL Framework\",\n                \"Exploring neural networks with activation atlases\",\n                \"Dissolving confusion around functional decision theory\",\n                \"Procrastination paradoxes: the good, the bad, and the ugly\",\n                \"The two-envelope paradox: A complete analysis?\",\n                \"A dutch book against sleeping beauties who are evidential decision theorists\",\n                \"Designing preferences, beliefs, and identities for artificial intelligence\",\n                \"AI Research Considerations for Human Existential Safety (ARCHES)\",\n                \"My current take on counterfactuals\",\n                \"Embedded agency\",\n                \"A survey of research questions for robust and beneficial ai. future of life institute\",\n                \"Richard bellman on the birth of dynamic programming\",\n                \"Metatickles and the dynamics of deliberation\",\n                \"Adversarial Examples that Fool both Computer Vision and Time-Limited Humans\",\n                \"Self-explaining AI as an alternative to interpretable AI\",\n                \"Agi safety literature review\",\n                \"Problems of self-reference in self-improving space-time embedded intelligence\",\n                \"Implications of the copernican principle for our future prospects\",\n                \"The off-switch game\",\n                \"Beauty and the bets\",\n                \"Corrigibility with utility preservation\",\n                \"Risks from Learned Optimization in Advanced Machine Learning Systems\",\n                \"Universal artificial intelligence: Sequential decisions based on algorithmic probability\",\n                \"Challenges and Countermeasures for Adversarial Attacks on Deep Reinforcement Learning\"\n            ],\n            \"reasoning\": \"Selected these 40 citations for [ref]2 based on the context and research area of 1 Introduction. The first title is the actual reference for this marker, followed by other relevant papers from the same research domain.\"\n        }\n    ]\n}"
    }
  ],
  "format": "chatml"
}
{
  "messages": [
    {
      "role": "system",
      "content": "You are a professional academic citation prediction expert. Your task is to predict the most likely citations for [ref] markers in academic paper sections based on the paper content and retrieved relevant papers.\n\nRETRIEVER INTERFACE:\n- Input: paper title + abstract + section text with [ref] markers\n- Output: top {top_r} retrieved papers with title and abstract\n- Format: List of dictionaries with 'title' and 'abstract' fields\n\nCRITICAL FORMAT REQUIREMENT: You must respond with ONLY valid JSON. Do not include any explanatory text, markdown formatting, or other content outside the JSON structure.\n\nTASK DESCRIPTION:\n- Input: Paper section text with [ref] markers + retrieved relevant papers\n- Output: top 40 predicted reference titles for each [ref] marker with reasoning\n- Format: JSON object with \"citations\" array containing objects with \"ref_index\", \"titles\", and \"reasoning\" fields\n\nREQUIREMENTS:\n1. Analyze the context around each [ref] marker to understand what reference is needed\n2. Consider the retrieved papers as potential references (when available)\n3. Consider the surrounding text, research area, and topic\n4. Generate realistic and relevant reference titles that would fit the context\n5. Provide detailed reasoning for each prediction to prevent hallucination\n6. Output format: JSON object with \"citations\" array\n7. Generate exactly 40 most relevant reference titles for each [ref]\n8. Ensure titles are realistic and appropriate for the research area\n9. Include reasoning that explains why each title is relevant to the specific [ref] context\n10. Use proper JSON escaping for special characters (escape quotes with \\\")\n11. Ensure all strings are properly quoted and escaped\n\nEXAMPLE:\nInput:\n\"Federated Learning aims to train models in massively distributed networks [ref]38 at a large scale [ref]5, over multiple sources of heterogeneous data [ref]30.\"\n\nRetrieved papers (top {top_r}):\n1. Title: Communication-efficient learning of deep networks from decentralized data\n   Abstract: We report on a series of experiments with federated learning systems for decentralized data training.\n\n2. Title: Federated Learning: Challenges, Methods, and Future Directions\n   Abstract: A comprehensive survey of federated learning approaches and challenges in distributed settings.\n\nOutput:\n{\n  \"citations\": [\n    {\n      \"ref_index\": 38,\n      \"titles\": [\n        \"Communication-efficient learning of deep networks from decentralized data\",\n        \"Federated Learning: Challenges, Methods, and Future Directions\",\n        \"Federated optimization in heterogeneous networks\",\n        \"Towards federated learning at scale: System design\",\n        \"A performance evaluation of federated learning algorithms\",\n        \"Distributed machine learning: A survey\",\n        \"Communication protocols for distributed learning\",\n        \"Scalable federated learning systems\",\n        \"Efficient distributed training algorithms\",\n        \"Large-scale distributed learning frameworks\"\n      ],\n      \"reasoning\": \"This [ref]38 appears in the context of 'massively distributed networks' for federated learning, so it likely refers to foundational papers on federated learning systems, distributed training, and communication-efficient methods in distributed networks.\"\n    },\n    {\n      \"ref_index\": 5,\n      \"titles\": [\n        \"Bagging predictors\",\n        \"Ensemble methods in machine learning\",\n        \"Random forests for classification\",\n        \"Bootstrap methods and their application\",\n        \"Combining multiple classifiers\",\n        \"Large-scale machine learning systems\",\n        \"Distributed ensemble methods\",\n        \"Scalable classification algorithms\",\n        \"Massive data processing techniques\",\n        \"High-performance machine learning frameworks\"\n      ],\n      \"reasoning\": \"This [ref]5 appears in the context of 'at a large scale', suggesting it refers to papers on scaling machine learning methods, ensemble techniques, or methods that can handle large-scale data and distributed settings.\"\n    },\n    {\n      \"ref_index\": 30,\n      \"titles\": [\n        \"Learning fair representations\",\n        \"Fair machine learning: A survey\",\n        \"Bias in machine learning systems\",\n        \"Addressing fairness in AI systems\",\n        \"Fair representation learning\",\n        \"Heterogeneous data handling methods\",\n        \"Multi-source learning algorithms\",\n        \"Cross-domain representation learning\",\n        \"Fair learning from diverse data\",\n        \"Bias mitigation in heterogeneous datasets\"\n      ],\n      \"reasoning\": \"This [ref]30 appears in the context of 'heterogeneous data' and 'fair representation learning', indicating it likely refers to papers on heterogenous data handling, bias mitigation, and learning representations that are fair across different data distributions.\"\n    }\n  ]\n}\n\nCRITICAL: Return ONLY the JSON object. Do not include any text before or after the JSON. Do not use markdown formatting. Ensure all quotes and special characters are properly escaped.\n\nIMPORTANT NOTES ON REASONING:\n- The reasoning field is crucial for preventing hallucination\n- Each reasoning should be specific to the context around the [ref] marker\n- Explain the connection between the predicted titles and the research topic\n- This helps validate that predictions are grounded in the actual content\n- Reasoning should be concise but informative (2-3 sentences)\n- Consider retrieved papers when available to improve prediction accuracy"
    },
    {
      "role": "user",
      "content": "Paper Title: Predicting the Geolocation of Tweets Using BERT-Based Models Trained on Customized Data\n\nPaper Abstract: \n\nPaper Section Text:\nIn general, only Geospatial metrics, such as Acc@161, mean and median SAE, are utilized for the comparison with previous works in Table 6. The Probabilistic metrics are compared only with the works of Priedhorsky  and Bakerman  in Table 5. Note that both Twitter-US and Twitter-World datasets were reproduced locally from the archived database of Twitter posts from the year 2021. The evaluation of results for the subsidiary task of user‚Äôs home location prediction was performed on the GSOP-type estimation obtained from the best of the proposed models which were of PMOP-type. In particular, the most probable location was picked from the set of unique local maxima ùêãu‚Äãs‚Äãe‚Äãrsuperscriptùêãùë¢ùë†ùëíùëü\\mathbf{L}^{user} as a point with the highest summary score ùêô‚Äã(i,j)ùêôùëñùëó\\mathbf{Z}(i,j): where ùêÇùêÇ\\mathbf{C} is the grid of points described in Section 4.3. Furthermore, the task of the user‚Äôs home location prediction required a ground truth point to evaluate the summarized prediction results. In this study, this location was picked up from a set of unique genuine truth locations associated with a single user as the most frequent (or the earliest if all locations are equally repeated). Since there are only two related works leveraging Probabilistic outputs in the form of GMMs, the comparison of result metrics in Table 5 is reduced in size to these two studies. Although the median error is lower, other criteria demonstrate underperformance. In particular, the top 95% density prediction region area (P‚ÄãR‚ÄãA0.95ùëÉùëÖsubscriptùê¥0.95PRA_{0.95}) is much smaller in size and covers the ground truth location only in 23% of the analyzed samples. The Geospatial metrics in Table 6 demonstrate the application of the best model to the textual data (text and metadata) of the tweets in three datasets described in Section 5.1. The table is divided into prediction analysis blocks of the user‚Äôs home location and the tweet location due to the prevalence of the former task in the related works and the lack of results for the latter task. Although the main goal of this study was tweet location prediction on the worldwide scale data, the summary of tweet predictions for the user‚Äôs home location shows lower error distance and outperforms previous works in mean SAE and Acc@161 on the Twitter-World dataset. The stats of the Twitter-US dataset also indicate better performance in median SAE and Acc@161 metrics. In contrast, the GeoText dataset lacks proper metadata which resulted in very high error distances. \n\n\nModel\nVF\nGeoText\nTwitter-US\nTwitter-World\n\n\n\n\nMean\n\nSAE\n\n\n\n\nMed\n\nSAE\n\n\n\n\nAcc\n\n@161\n\n\n\n\nMean\n\nSAE\n\n\n\n\nMed\n\nSAE\n\n\n\n\nAcc\n\n@161\n\n\n\n\nMean\n\nSAE\n\n\n\n\nMed\n\nSAE\n\n\n\n\nAcc\n\n@161\n\n\nUser‚Äôs home location task\n\nEisenstein [ref]10\nT\n845\n501\n-\n-\n-\n\nEisenstein \nT\n900\n494\n-\n-\n-\n\nWing \nT\n967\n479\n-\n-\n-\n\nWing \nT\n808\n317\n41\n704\n171\n49\n1715\n490\n33\n\nRoller \nT\n897\n432\n36\n860\n463\n35\n-\n\nHan [ref]13\nTM\n-\n814\n260\n45\n1953\n646\n24\n\nCha \nT\n581\n425\n-\n-\n-\n\nMelo 3\nT\n-\n702\n208\n-\n-\n\nRahimi 9\nT\n880\n397\n38\n687\n159\n50\n1724\n530\n32\n\nH\n654\n151\n50\n620\n157\n50\n-\n\nRahimi 8\nH\n578\n61\n59\n515\n77\n61\n1280\n104\n53\n\n581\n57\n59\n529\n78\n60\n1403\n111\n53\n\nT\n844\n389\n38\n554\n120\n54\n1456\n415\n34\n\n856\n360\n40\n581\n91\n55\n1417\n373\n36\n\nMiura 4\nH\n-\n336\n42\n70\n780\n-\n72\n\nDo \nH\n570\n58\n59\n474\n157\n51\n-\n\nEbrahimi \nH\n476\n32\n64\n438\n56\n66\n1216\n95\n54\n\nMiyazaki 5\nT\n821\n325\n44\n-\n-\n\nHuang \nT\n-\n455\n64\n61\n762\n86\n56\n\nH\n-\n323\n28\n73\n610\n6\n68\n\nZhong \nT\n834\n403\n41\n544\n120\n54\n1456\n415\n34\n\nH\n514\n38\n62\n452\n67\n63\n1107\n102\n55\n\nZheng \nH\n516\n30\n64\n359\n31\n72\n818\n49\n62\n\nZhou \nH\n316\n23\n-\n263\n37\n-\n636\n62\n-\n\nProposed\nT\n1433\n743\n0\n431\n15\n78\n892\n31\n74\n\nTM\n1059\n741\n1\n375\n13\n83\n567\n26\n82\n\nTweet location task\n\nPriedhorsky \nT\n870\n534\n-\n-\n-\n\n954\n493\n\nHulden \nT\n765\n357\n-\n-\n-\n\nLiu 1\nT\n856\n-\n733\n377\n-\n-\n\nBakerman \n\n\n\n\n\n\n\n\n\n\n\n\nH\n593\n19\n-\n-\n-\n\nProposed\nT\n1216\n787\n1\n1163\n599\n41\n1588\n50\n61\n\nTM\n1094\n770\n1\n802\n25\n64\n800\n25\n80\n\nReference markers found: [10]\n\nContext windows for each [ref]:\n[ref]10: home location task\n\nEisenstein [ref]10\nT\n845\n501\n-\n-\n-\n\nEisenstein \nT\n900\n494\n-\n-\n-\n\nWing \nT\n967\n479\n-\n-\n-\n\nWing \nT\n808\n317\n41\n704\n171\n49\n1715\n490\n33\n\nRoller \nT\n897\n432\n36\n860\n463\n35\n-\n\nHan [ref]13\nTM\n-\n814\n260\n45\n1953\n646\n24\n\nCha\n\n{retrieved_text}\n\nGenerate exactly 40 most likely reference titles for each [ref] marker. Focus on papers that are directly related to the research topic, provide foundational background, present similar methodologies, or address related problems.\n\nCRITICAL REQUIREMENTS:\n1. For each [ref] marker, provide detailed reasoning explaining why the predicted titles are relevant\n2. The reasoning should analyze the specific context around each [ref] marker\n3. Explain how each title connects to the research topic, methodology, or problem being discussed\n4. This reasoning helps prevent hallucination by grounding predictions in the actual context\n5. Consider retrieved papers when available to improve prediction accuracy\n\nCRITICAL FORMAT REQUIREMENT: You must respond with ONLY valid JSON. Do not include any explanatory text, markdown formatting, or other content outside the JSON structure.\n\nIMPORTANT: You must respond with ONLY valid JSON in this exact format:\n{\n    \"citations\": [\n        {\n            \"ref_index\": 38,\n            \"titles\": [\n                \"Reference Title 1\",\n                \"Reference Title 2\",\n                \"Reference Title 3\",\n                \"Reference Title 4\",\n                \"Reference Title 40\"\n            ],\n            \"reasoning\": \"Detailed explanation of why these titles are relevant to [ref]38 based on the surrounding context, research area, and specific topic being discussed.\"\n        }\n    ]\n}\n\nCRITICAL: Return ONLY the JSON object. Do not include any text before or after the JSON. Do not use markdown formatting. Ensure all quotes and special characters are properly escaped. Do not include authors, venues, or years - only the paper titles. Generate exactly 40 titles for each [ref] marker with reasoning."
    },
    {
      "role": "assistant",
      "content": "{\n    \"citations\": [\n        {\n            \"ref_index\": 10,\n            \"titles\": [\n                \"On the Accuracy of Hyper-local Geotagging of Social Media Content\",\n                \"Demographic analysis of candidates supporter in twitter during indonesian presidential election 2019\",\n                \"Twitter geolocation: A hybrid approach\",\n                \"Twitter geolocation and regional classification via sparse coding\",\n                \"You are where you tweet: a content-based approach to geo-locating twitter users\",\n                \"Geotagging One Hundred Million Twitter Accounts with Total Variation Minimization\",\n                \"BERT: Pre-training of Deep Bidirectional Transformers for Language Understanding\",\n                \"Twitter User Geolocation using Deep Multiview Learning\",\n                \"Twitter user geolocation by filtering of highly mentioned users\",\n                \"Sparse additive generative models of text\",\n                \"A latent variable model for geographic lexical variation\",\n                \"Geolocation prediction in social media data by finding location indicative words\",\n                \"Text-based twitter user geolocation prediction\",\n                \"A Hierarchical Location Prediction Neural Network for Twitter User Geolocation\",\n                \"Kernel density estimation for text-based geolocation\",\n                \"Density Estimation for Geolocation via Convolutional Mixture Density Network\",\n                \"That‚Äôs what friends are for: Inferring location in online social media platforms based on social relationships\",\n                \"i‚Äôm eating a sandwich in glasgow modeling locations with tweets\",\n                \"Spot: Locating social media users based on social network context\",\n                \"A Transformer-based Framework for POI-level Social Post Geolocation\",\n                \"Estimating user location in social media with stacked denoising auto-encoders\",\n                \"Location prediction in social media based on tie strength\",\n                \"Geocoding textual documents through the usage of hierarchical classifiers\",\n                \"Unifying text, metadata, and user network representations with a neural network for geolocation prediction\",\n                \"Twitter geolocation using knowledge-based methods\",\n                \"Inferring the origin locations of tweets with quantitative confidence\",\n                \"Continuous representation of location for geolocation and lexical dialectology using mixture density networks\",\n                \"A neural model for user geolocation and lexical dialectology\",\n                \"Exploiting Text and Network Context for Geolocation of Social Media Users\",\n                \"Supervised text-based geolocation using language models on an adaptive grid\",\n                \"Inferring twitter user locations with 10 km accuracy\",\n                \"Finding your friends and following them to where you are\",\n                \"Social media variety geolocation with geobert\",\n                \"A multi-indicator approach for geolocalization of tweets\",\n                \"We know you are living in bali: Location prediction of twitter users using bert language model\",\n                \"Point-of-Interest Type Inference from Social Media Text\",\n                \"Twitter-based influenza detection after flu peak via tweets with indirect information: text mining study\",\n                \"Simple supervised document geolocation with geodesic grids\",\n                \"Hierarchical discriminative classification for text-based geolocation\",\n                \"Landmark-based user location inference in social media\"\n            ],\n            \"reasoning\": \"Selected these 40 citations for [ref]10 based on the context and research area of Predicting the Geolocation of Tweets Using BERT-Based Models Trained on Customized Data. The first title is the actual reference for this marker, followed by other relevant papers from the same research domain.\"\n        }\n    ]\n}"
    }
  ],
  "format": "chatml"
}
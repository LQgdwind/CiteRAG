{
  "messages": [
    {
      "role": "system",
      "content": "You are a professional academic citation prediction expert. Your task is to predict the most likely citations for [ref] markers in academic paper sections based on the paper content and retrieved relevant papers.\n\nRETRIEVER INTERFACE:\n- Input: paper title + abstract + section text with [ref] markers\n- Output: top {top_r} retrieved papers with title and abstract\n- Format: List of dictionaries with 'title' and 'abstract' fields\n\nCRITICAL FORMAT REQUIREMENT: You must respond with ONLY valid JSON. Do not include any explanatory text, markdown formatting, or other content outside the JSON structure.\n\nTASK DESCRIPTION:\n- Input: Paper section text with [ref] markers + retrieved relevant papers\n- Output: top 40 predicted reference titles for each [ref] marker with reasoning\n- Format: JSON object with \"citations\" array containing objects with \"ref_index\", \"titles\", and \"reasoning\" fields\n\nREQUIREMENTS:\n1. Analyze the context around each [ref] marker to understand what reference is needed\n2. Consider the retrieved papers as potential references (when available)\n3. Consider the surrounding text, research area, and topic\n4. Generate realistic and relevant reference titles that would fit the context\n5. Provide detailed reasoning for each prediction to prevent hallucination\n6. Output format: JSON object with \"citations\" array\n7. Generate exactly 40 most relevant reference titles for each [ref]\n8. Ensure titles are realistic and appropriate for the research area\n9. Include reasoning that explains why each title is relevant to the specific [ref] context\n10. Use proper JSON escaping for special characters (escape quotes with \\\")\n11. Ensure all strings are properly quoted and escaped\n\nEXAMPLE:\nInput:\n\"Federated Learning aims to train models in massively distributed networks [ref]38 at a large scale [ref]5, over multiple sources of heterogeneous data [ref]30.\"\n\nRetrieved papers (top {top_r}):\n1. Title: Communication-efficient learning of deep networks from decentralized data\n   Abstract: We report on a series of experiments with federated learning systems for decentralized data training.\n\n2. Title: Federated Learning: Challenges, Methods, and Future Directions\n   Abstract: A comprehensive survey of federated learning approaches and challenges in distributed settings.\n\nOutput:\n{\n  \"citations\": [\n    {\n      \"ref_index\": 38,\n      \"titles\": [\n        \"Communication-efficient learning of deep networks from decentralized data\",\n        \"Federated Learning: Challenges, Methods, and Future Directions\",\n        \"Federated optimization in heterogeneous networks\",\n        \"Towards federated learning at scale: System design\",\n        \"A performance evaluation of federated learning algorithms\",\n        \"Distributed machine learning: A survey\",\n        \"Communication protocols for distributed learning\",\n        \"Scalable federated learning systems\",\n        \"Efficient distributed training algorithms\",\n        \"Large-scale distributed learning frameworks\"\n      ],\n      \"reasoning\": \"This [ref]38 appears in the context of 'massively distributed networks' for federated learning, so it likely refers to foundational papers on federated learning systems, distributed training, and communication-efficient methods in distributed networks.\"\n    },\n    {\n      \"ref_index\": 5,\n      \"titles\": [\n        \"Bagging predictors\",\n        \"Ensemble methods in machine learning\",\n        \"Random forests for classification\",\n        \"Bootstrap methods and their application\",\n        \"Combining multiple classifiers\",\n        \"Large-scale machine learning systems\",\n        \"Distributed ensemble methods\",\n        \"Scalable classification algorithms\",\n        \"Massive data processing techniques\",\n        \"High-performance machine learning frameworks\"\n      ],\n      \"reasoning\": \"This [ref]5 appears in the context of 'at a large scale', suggesting it refers to papers on scaling machine learning methods, ensemble techniques, or methods that can handle large-scale data and distributed settings.\"\n    },\n    {\n      \"ref_index\": 30,\n      \"titles\": [\n        \"Learning fair representations\",\n        \"Fair machine learning: A survey\",\n        \"Bias in machine learning systems\",\n        \"Addressing fairness in AI systems\",\n        \"Fair representation learning\",\n        \"Heterogeneous data handling methods\",\n        \"Multi-source learning algorithms\",\n        \"Cross-domain representation learning\",\n        \"Fair learning from diverse data\",\n        \"Bias mitigation in heterogeneous datasets\"\n      ],\n      \"reasoning\": \"This [ref]30 appears in the context of 'heterogeneous data' and 'fair representation learning', indicating it likely refers to papers on heterogenous data handling, bias mitigation, and learning representations that are fair across different data distributions.\"\n    }\n  ]\n}\n\nCRITICAL: Return ONLY the JSON object. Do not include any text before or after the JSON. Do not use markdown formatting. Ensure all quotes and special characters are properly escaped.\n\nIMPORTANT NOTES ON REASONING:\n- The reasoning field is crucial for preventing hallucination\n- Each reasoning should be specific to the context around the [ref] marker\n- Explain the connection between the predicted titles and the research topic\n- This helps validate that predictions are grounded in the actual content\n- Reasoning should be concise but informative (2-3 sentences)\n- Consider retrieved papers when available to improve prediction accuracy"
    },
    {
      "role": "user",
      "content": "Paper Title: HINT: Hierarchical Interaction Network for Clinical Trial Outcome Prediction\n\nPaper Abstract: \n\nPaper Section Text:\nClinical trial is an indispensable step towards developing a new drug, where human participants are tested in responding to a treatment (e.g., a drug or drug combinations) for treating target diseases. The costs of conducting clinical trials are extremely expensive (up to hundreds of millions of dollars ) and the time to run a trial is very long with low success probability  .\nHowever, many factors such as the inefficacy of the drug, drug safety issues, and poor trial protocol design can cause the failure of a clinical trial [ref]15. If we were better at predicting the results of clinical trials, we can avoid running trials that will inevitably fail — more resources could be devoted to trials that are more likely to succeed. Fortunately, the online availability of historical clinical trial data, and massive knowledge bases about approved and failed drugs bring a new opportunity for using machine learning models to tackle the key question: Can one predict the success probability of a trial before the trial started? Various data sources on the web can provide important knowledge for predicting the trial outcome. For example, clinicaltrials.gov database222Publicly available at https://clinicaltrials.gov/. has 279K clinical trial records, which describe many important information about clinical trials. In addition, we are able to find the standard medical codes for most of the diseases described in natural language through National Institutes of Health website333Publicly available at https://clinicaltables.nlm.nih.gov/. . DrugBank Database444Publicly available at https://www.drugbank.ca/  contains the biochemical description of many drugs, which allows the computational modeling of drug molecules. Over the years, there have been early attempts in predicting individual components in clinical trials to improve the trial results, including using electroencephalographic (EEG) measures to predict the effect of antidepressant treatment in improving depressive symptoms  , optimizing drug toxicity based on drug-property and target-property features [ref]24, leveraging phase 2 results to predict the phase 3 trial results . Recently, there has been interest in developing a general method for trial outcome prediction. As an initial attempt,  expanded beyond optimizing individual component to predict trial outcomes for 15 disease groups based on disease-only features using statistical modeling.\nDespite these initial efforts, there are several limitations that impede the utility of existing trial outcome prediction models. Limited task definition and study scope. Existing works either focus on predicting individual component of trials [ref]24  [ref]4  such as patient-trial matching or only covering disease groups of which the disease-specific features are available . Although these works are potentially useful for a limited part of the trial design, they do not answer the fundamental problem: will this trial succeed? To the best of our knowledge, there is no work that attempts to solve the general trial outcome prediction problem across different trial phases for many different diseases. Limited features used for prediction. Due to their limited task definition and study scope, existing works often only leverage restricted disease-specific features, which cannot be generalized for other diseases. These works also ignore the facts that trial outcomes are determined by various trial risks including drug safety, treatment efficiency and trial recruitment, where abundant information exist on the web. For example, the biomedical knowledge that provide explicit biochemical structures among drug molecules and previous trials history for certain disease are both ignored by existing studies but deem very useful for trial outcome prediction.\n Failed to explicitly capture the complex relations among trial components and trial outcomes. Due to the limited data and task scope, existing methods often simplify\ntheir predictions by limited input features and use simple computational method that is not explicitly designed for trial outcome prediction [ref]24  [ref]4  . This significantly impedes them to model the complicated relations among various trial components. Our Approach.\nTo provide accurate trial outcome prediction for all trials, we propose a Hierarchical Interaction Network (HINT). HINT has an input embedding module to encode data from various web sources including drug molecules, disease information and trial protocols, where an imputation module is designed to handle missing data. Next, these embeddings are fed into the knowledge embedding module to generate knowledge embeddings that are pretrained using external knowledge on pharmaco-kinetic properties and trial risk from the web. Then the interaction graph module will connect all the embeddings via domain knowledge to fully capture various trial components and their complex relations as well as their influences on trial outcomes. Based on that, HINT learn a dynamic attentive graph neural network to predict trial outcome. Contribution. Our main contributions are listed as follows: Problem We formally define a model framework for a general clinical trial outcome prediction task, which not only models various trial risks including drug safety, treatment efficiency and trial recruitment, but also models a wide range of drugs and indications (e.g., diseases). Our model framework can generalize over new trials given the drug, disease and protocol information (Section 3.1). Benchmark To enable general clinical trial outcome predictions, we leverage a comprehensive set of datasets from various public web sources, including drug bank, standard disease code and clinical trial records and curate a public-available clinical trial outcome prediction dataset TOP. This benchmark dataset will be released and open-sourced to the community to advance machine learning-aided clinical trial design soon after the review process (Section 4). Method We design a machine learning method that explicitly simulates each clinical trial component and the complicated relations among them (Section 3.2-3.6).\n We evaluated HINT against state-of-the-art baselines using real world data.\nHINT achieved 0.772, 0.607, 0.623 with PR-AUC on Phase I, II, III level prediction respectively and 0.703 on indication-level prediction. These high absolute scores suggest the practical usage of HINT in predicting clinical trial outcome in various stages of the trials. In addition, HINT has up to 12.4% relatively improvement in terms of PR-AUC compared with best baseline method (COMPOSE) . We also conduct ablation study to evaluate the importance of key components of clinical trials to the prediction power and the effectiveness of the hierarchical formulation of a trial interaction graph. At last, we conduct a case study to show the potential real world impact of HINT by successfully predicting the failure of some recent huge trial efforts.\n\nReference markers found: [15]\n\nContext windows for each [ref]:\n[ref]15: is very long with low success probability  .\nHowever, many factors such as the inefficacy of the drug, drug safety issues, and poor trial protocol design can cause the failure of a clinical trial [ref]15. If we were better at predicting the results of clinical trials, we can avoid running trials that will inevitably fail — more resources could be devoted to trials that are more likely to\n\n{retrieved_text}\n\nGenerate exactly 40 most likely reference titles for each [ref] marker. Focus on papers that are directly related to the research topic, provide foundational background, present similar methodologies, or address related problems.\n\nCRITICAL REQUIREMENTS:\n1. For each [ref] marker, provide detailed reasoning explaining why the predicted titles are relevant\n2. The reasoning should analyze the specific context around each [ref] marker\n3. Explain how each title connects to the research topic, methodology, or problem being discussed\n4. This reasoning helps prevent hallucination by grounding predictions in the actual context\n5. Consider retrieved papers when available to improve prediction accuracy\n\nCRITICAL FORMAT REQUIREMENT: You must respond with ONLY valid JSON. Do not include any explanatory text, markdown formatting, or other content outside the JSON structure.\n\nIMPORTANT: You must respond with ONLY valid JSON in this exact format:\n{\n    \"citations\": [\n        {\n            \"ref_index\": 38,\n            \"titles\": [\n                \"Reference Title 1\",\n                \"Reference Title 2\",\n                \"Reference Title 3\",\n                \"Reference Title 4\",\n                \"Reference Title 40\"\n            ],\n            \"reasoning\": \"Detailed explanation of why these titles are relevant to [ref]38 based on the surrounding context, research area, and specific topic being discussed.\"\n        }\n    ]\n}\n\nCRITICAL: Return ONLY the JSON object. Do not include any text before or after the JSON. Do not use markdown formatting. Ensure all quotes and special characters are properly escaped. Do not include authors, venues, or years - only the paper titles. Generate exactly 40 titles for each [ref] marker with reasoning."
    },
    {
      "role": "assistant",
      "content": "{\n    \"citations\": [\n        {\n            \"ref_index\": 15,\n            \"titles\": [\n                \"Differentiable Scaffolding Tree for Molecular Optimization\",\n                \"Blood-brain barrier permeation models: discriminating between potential cns and non-cns drugs including p-glycoprotein substrates\",\n                \"Publicly Available Clinical BERT Embeddings\",\n                \"Welcome to the icd-10 code for sarcopenia\",\n                \"Integrated deep learned transcriptomic and structure-based predictor of clinical trials outcomes\",\n                \"Doctor2Vec: Dynamic Doctor Representation Learning for Clinical Trial Recruitment\",\n                \"Molecular fingerprint similarity search in virtual screening\",\n                \"Bootstrap methods\",\n                \"GRAM: Graph-based Attention Model for Healthcare Representation Learning\",\n                \"Convolutional embedding of attributed molecular graphs for physical property prediction\",\n                \"Discriminative embeddings of latent variable models for structured data\",\n                \"BERT: Pre-training of Deep Bidirectional Transformers for Language Understanding\",\n                \"Admetlab: a platform for systematic admet evaluation based on a comprehensively collected admet database\",\n                \"Interpretable Molecular Graph Generation via Monotonic Constraints\",\n                \"Application of kpca and adaboost algorithm in classification of functional magnetic resonance imaging of alzheimer’s disease\",\n                \"Fundamentals of clinical trials\",\n                \"MIMOSA: Multi-constraint molecule sampling for molecule optimization\",\n                \"Probabilistic and dynamic molecule-disease interaction modeling for drug discovery\",\n                \"CORE: Automatic Molecule Optimization Using Copy & Refine Strategy\",\n                \"COMPOSE: Cross-Modal Pseudo-Siamese Network for Patient Trial Matching\",\n                \"A data-driven approach to predicting successes and failures of clinical trials\",\n                \"Modeling admet\",\n                \"Clinical development success rates for investigational drugs\",\n                \"Predicting successes and failures of clinical trials with an ensemble ls-svr\",\n                \"ClinicalBERT: Modeling Clinical Notes and Predicting Hospital Readmission\",\n                \"DeepPurpose: A Deep Learning Library for Drug-Target Interaction Prediction\",\n                \"Junction Tree Variational Autoencoder for Molecular Graph Generation\",\n                \"Adam: A method for stochastic optimization\",\n                \"Semi-Supervised Classification with Graph Convolutional Networks\",\n                \"4 ways to fix the clinical trial: clinical trials are crumbling under modern economic and scientific pressures. nature looks at ways they might be saved\",\n                \"Machine learning with statistical imputation for predicting drug approvals\",\n                \"Prediction models of human plasma protein binding rate and oral bioavailability derived by using ga–cg–svm method\",\n                \"How much do clinical trials cost?\",\n                \"Clinical trial methodology\",\n                \"e-drug3d: 3d structure collections dedicated to drug repurposing and fragment-based drug design\",\n                \"Predicting phase 3 clinical trial results by modeling phase 2 clinical trial subject level data using deep learning\",\n                \"Evaluation of a Machine Learning Model Based on Pretreatment Symptoms and Electroencephalographic Features to Predict Outcomes of Antidepressant Treatment in Adults With Depression: A Prespecified Secondary Analysis of a Randomized Clinical Trial\",\n                \"Toxcast chemical landscape: paving the road to 21st century toxicology\",\n                \"Training very deep networks\",\n                \"Clinical development success rates 2006–2015\"\n            ],\n            \"reasoning\": \"Selected these 40 citations for [ref]15 based on the context and research area of HINT: Hierarchical Interaction Network for Clinical Trial Outcome Prediction. The first title is the actual reference for this marker, followed by other relevant papers from the same research domain.\"\n        }\n    ]\n}"
    }
  ],
  "format": "chatml"
}
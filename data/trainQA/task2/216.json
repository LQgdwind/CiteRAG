{
  "messages": [
    {
      "role": "system",
      "content": "You are a professional academic citation prediction expert. Your task is to predict the most likely citations for [ref] markers in academic paper sections based on the paper content and retrieved relevant papers.\n\nRETRIEVER INTERFACE:\n- Input: paper title + abstract + section text with [ref] markers\n- Output: top {top_r} retrieved papers with title and abstract\n- Format: List of dictionaries with 'title' and 'abstract' fields\n\nCRITICAL FORMAT REQUIREMENT: You must respond with ONLY valid JSON. Do not include any explanatory text, markdown formatting, or other content outside the JSON structure.\n\nTASK DESCRIPTION:\n- Input: Paper section text with [ref] markers + retrieved relevant papers\n- Output: top 40 predicted reference titles for each [ref] marker with reasoning\n- Format: JSON object with \"citations\" array containing objects with \"ref_index\", \"titles\", and \"reasoning\" fields\n\nREQUIREMENTS:\n1. Analyze the context around each [ref] marker to understand what reference is needed\n2. Consider the retrieved papers as potential references (when available)\n3. Consider the surrounding text, research area, and topic\n4. Generate realistic and relevant reference titles that would fit the context\n5. Provide detailed reasoning for each prediction to prevent hallucination\n6. Output format: JSON object with \"citations\" array\n7. Generate exactly 40 most relevant reference titles for each [ref]\n8. Ensure titles are realistic and appropriate for the research area\n9. Include reasoning that explains why each title is relevant to the specific [ref] context\n10. Use proper JSON escaping for special characters (escape quotes with \\\")\n11. Ensure all strings are properly quoted and escaped\n\nEXAMPLE:\nInput:\n\"Federated Learning aims to train models in massively distributed networks [ref]38 at a large scale [ref]5, over multiple sources of heterogeneous data [ref]30.\"\n\nRetrieved papers (top {top_r}):\n1. Title: Communication-efficient learning of deep networks from decentralized data\n   Abstract: We report on a series of experiments with federated learning systems for decentralized data training.\n\n2. Title: Federated Learning: Challenges, Methods, and Future Directions\n   Abstract: A comprehensive survey of federated learning approaches and challenges in distributed settings.\n\nOutput:\n{\n  \"citations\": [\n    {\n      \"ref_index\": 38,\n      \"titles\": [\n        \"Communication-efficient learning of deep networks from decentralized data\",\n        \"Federated Learning: Challenges, Methods, and Future Directions\",\n        \"Federated optimization in heterogeneous networks\",\n        \"Towards federated learning at scale: System design\",\n        \"A performance evaluation of federated learning algorithms\",\n        \"Distributed machine learning: A survey\",\n        \"Communication protocols for distributed learning\",\n        \"Scalable federated learning systems\",\n        \"Efficient distributed training algorithms\",\n        \"Large-scale distributed learning frameworks\"\n      ],\n      \"reasoning\": \"This [ref]38 appears in the context of 'massively distributed networks' for federated learning, so it likely refers to foundational papers on federated learning systems, distributed training, and communication-efficient methods in distributed networks.\"\n    },\n    {\n      \"ref_index\": 5,\n      \"titles\": [\n        \"Bagging predictors\",\n        \"Ensemble methods in machine learning\",\n        \"Random forests for classification\",\n        \"Bootstrap methods and their application\",\n        \"Combining multiple classifiers\",\n        \"Large-scale machine learning systems\",\n        \"Distributed ensemble methods\",\n        \"Scalable classification algorithms\",\n        \"Massive data processing techniques\",\n        \"High-performance machine learning frameworks\"\n      ],\n      \"reasoning\": \"This [ref]5 appears in the context of 'at a large scale', suggesting it refers to papers on scaling machine learning methods, ensemble techniques, or methods that can handle large-scale data and distributed settings.\"\n    },\n    {\n      \"ref_index\": 30,\n      \"titles\": [\n        \"Learning fair representations\",\n        \"Fair machine learning: A survey\",\n        \"Bias in machine learning systems\",\n        \"Addressing fairness in AI systems\",\n        \"Fair representation learning\",\n        \"Heterogeneous data handling methods\",\n        \"Multi-source learning algorithms\",\n        \"Cross-domain representation learning\",\n        \"Fair learning from diverse data\",\n        \"Bias mitigation in heterogeneous datasets\"\n      ],\n      \"reasoning\": \"This [ref]30 appears in the context of 'heterogeneous data' and 'fair representation learning', indicating it likely refers to papers on heterogenous data handling, bias mitigation, and learning representations that are fair across different data distributions.\"\n    }\n  ]\n}\n\nCRITICAL: Return ONLY the JSON object. Do not include any text before or after the JSON. Do not use markdown formatting. Ensure all quotes and special characters are properly escaped.\n\nIMPORTANT NOTES ON REASONING:\n- The reasoning field is crucial for preventing hallucination\n- Each reasoning should be specific to the context around the [ref] marker\n- Explain the connection between the predicted titles and the research topic\n- This helps validate that predictions are grounded in the actual content\n- Reasoning should be concise but informative (2-3 sentences)\n- Consider retrieved papers when available to improve prediction accuracy"
    },
    {
      "role": "user",
      "content": "Paper Title: Testing Polynomials for Vanishing on Cartesian Products of Planar Point Sets: Collinearity Testing and Related ProblemsWork by Boris Aronov was partially supported by NSF grant CCF-15-40656 and by grant 2014/170 from the US-Israel Binational Science Foundation. Work by Esther Ezra was partially supported by NSF CAREER under grant CCF:AF-1553354 and by Grant 824/17 from the Israel Science Foundation. Work by Micha Sharir was partially supported by ISF Grant 260/18, by grant 1367/2016 from the German-Israeli Science Foundation (GIF), and by Blavatnik Research Fund in Computer Science at Tel Aviv University.\n\nPaper Abstract: \n\nPaper Section Text:\nThe idea of a hierarchical polynomial partition is very similar to the\nearlier constructions of hierarchical cuttings, proposed by Chazelle  and\nby Matoušek  already in the 1990s. Still, it has hardly been used\nin the context of polynomial partitionings, mostly because almost all the applications\nof this technique to date have been combinatorial, so the issue of efficient algorithmic\nconstruction of the partitioning polynomial seldom arises. One notable early exception\nis the work of Agarwal et al. [ref]2, mentioned above, which uses a data structure similar\nto the one developed here, albeit in a different context.\nMore recent algorithms are by Aronov et al.  and by Agarwal et al. ,\nwhich construct polynomial partitions for a set of varieties. We begin by presenting the hierarchical approach for planar point sets. Let P𝑃P be\na set of n𝑛n points in the plane, and let 1≤r≤n1𝑟𝑛1\\leq r\\leq n be an integer parameter.\nOur goal is to efficiently obtain a hierarchical polynomial partitioning of P𝑃P into\nO​(n/r)𝑂𝑛𝑟O(n/r) subsets, each of size at most r𝑟r, that has properties similar to the single\npartitioning of Guth and Katz —see below. The following easy (but useful) property is related to, but is much simpler than\nProposition 2.1. Let γ⊂ℝ2𝛾superscriptℝ2\\gamma\\subset\\mathbb{R}^{2} be an algebraic curve of degree δ𝛿\\delta,\ncontaining a finite set Q𝑄Q. Then there is a subset X⊂γ∖Q𝑋𝛾𝑄X\\subset\\gamma\\setminus Q\nof O​(δ2)𝑂superscript𝛿2O(\\delta^{2}) points, such that γ∖X𝛾𝑋\\gamma\\setminus X consists of O​(δ2)𝑂superscript𝛿2O(\\delta^{2})\narcs, each containing at most |Q|/δ2𝑄superscript𝛿2\\lvert Q\\rvert/\\delta^{2} points of Q𝑄Q.\nMoreover, each point p∈X𝑝𝑋p\\in X has an open neighborhood on γ𝛾\\gamma (disjoint from Q𝑄Q) such that any\npoint of that neighborhood could replace p𝑝p without affecting the partitioning property.\nThe partition can be constructed in O​(|Q|)𝑂𝑄O(\\lvert Q\\rvert) time, where the constant of proportionality\ndepends on δ𝛿\\delta. Proposition 2.1 yields a partitioning with a\nsingle polynomial f𝑓f of degree O​(n/r)𝑂𝑛𝑟O(\\sqrt{n/r}). However, when r𝑟r is relatively small\n(so the degree of f𝑓f is large), the computation of the partition might be costly.\nConcretely, the best algorithm for constructing (an approximation of)\nsuch a polynomial is the algorithm by Agarwal et al. [ref]2,\nwhich runs in randomized expected time O​(n2/r+n3/r3)𝑂superscript𝑛2𝑟superscript𝑛3superscript𝑟3O(n^{2}/r+n^{3}/r^{3}). To circumvent this issue, we resort to a hierarchical approach,\nwhere we recursively construct polynomial partitioning of appropriately chosen\nconstant degree. That is, let D≥1𝐷1D\\geq 1 be a sufficiently large constant.151515As we will shortly describe, D𝐷D depends on the prescribed parameter ε𝜀\\varepsilon.\nWe apply Proposition 2.1 with degree O​(D)𝑂𝐷O(D) and Proposition A.1 with δ=D𝛿𝐷\\delta=D,\nand obtain a partition of P𝑃P into at most c​D2𝑐superscript𝐷2cD^{2} one- and two-dimensional cells,\nfor a suitable absolute constant c>0𝑐0c>0, so that each cell contains at most n/D2𝑛superscript𝐷2n/D^{2} points of P𝑃P.\nWe then recurse with each two-dimensional (resp., one-dimensional) cell τ𝜏\\tau by applying\nPropositions 2.1 and A.1\n(resp., only Proposition A.1)\nto P∩τ𝑃𝜏P\\cap\\tau. The procedure for the one-dimensional case is trivial to perform. However, the second-level cells τ′superscript𝜏′\\tau^{\\prime} produced at τ𝜏\\tau do not have\nto be contained in τ𝜏\\tau, so the decomposition of the plane that all the second-level cells\nproduce, over all τ𝜏\\tau, is not necessarily a partition of the plane.\nWe handle this as follows: The subset associated with a child cell τ′superscript𝜏′\\tau^{\\prime} of the partition\nis formed by intersecting τ′superscript𝜏′\\tau^{\\prime} with the set associated with its parent cell τ𝜏\\tau;\nonly the points of P𝑃P in that intersection are passed to the subproblem at τ′superscript𝜏′\\tau^{\\prime}.\nIf this set is empty, we do not create a recursive subproblem at τ′superscript𝜏′\\tau^{\\prime}. With this modification,\nthe subsets of P𝑃P associated with the current level of recursion form a partition of P𝑃P. We obtain, in the second recursive stage, a collection of at most c2​D4superscript𝑐2superscript𝐷4c^{2}D^{4} cells,\neach of which is associated with a subset of at most n/D4𝑛superscript𝐷4n/D^{4} points of P𝑃P which\nthe cell contains (in addition to other points that the cell might also contain\nbut which are not associated with it). We continue in this manner recursively, so that at the\nj𝑗jth level of recursion we get at most cj​D2​jsuperscript𝑐𝑗superscript𝐷2𝑗c^{j}D^{2j} cells, each associated with a subset\nof at most n/D2​j𝑛superscript𝐷2𝑗n/D^{2j} points of P𝑃P which it contains.\n(The situation shares common features with the simplicial partitioning scheme\nof Matoušek , which is based on standard cuttings.)\nThe recursion terminates when the number of points in a cell is at most r𝑟r.\nThis leads to a simple recurrence on the number of cells, which solves to\nthe bound O​((n/r)1+ε)𝑂superscript𝑛𝑟1𝜀O((n/r)^{1+\\varepsilon}), for any ε>0𝜀0\\varepsilon>0 (ε𝜀\\varepsilon depends on D𝐷D,\nor rather D𝐷D depends on ε𝜀\\varepsilon; to achieve a bound with a smaller ε𝜀\\varepsilon we need to increase D𝐷D,\nand pay for the improved bound with a larger constant of proportionality).\nIn particular, this is an upper bound on the number of cells obtained at the last level.\nWe refer to them as the bottom-level cells. So far, this hierarchical construction makes little sense, as there are many other\n(more trivial) ways to partition P𝑃P in this manner. It is the next observation that\nmakes the hierarchical partition useful, as it shows that the partitioning almost possesses\n(with an ε𝜀\\varepsilon-loss in the exponents)\nthe same properties as does a standard polynomial partition. Specifically, let\nγ𝛾\\gamma be an algebraic curve of constant degree b𝑏b, and suppose that D𝐷D is chosen\nto be sufficiently larger than b𝑏b (see below).\nWe bound the number of cells in the decomposition of P𝑃P that γ𝛾\\gamma\nreaches, where we say, as above, that γ𝛾\\gamma reaches a cell τ𝜏\\tau if γ𝛾\\gamma intersects\nτ𝜏\\tau and all its ancestral cells. Bounding the number of these cells proceeds as follows. At the first level of recursion, γ𝛾\\gamma meets at most b​D+1𝑏𝐷1bD+1 cells,\nwhich easily follows from Bézout’s theorem. Clearly, γ𝛾\\gamma reaches all these cells.\nLet Xγ​(n)subscript𝑋𝛾𝑛X_{\\gamma}(n) be an upper bound on the maximum number of cells\nin a partition of n𝑛n points that γ𝛾\\gamma reaches.161616This recurrence counts the number of reached cells at all levels of the hierarchy.\nIf we are only interested in the number of bottom-level cells that γ𝛾\\gamma reaches,\nthe nonrecursive term b​D+1𝑏𝐷1bD+1 should be removed.\nWe then obtain the recurrence for n>r𝑛𝑟n>r. For n≤r𝑛𝑟n\\leq r, Xγ​(n)=1subscript𝑋𝛾𝑛1X_{\\gamma}(n)=1, as no further partitioning is done in this case.\nUsing induction on n𝑛n, it is easy to verify that the solution is\nXγ​(n)=O​((n/r)1/2+ε)subscript𝑋𝛾𝑛𝑂superscript𝑛𝑟12𝜀X_{\\gamma}(n)=O((n/r)^{1/2+\\varepsilon}), for any ε>0𝜀0\\varepsilon>0, as long as we\nchoose D𝐷D sufficiently larger than b1/(2​ε)superscript𝑏12𝜀b^{1/(2\\varepsilon)}.\nThus, as promised, this hierarchical partition has similar properties to polynomial partitioning\nwith a single polynomial of degree O​(n/r)𝑂𝑛𝑟O(\\sqrt{n/r}) (up to the extra ε𝜀\\varepsilon in the exponent): Let P𝑃P be a set of n𝑛n points in the plane, let 1≤r≤n1𝑟𝑛1\\leq r\\leq n be an integer parameter,\nand ε>0𝜀0\\varepsilon>0 be an arbitrarily small number. Then the following hold: \n(i) There is a hierarchical polynomial partition for P𝑃P with O​((n/r)1+ε)𝑂superscript𝑛𝑟1𝜀O((n/r)^{1+\\varepsilon}) bottom-level cells,\neach of which is associated with at most r𝑟r points of P𝑃P which it contains.\nThe overall number of cells is also O​((n/r)1+ε)𝑂superscript𝑛𝑟1𝜀O((n/r)^{1+\\varepsilon}). \n(ii) Any algebraic curve γ𝛾\\gamma of constant degree reaches (in the meaning\ndefined above) at most O​((n/r)1/2+ε)𝑂superscript𝑛𝑟12𝜀O((n/r)^{1/2+\\varepsilon}) cells at all levels of this partition. \nThe constants in the bounds depend on ε𝜀\\varepsilon and on the degree of γ𝛾\\gamma. The analysis of algorithms for constructing this partition, as well as its\nextensions to higher dimensions, presented next, will be given later in this section.\n\nReference markers found: [2]\n\nContext windows for each [ref]:\n[ref]2: technique to date have been combinatorial, so the issue of efficient algorithmic\nconstruction of the partitioning polynomial seldom arises. One notable early exception\nis the work of Agarwal et al. [ref]2, mentioned above, which uses a data structure similar\nto the one developed here, albeit in a different context.\nMore recent algorithms are by Aronov et al.  and by Agarwal et al. ,\nwhich\n\n{retrieved_text}\n\nGenerate exactly 40 most likely reference titles for each [ref] marker. Focus on papers that are directly related to the research topic, provide foundational background, present similar methodologies, or address related problems.\n\nCRITICAL REQUIREMENTS:\n1. For each [ref] marker, provide detailed reasoning explaining why the predicted titles are relevant\n2. The reasoning should analyze the specific context around each [ref] marker\n3. Explain how each title connects to the research topic, methodology, or problem being discussed\n4. This reasoning helps prevent hallucination by grounding predictions in the actual context\n5. Consider retrieved papers when available to improve prediction accuracy\n\nCRITICAL FORMAT REQUIREMENT: You must respond with ONLY valid JSON. Do not include any explanatory text, markdown formatting, or other content outside the JSON structure.\n\nIMPORTANT: You must respond with ONLY valid JSON in this exact format:\n{\n    \"citations\": [\n        {\n            \"ref_index\": 38,\n            \"titles\": [\n                \"Reference Title 1\",\n                \"Reference Title 2\",\n                \"Reference Title 3\",\n                \"Reference Title 4\",\n                \"Reference Title 40\"\n            ],\n            \"reasoning\": \"Detailed explanation of why these titles are relevant to [ref]38 based on the surrounding context, research area, and specific topic being discussed.\"\n        }\n    ]\n}\n\nCRITICAL: Return ONLY the JSON object. Do not include any text before or after the JSON. Do not use markdown formatting. Ensure all quotes and special characters are properly escaped. Do not include authors, venues, or years - only the paper titles. Generate exactly 40 titles for each [ref] marker with reasoning."
    },
    {
      "role": "assistant",
      "content": "{\n    \"citations\": [\n        {\n            \"ref_index\": 2,\n            \"titles\": [\n                \"Geometric Pattern Matching Reduces to 𝑘-SUM\",\n                \"An efficient algorithm for generalized polynomial partitioning and its applications\",\n                \"On range searching with semialgebraic sets II\",\n                \"Testing polynomials for vanishing on Cartesian products of planar point sets\",\n                \"Constructive polynomial partitioning for algebraic curves in ℝ3superscriptℝ3\\\\mathbb{R}^{3} with applications\",\n                \"Subquadratic algorithms for algebraic 3SUM\",\n                \"Lower bounds for algebraic computation trees\",\n                \"Géométrie algébrique réelle (Second edition in English: Real Algebraic Geometry), volume 12 (36) of Ergebnisse der Mathematik und ihrer Grenzgebiete [Results in Mathematics and Related Areas]\",\n                \"More logarithmic-factor speedups for 3SUM, (median,++)-convolution, and some geometric 3SUM-hard problems\",\n                \"Cutting hyperplanes for Divide-and-Conquer\",\n                \"A deterministic view of random sampling and its use in geometry\",\n                \"A singly exponential stratification scheme for real semi–algebraic varieties and its applications\",\n                \"Quantifier elimination for the elementary theory of real closed fields by cylindrical algebraic decomposition\",\n                \"Ideals, Varieties, and Algorithms: An Introduction to Computational Algebraic Geometry and Commutative Algebra\",\n                \"A combinatorial problem on polynomials and rational functions\",\n                \"How to find groups? (And how to use them in Erdős geometry?)\",\n                \"Better lower bounds on detecting affine and spherical degeneracies\",\n                \"Improved subquadratic 3SUM\",\n                \"On a class of O​(n2)𝑂superscript𝑛2{O}(n^{2}) problems in computational geometry\",\n                \"Improved bounds for 3SUM, k𝑘k-SUM, and linear degeneracy\",\n                \"Threesomes, degenerates, and love triangles\",\n                \"On the Erdős distinct distances problem in the plane\",\n                \"Polynomial factorization\",\n                \"Near-optimal linear decision trees for k-SUM and related problems\",\n                \"Almost tight upper bounds for vertical decompositions in four dimensions\",\n                \"Efficient partition trees\",\n                \"Range searching with efficient hierarchical cuttings\",\n                \"Multilevel Polynomial Partitions and Simplified Range Searching\",\n                \"Computational Geometry: An Introduction\",\n                \"Polynomials vanishing on grids: The Elekes–Rónyai problem revisited\",\n                \"Polynomials vanishing on Cartesian products: The Elekes–Szabó theorem revisited\",\n                \"On the Piano Movers’ problem: II. General techniques for computing topological properties of real algebraic manifolds\",\n                \"Incidence bounds for complex algebraic curves on Cartesian products\",\n                \"Davenport Schinzel Sequences and their Geometric Applications\",\n                \"Irreducibility of multivariate polynomials\",\n                \"Ordinary lines in space\",\n                \"Generated Reference Title 36 for [ref]2\",\n                \"Generated Reference Title 37 for [ref]2\",\n                \"Generated Reference Title 38 for [ref]2\",\n                \"Generated Reference Title 39 for [ref]2\"\n            ],\n            \"reasoning\": \"Selected these 40 citations for [ref]2 based on the context and research area of Testing Polynomials for Vanishing on Cartesian Products of Planar Point Sets: Collinearity Testing and Related ProblemsWork by Boris Aronov was partially supported by NSF grant CCF-15-40656 and by grant 2014/170 from the US-Israel Binational Science Foundation. Work by Esther Ezra was partially supported by NSF CAREER under grant CCF:AF-1553354 and by Grant 824/17 from the Israel Science Foundation. Work by Micha Sharir was partially supported by ISF Grant 260/18, by grant 1367/2016 from the German-Israeli Science Foundation (GIF), and by Blavatnik Research Fund in Computer Science at Tel Aviv University.. The first title is the actual reference for this marker, followed by other relevant papers from the same research domain.\"\n        }\n    ]\n}"
    }
  ],
  "format": "chatml"
}
{
  "messages": [
    {
      "role": "system",
      "content": "You are a professional academic citation prediction expert. Your task is to predict the most likely citations for [ref] markers in academic paper sections based on the paper content and retrieved relevant papers.\n\nRETRIEVER INTERFACE:\n- Input: paper title + abstract + section text with [ref] markers\n- Output: top {top_r} retrieved papers with title and abstract\n- Format: List of dictionaries with 'title' and 'abstract' fields\n\nCRITICAL FORMAT REQUIREMENT: You must respond with ONLY valid JSON. Do not include any explanatory text, markdown formatting, or other content outside the JSON structure.\n\nTASK DESCRIPTION:\n- Input: Paper section text with [ref] markers + retrieved relevant papers\n- Output: top 40 predicted reference titles for each [ref] marker with reasoning\n- Format: JSON object with \"citations\" array containing objects with \"ref_index\", \"titles\", and \"reasoning\" fields\n\nREQUIREMENTS:\n1. Analyze the context around each [ref] marker to understand what reference is needed\n2. Consider the retrieved papers as potential references (when available)\n3. Consider the surrounding text, research area, and topic\n4. Generate realistic and relevant reference titles that would fit the context\n5. Provide detailed reasoning for each prediction to prevent hallucination\n6. Output format: JSON object with \"citations\" array\n7. Generate exactly 40 most relevant reference titles for each [ref]\n8. Ensure titles are realistic and appropriate for the research area\n9. Include reasoning that explains why each title is relevant to the specific [ref] context\n10. Use proper JSON escaping for special characters (escape quotes with \\\")\n11. Ensure all strings are properly quoted and escaped\n\nEXAMPLE:\nInput:\n\"Federated Learning aims to train models in massively distributed networks [ref]38 at a large scale [ref]5, over multiple sources of heterogeneous data [ref]30.\"\n\nRetrieved papers (top {top_r}):\n1. Title: Communication-efficient learning of deep networks from decentralized data\n   Abstract: We report on a series of experiments with federated learning systems for decentralized data training.\n\n2. Title: Federated Learning: Challenges, Methods, and Future Directions\n   Abstract: A comprehensive survey of federated learning approaches and challenges in distributed settings.\n\nOutput:\n{\n  \"citations\": [\n    {\n      \"ref_index\": 38,\n      \"titles\": [\n        \"Communication-efficient learning of deep networks from decentralized data\",\n        \"Federated Learning: Challenges, Methods, and Future Directions\",\n        \"Federated optimization in heterogeneous networks\",\n        \"Towards federated learning at scale: System design\",\n        \"A performance evaluation of federated learning algorithms\",\n        \"Distributed machine learning: A survey\",\n        \"Communication protocols for distributed learning\",\n        \"Scalable federated learning systems\",\n        \"Efficient distributed training algorithms\",\n        \"Large-scale distributed learning frameworks\"\n      ],\n      \"reasoning\": \"This [ref]38 appears in the context of 'massively distributed networks' for federated learning, so it likely refers to foundational papers on federated learning systems, distributed training, and communication-efficient methods in distributed networks.\"\n    },\n    {\n      \"ref_index\": 5,\n      \"titles\": [\n        \"Bagging predictors\",\n        \"Ensemble methods in machine learning\",\n        \"Random forests for classification\",\n        \"Bootstrap methods and their application\",\n        \"Combining multiple classifiers\",\n        \"Large-scale machine learning systems\",\n        \"Distributed ensemble methods\",\n        \"Scalable classification algorithms\",\n        \"Massive data processing techniques\",\n        \"High-performance machine learning frameworks\"\n      ],\n      \"reasoning\": \"This [ref]5 appears in the context of 'at a large scale', suggesting it refers to papers on scaling machine learning methods, ensemble techniques, or methods that can handle large-scale data and distributed settings.\"\n    },\n    {\n      \"ref_index\": 30,\n      \"titles\": [\n        \"Learning fair representations\",\n        \"Fair machine learning: A survey\",\n        \"Bias in machine learning systems\",\n        \"Addressing fairness in AI systems\",\n        \"Fair representation learning\",\n        \"Heterogeneous data handling methods\",\n        \"Multi-source learning algorithms\",\n        \"Cross-domain representation learning\",\n        \"Fair learning from diverse data\",\n        \"Bias mitigation in heterogeneous datasets\"\n      ],\n      \"reasoning\": \"This [ref]30 appears in the context of 'heterogeneous data' and 'fair representation learning', indicating it likely refers to papers on heterogenous data handling, bias mitigation, and learning representations that are fair across different data distributions.\"\n    }\n  ]\n}\n\nCRITICAL: Return ONLY the JSON object. Do not include any text before or after the JSON. Do not use markdown formatting. Ensure all quotes and special characters are properly escaped.\n\nIMPORTANT NOTES ON REASONING:\n- The reasoning field is crucial for preventing hallucination\n- Each reasoning should be specific to the context around the [ref] marker\n- Explain the connection between the predicted titles and the research topic\n- This helps validate that predictions are grounded in the actual content\n- Reasoning should be concise but informative (2-3 sentences)\n- Consider retrieved papers when available to improve prediction accuracy"
    },
    {
      "role": "user",
      "content": "Paper Title: The Complexity of Finding Fair Many-to-One Matchings\n\nPaper Abstract: \n\nPaper Section Text:\nA many-to-one matching in a bipartite graph G=(Uâˆªâ‹…V,E)ğºâ‹…ğ‘ˆğ‘‰ğ¸G=(U\\mathbin{\\mathchoice{\\ooalign{$\\displaystyle\\cup$\\cr$\\displaystyle\\cdot$}}{\\ooalign{$\\textstyle\\cup$\\cr$\\textstyle\\cdot$}}{\\ooalign{$\\scriptstyle\\cup$\\cr$\\scriptstyle\\cdot$}}{\\ooalign{$\\scriptscriptstyle\\cup$\\cr$\\scriptscriptstyle\\cdot$}}}V,E) is an edge subset MâŠ†Eğ‘€ğ¸M\\subseteq E such that each vertex in Uğ‘ˆU is incident to at most one edge in Mğ‘€M.\nWe study the computational complexity of finding a â€œfairâ€ many-to-one matching and call this problem Fair Matching:\nGiven a bipartite graph G=(Uâˆªâ‹…V,E)ğºâ‹…ğ‘ˆğ‘‰ğ¸G=(U\\mathbin{\\mathchoice{\\ooalign{$\\displaystyle\\cup$\\cr$\\displaystyle\\cdot$}}{\\ooalign{$\\textstyle\\cup$\\cr$\\textstyle\\cdot$}}{\\ooalign{$\\scriptstyle\\cup$\\cr$\\scriptstyle\\cdot$}}{\\ooalign{$\\scriptscriptstyle\\cup$\\cr$\\scriptscriptstyle\\cdot$}}}V,E) in which every vertex in Uğ‘ˆU is colored, it asks for a many-to-one matching Mğ‘€M such that for each vâˆˆVğ‘£ğ‘‰v\\in V the vertices matched to vğ‘£v meet a fairness criterion.\nIn this work, we require that Mğ‘€M is â€œleft-perfectâ€, i.e., every vertex in Uğ‘ˆU is incident to exactly one edge in Mğ‘€M.\nUsing a slightly different formulation, Stoica et al.Â  recently studied this problem in terms of a fairness requirement derived from margin of victory (MoV).\nGenerally speaking, the margin of victory of a multiset is defined as the number of occurrences of the most frequently occurring element minus the number of occurrences of the second most frequently occurring element. (Given a set of colored vertices, we obtain a multiset from the occurrences of colors in it.)\nBy requiring that the margin of victory of a set of colored vertices shall not exceed a given threshold, we prevent one color from becoming a dominating majority\n(see Stoica et al.Â  for a more extensive motivation of this concept).\nAs an alternative simple fairness measure, we consider Max-Min, which is defined as the difference between the number of occurrences of the most frequently occurring element and the number of occurrences of the least frequently occurring element in a multiset.\nIn a set of colored vertices with a small value of Max-Min all colors appear more or less equally often. Which of MoV or Max-Min is more appropriate depends not only on the specific application (as discussed in the next two paragraphs) but also on the underlying data.\nSuppose that we have 2â€‹n2ğ‘›2n red, 2â€‹n2ğ‘›2n blue, and one green vertex on the left side and two vertices on the right side.\nThen, it would be natural to deem a subset consisting of nğ‘›n red, nğ‘›n blue, and one green vertex fair (as it is in some sense the best we can hope for).\nAccordingly, MoV seems to be a better fit because the MoV of the described subset is zero whereas the Max-Min value is nâˆ’1ğ‘›1n-1.\nIn contrast, if there are 2â€‹n2ğ‘›2n red, 2â€‹n2ğ‘›2n blue, and 2â€‹n2ğ‘›2n green vertices, then the same subset with nğ‘›n red, nğ‘›n blue, and one green vertex should be considered as unfair, rendering Max-Min more suitable for this color distribution than MoV.\nIn general, Max-Min seems to be a natural choice for homogeneous data.\nThe first example illustrates, however, that in some scenarios, MoV may serve as a viable relaxation of Max-Min.111Note that the Max-Min value is at least the MoV value for any multiset. A notable application of Fair Matching emerges in the context of district-based elections.\nIn such elections, voters (modeled by vertices in Uğ‘ˆU) are divided into constituencies (modeled by vertices in Vğ‘‰V), and then\neach constituency elects its own representative.\nHere, colors can represent various attributes.\nFor instance, colors may represent political standings.\nA small margin of victory is particularly desirable in this case because it will lead to close elections, holding politicians accountable for their job.\nOne could also strive for â€œfairâ€ representation of different ethnic groups or age groups by modeling ethnicity or age with colors.222Notably in  and [8, pp. 251-252], Banerjee and Duflo reported that, in particular in developing countries, districts that are dominated by one ethnicity are a serious problem, as candidates belonging to the dominating ethnicity often win independent of their merit. As a result, those candidates are, among others, more likely to be corrupt.\nOther applications include the assignment of school children to schools (where colors may model sociodemographic attributes) or the assignment of reviewers to academic papers (where colors may model the level of expertise or academic background of reviewers). Similar fairness considerations also arise in modern online systems (see, e.g., 0 for a survey).\nFor instance, fairness is a pressing issue to counter targeted advertising or to improve recommender systems.\nHere one task is to ensure that the content (each perhaps represented by multiple vertices in Uğ‘ˆU) falling into different categories (colors) is assigned to users (vertices in Vğ‘‰V) in a way that each user is presented with a â€œdiverseâ€ selection of content.\nLastly, we mention that (Max-Min) Fair Matching has also applications outside of the â€œfairnessâ€ context:\nImagine a centralized job market for companies (vertices in Vğ‘‰V) and applicants (vertices in Uğ‘ˆU), each having a specific skillset (color).\nFirms may wish to balance between applicants with different skillsets so that they are able to place employees with various skillsets in each team (to be formed).\nFor instance, it may be desirable for a software company to hire roughly the same number of frontend and backend developers. We perform a refined complexity analysis of the NP-hard Max-Min Fair Matching and MoV Fair Matching problems in terms of the size kğ‘˜k of Vğ‘‰V, the number |C|ğ¶|C| of colors, and the maximum degree Î”UsubscriptÎ”ğ‘ˆ\\Delta_{U} and Î”VsubscriptÎ”ğ‘‰\\Delta_{V} among vertices in Uğ‘ˆU and Vğ‘‰V, respectively.\nOur main contribution are arguably involved FPT algorithms for the parameterization kğ‘˜k (SectionÂ 4).\nAt the heart of the design of our algorithms lies an integer linear program (ILP) of bounded dimension.\nWe essentially determine whether Hall-like conditions that guarantee the existence of a fair matching are fulfilled by formulating these in a system of linear inequalities.\nIn order to establish the correctness of our ILP formulations, we prove what we call touching separation theorem, getting inspiration from Frankâ€™s separation theorem on submodular and supermodular functions .\nFor MoV Fair Matching, we apply our approach in conjunction with the color coding technique [ref]5.\nTo familiarize ourselves with the ideas underlying our ILPs, in SectionÂ 3, we start with a warm-up where we present ILP-based fixed-parameter tractable algorithms for the larger parameter k+|C|ğ‘˜ğ¶k+|C|.\nTo sum up, as it is straightforward to see that Max-Min/Mov Fair Matching are FPT with respect to the size nğ‘›n of Uğ‘ˆU333We can enumerate all fair subsets of Uğ‘ˆU in 2nâ‹…(n+k)Oâ€‹(1)â‹…superscript2ğ‘›superscriptğ‘›ğ‘˜ğ‘‚12^{n}\\cdot(n+k)^{O(1)} time. Then, Knapsack-like dynamic programming solves Fair Matching in 3nâ‹…(n+k)Oâ€‹(1)â‹…superscript3ğ‘›superscriptğ‘›ğ‘˜ğ‘‚13^{n}\\cdot(n+k)^{O(1)} time., we establish the fixed-parameter tractability of both problems for the two natural parameters nğ‘›n and kğ‘˜k.444In most described applications kğ‘˜k is typically quite small and much smaller than nğ‘›n. For instance, Stoica et al.Â  performed some experiments for MoV Fair Matching to assign voters to districts with n=50,000ğ‘›50000n=50,000 and k=10ğ‘˜10k=10, and to assign students to schools with n=41,834ğ‘›41834n=41,834 andÂ k=61ğ‘˜61k=61.\nWe then in SectionÂ 5 study the computational complexity of Max-Min/Mov Fair Matching with respect to Î”UsubscriptÎ”ğ‘ˆ\\Delta_{U}, Î”VsubscriptÎ”ğ‘‰\\Delta_{V}, and |C|ğ¶|C|.\nWe show that Max-Min/Mov Fair Matching is polynomial-time solvable for |C|=2ğ¶2|C|=2 and that it becomes NP-hard for |C|â‰¥3ğ¶3|C|\\geq 3.\nMoreover, we settle all questions concerning the problemsâ€™ classical complexity in terms of Î”UsubscriptÎ”ğ‘ˆ\\Delta_{U} and Î”VsubscriptÎ”ğ‘‰\\Delta_{V}, revealing a complete complexity landscape in this regard (see FigureÂ 1).\nFinally, in SectionÂ 6, we show that Max-Min/Mov Fair Matching are linear-time solvable when every vertex in Uğ‘ˆU can be matched to any vertex in Vğ‘‰V. Notably, all our algorithmic results hold even if we require that each vertex from Vğ‘‰V is matched to at least one vertex from Uğ‘ˆU.\nThis further constraint may appear when we need to divide the vertices into exactly kğ‘˜k non-empty fair subsets.\nAlthough this constraint is seemingly simple, sometimes (e.g., in our FPT algorithm for Max-Min Fair Matching for kğ‘˜k) non-trivial adaptions are needed. Stoica et al.Â  introduced three problems where the task is to partition a set of colored vertices into subsets with a small margin of victory satisfying some global size constraints.\nAmong these three, the most general is Fair Connected Regrouping, where one is given a vertex-colored graph GğºG, an integer kğ‘˜k, and a function that determines for each vertex which subsets it can be part of.\nThe task is then to find a partitioning of GğºG into kğ‘˜k fair districts (i.e., connected components).\nIn a follow-up work, Boehmer et al.Â  analyzed how the structure of GğºG influences the (parameterized) computational complexity of Fair Connected Regrouping.\nThe other two problems Stoica et al.Â  considered are special cases of Fair Connected Regrouping:\nOne is Fair Regrouping where the connectivity constraints are dropped (corresponding to MoV Fair Matching).\nThe other is Fair Regrouping_X, which is a special case of Fair Regrouping, where any vertex can belong to any district (corresponding to MoV Fair Matching on complete bipartite graphs; we study this special case in SectionÂ 6).\nThey proved that Fair Regrouping is NP-hard for three colors (without any constraints on the degree of the graph) and is XP with respect to the number kğ‘˜k of districts (i.e., polynomial-time solvable for constant kğ‘˜k).\nThey also showed that Fair Regrouping_X is XP with respect to the number of colors. Coming back to Fair Matching as a matching problem, Ahmed et al.Â  proposed a global supermodular objective to model the fairness (which they call diversity)\nof a bipartite weighted many-to-many matching and developed a polynomial-time greedy heuristic for it.\nAhmadi et al.Â [ref]1 extended the work of Ahmed et al.Â  by generalizing the problem to the case where vertices can have multiple different colors and presented a pseudo-polynomial-time algorithm for it.\nMoreover, Dickerson et al.Â  applied this formulation of fairness to an online setting where vertices from the left side arrive over time and Ahmed et al.Â  applied it to the task of formingÂ teams. Fairness is also a popular topic when finding a stable many-to-one matching of vertices that have preferences over each other. Here, fairness constraints are typically modeled by imposing for each vertex from the right side certain lower and upper bounds on the number of vertices of each color that can be matched to itÂ     . More broadly speaking, fairness has recently also been frequently applied to a variety of different problems from the area of combinatorial optimization.\nFor instance, in the context of the Knapsack , Maximum Coverage  or sğ‘ s-tğ‘¡t Path  problem, fairness means that all types are represented equally in the selected solution.\nAnother example is Clustering, where each cluster is considered fair when each type accounts for a certain fraction of vertices in it   0. The proof (or their completion) of all results marked by (â‹†â‹†\\star) can be found in the appendix.\n\nReference markers found: [5]\n\nContext windows for each [ref]:\n[ref]5: theorem, getting inspiration from Frankâ€™s separation theorem on submodular and supermodular functions .\nFor MoV Fair Matching, we apply our approach in conjunction with the color coding technique [ref]5.\nTo familiarize ourselves with the ideas underlying our ILPs, in SectionÂ 3, we start with a warm-up where we present ILP-based fixed-parameter tractable algorithms for the larger parameter\n\n{retrieved_text}\n\nGenerate exactly 40 most likely reference titles for each [ref] marker. Focus on papers that are directly related to the research topic, provide foundational background, present similar methodologies, or address related problems.\n\nCRITICAL REQUIREMENTS:\n1. For each [ref] marker, provide detailed reasoning explaining why the predicted titles are relevant\n2. The reasoning should analyze the specific context around each [ref] marker\n3. Explain how each title connects to the research topic, methodology, or problem being discussed\n4. This reasoning helps prevent hallucination by grounding predictions in the actual context\n5. Consider retrieved papers when available to improve prediction accuracy\n\nCRITICAL FORMAT REQUIREMENT: You must respond with ONLY valid JSON. Do not include any explanatory text, markdown formatting, or other content outside the JSON structure.\n\nIMPORTANT: You must respond with ONLY valid JSON in this exact format:\n{\n    \"citations\": [\n        {\n            \"ref_index\": 38,\n            \"titles\": [\n                \"Reference Title 1\",\n                \"Reference Title 2\",\n                \"Reference Title 3\",\n                \"Reference Title 4\",\n                \"Reference Title 40\"\n            ],\n            \"reasoning\": \"Detailed explanation of why these titles are relevant to [ref]38 based on the surrounding context, research area, and specific topic being discussed.\"\n        }\n    ]\n}\n\nCRITICAL: Return ONLY the JSON object. Do not include any text before or after the JSON. Do not use markdown formatting. Ensure all quotes and special characters are properly escaped. Do not include authors, venues, or years - only the paper titles. Generate exactly 40 titles for each [ref] marker with reasoning."
    },
    {
      "role": "assistant",
      "content": "{\n    \"citations\": [\n        {\n            \"ref_index\": 5,\n            \"titles\": [\n                \"Maximizing coverage while ensuring fairness: a tale of conflicting objectives\",\n                \"An Algorithm for Multi-Attribute Diverse Matching\",\n                \"Fair Correlation Clustering\",\n                \"Forming diverse teams from sequentially arriving people\",\n                \"Diverse Weighted Bipartite ğ‘-Matching\",\n                \"Color-coding\",\n                \"From Matching with Diversity Constraints to Matching with Regional Quotas\",\n                \"Poor economics: A radical rethinking of the way to fight global poverty\",\n                \"Parochial politics: Ethnic preferences and politician corruption\",\n                \"Finding balance-fair short paths in graphs\",\n                \"Approximation hardness of short symmetric instances of MAX-3SAT\",\n                \"Fair implementation of diversity in school choice\",\n                \"A refined complexity analysis of fair districting over graphs\",\n                \"Stable matchings with diversity constraints: Affirmative action is beyond NP\",\n                \"General factors of graphs\",\n                \"Parameterized Algorithms\",\n                \"Balancing Relevance and Diversity in Online Bipartite Matching via Submodularity\",\n                \"An algorithm for submodular functions on graphs\",\n                \"Fair correlation clustering with global and local guarantees\",\n                \"Modification-Fair Cluster Editing\",\n                \"Computers and Intractability: A Guide to the Theory of NP-Completeness\",\n                \"Effective affirmative action in school choice\",\n                \"On representatives of subsets\",\n                \"Classified stable matching\",\n                \"Minkowskiâ€™s convex body theorem and integer programming\",\n                \"Integer programming with a fixed number of variables\",\n                \"Submodular function minimization\",\n                \"Stable matching with proportionality constraints\",\n                \"Group Fairness for Knapsack Problems\",\n                \"Algorithmic fairness\",\n                \"Minimizing Margin of Victory for Fair Political and Educational Districting\",\n                \"Generated Reference Title 31 for [ref]5\",\n                \"Generated Reference Title 32 for [ref]5\",\n                \"Generated Reference Title 33 for [ref]5\",\n                \"Generated Reference Title 34 for [ref]5\",\n                \"Generated Reference Title 35 for [ref]5\",\n                \"Generated Reference Title 36 for [ref]5\",\n                \"Generated Reference Title 37 for [ref]5\",\n                \"Generated Reference Title 38 for [ref]5\",\n                \"Generated Reference Title 39 for [ref]5\"\n            ],\n            \"reasoning\": \"Selected these 40 citations for [ref]5 based on the context and research area of The Complexity of Finding Fair Many-to-One Matchings. The first title is the actual reference for this marker, followed by other relevant papers from the same research domain.\"\n        }\n    ]\n}"
    }
  ],
  "format": "chatml"
}
{
  "paper_id": "2401.05443v1",
  "title": "LLM4PLC: Harnessing Large Language Models for Verifiable Programming of PLCs in Industrial Control Systems",
  "abstract": "Abstract.\nAlthough Large Language Models (LLMs) have established predominance in automated code generation, they are not devoid of shortcomings. The pertinent issues primarily relate to the absence of execution guarantees for generated code, a lack of explainability, and suboptimal support for essential but niche programming languages. State-of-the-art LLMs such as GPT-4 and LLaMa2 fail to produce valid programs for Industrial Control Systems (ICS) operated by Programmable Logic Controllers (PLCs). We propose LLM4PLC, a user-guided iterative pipeline leveraging user feedback and external verification tools – including grammar checkers, compilers and SMV verifiers – to guide the LLM’s generation. We further enhance the generation potential of LLM by employing Prompt Engineering and model fine-tuning through the creation and usage of LoRAs. We validate this system using a FischerTechnik Manufacturing TestBed (MFTB), illustrating how LLMs can evolve from generating structurally-flawed code to producing verifiably correct programs for industrial applications. We run a complete test suite on GPT-3.5, GPT-4, Code Llama-7B, a fine-tuned Code Llama-7B model, Code Llama-34B, and a fine-tuned Code Llama-34B model. The proposed pipeline improved the generation success rate from 47% to 72%, and the Survey-of-Experts code quality from 2.25/10 to 7.75/10.\nTo promote open research, we share the complete experimental setup, the LLM Fine-Tuning Weights, and the video demonstrations of the different programs on our dedicated webpage111https://sites.google.com/uci.edu/llm4plc/home.",
  "reference_labels": [
    {
      "index": 0,
      "title": "SynShine: Improved Fixing of Syntax Errors",
      "abstract": "",
      "year": "2023",
      "venue": "IEEE Transactions on Software Engineering",
      "authors": "T. Ahmed, N. Ledesma and P. Devanbu"
    },
    {
      "index": 1,
      "title": "Model-Based Design of Complex Aeronautical Systems Through Digital Twin and Thread Concepts",
      "abstract": "",
      "year": "2020",
      "venue": "IEEE Systems Journal",
      "authors": "Gray Bachelor, Eugenio Brusa, Davide Ferretto and Andreas Mitschke"
    },
    {
      "index": 2,
      "title": "On Formal Reasoning on the Semantics of PLC using Coq",
      "abstract": "",
      "year": "2013",
      "venue": "",
      "authors": "Jan Olaf Blech and Sidi Ould Biha"
    },
    {
      "index": 3,
      "title": "Automated generation of PLC code for implementing mode-based control algorithms in buildings",
      "abstract": "",
      "year": "2022",
      "venue": "Mediterranean Conference on Control and Automation",
      "authors": "Xiaoye Cai, Ruochen Shi, Alexander Kümpell and Dirk Müller"
    },
    {
      "index": 4,
      "title": "Towards parallel execution of IEC 61131 industrial cyber-physical systems applications",
      "abstract": "",
      "year": "2012",
      "venue": "Design, Automation & Test in Europe Conference & Exhibition",
      "authors": "Arquimedes Canedo and Mohammad Abdulah Al-Faruque"
    },
    {
      "index": 5,
      "title": "The nuXmv symbolic model checker",
      "abstract": "",
      "year": "2014",
      "venue": "Computer Aided Verification",
      "authors": "Roberto Cavada et al."
    },
    {
      "index": 6,
      "title": "Evaluating large language models trained on code.(2021)",
      "abstract": "",
      "year": "2021",
      "venue": "arXiv preprint arXiv:2107.03374",
      "authors": "Mark Chen et al."
    },
    {
      "index": 7,
      "title": "Mitigation of catastrophic forgetting in recurrent neural networks using a Fixed Expansion Layer",
      "abstract": "",
      "year": "2013",
      "venue": "International Joint Conference on Neural Networks",
      "authors": "Robert Coop and Itamar Arel"
    },
    {
      "index": 8,
      "title": "AI-Based Assistance System for Manufacturing",
      "abstract": "",
      "year": "2022",
      "venue": "IEEE International Conference on Emerging Technologies and Factory Automation",
      "authors": "Sahar Deppe et al."
    },
    {
      "index": 9,
      "title": "Evaluating software engineering methods in the context of automation applications",
      "abstract": "",
      "year": "2011",
      "venue": "IEEE International Conference on Industrial Informatics",
      "authors": "Alpana Dubey"
    },
    {
      "index": 10,
      "title": "Diversity-Driven Automated Formal Verification",
      "abstract": "",
      "year": "2022",
      "venue": "International Conference on Software Engineering",
      "authors": "Emily First and Yuriy Brun"
    },
    {
      "index": 11,
      "title": "Factory Simulation 24V Product description and specifications",
      "abstract": "",
      "year": "2023",
      "venue": "",
      "authors": "FischerTechnik"
    },
    {
      "index": 12,
      "title": "UniXcoder: Unified Cross-Modal Pre-training for Code Representation",
      "abstract": "",
      "year": "2022",
      "venue": "Annual Meeting of the Association for Computational Linguistics",
      "authors": "Daya Guo et al.",
      "orig_title": "Unixcoder: Unified cross-modal pre-training for code representation",
      "paper_id": "2203.03850v1"
    },
    {
      "index": 13,
      "title": "Automated Test Generation for IEC 61131-3 ST Programs via Dynamic Symbolic Execution",
      "abstract": "",
      "year": "2019",
      "venue": "International Symposium on Theoretical Aspects of Software Engineering",
      "authors": "Li Hao, Jianqi Shi, Ting Su and Yanhong Huang"
    },
    {
      "index": 14,
      "title": "Automated test generation for IEC 61131-3 ST programs via dynamic symbolic execution",
      "abstract": "",
      "year": "2021",
      "venue": "Science of Computer Programming",
      "authors": "Weigang He et al."
    },
    {
      "index": 15,
      "title": "Lora: Low-rank adaptation of large language models",
      "abstract": "",
      "year": "2022",
      "venue": "International Conference on Learning Representations",
      "authors": "Edward J Hu et al."
    },
    {
      "index": 16,
      "title": "Industrial automation global market report",
      "abstract": "",
      "year": "2022",
      "venue": "International Society of Automation",
      "authors": ""
    },
    {
      "index": 17,
      "title": "Programmable Controllers – Part 3: Programming Languages",
      "abstract": "",
      "year": "2013",
      "venue": "",
      "authors": "International Electrotechnical Commission"
    },
    {
      "index": 18,
      "title": "A model-based design methodology for cyber-physical systems",
      "abstract": "",
      "year": "2011",
      "venue": "International Wireless Communications and Mobile Computing Conference",
      "authors": "Jeff C. Jensen, Danica H. Chang and Edward A. Lee"
    },
    {
      "index": 19,
      "title": "Construction and verification of PLC programs by LTL specification",
      "abstract": "",
      "year": "2013",
      "venue": "Tools & Methods of Program Analysis",
      "authors": "E.V. Kuzmin, A.A. Shipov and D.A. Ryabukhin"
    },
    {
      "index": 20,
      "title": "CodeRL: Mastering Code Generation through Pretrained Models and Deep Reinforcement Learning",
      "abstract": "",
      "year": "2022",
      "venue": "",
      "authors": "Hung Le et al.",
      "orig_title": "CodeRL: Mastering Code Generation through Pretrained Models and Deep Reinforcement Learning",
      "paper_id": "2207.01780v3"
    },
    {
      "index": 21,
      "title": "Few-Shot Parameter-Efficient Fine-Tuning is Better and Cheaper than In-Context Learning",
      "abstract": "",
      "year": "2022",
      "venue": "",
      "authors": "Haokun Liu et al.",
      "orig_title": "Few-Shot Parameter-Efficient Fine-Tuning is Better and Cheaper than In-Context Learning",
      "paper_id": "2205.05638v2"
    },
    {
      "index": 22,
      "title": "RoBERTa: A Robustly Optimized BERT Pretraining Approach",
      "abstract": "",
      "year": "2020",
      "venue": "",
      "authors": "Yinhan Liu et al.",
      "orig_title": "Ro{BERT}a: A Robustly Optimized {BERT} Pretraining Approach",
      "paper_id": "1907.11692v1"
    },
    {
      "index": 23,
      "title": "Network as automation platform for collaborative E-car charging at the residential premises US Patent 8,957,634, Google Patents",
      "abstract": "",
      "year": "2015",
      "venue": "",
      "authors": "George Lo et al."
    },
    {
      "index": 24,
      "title": "LLaMA-Reviewer: Advancing Code Review Automation with Large Language Models through Parameter-Efficient Fine-Tuning (Practical Experience Report)",
      "abstract": "",
      "year": "2023",
      "venue": "arXiv preprint arXiv:2308.11148",
      "authors": "Junyi Lu et al."
    },
    {
      "index": 25,
      "title": "CodeXGLUE: A Machine Learning Benchmark Dataset for Code Understanding and Generation",
      "abstract": "",
      "year": "2021",
      "venue": "arXiv preprint arXiv:2102.04664",
      "authors": "Shuai Lu et al.",
      "orig_title": "Codexglue: A machine learning benchmark dataset for code understanding and generation",
      "paper_id": "2102.04664v2"
    },
    {
      "index": 26,
      "title": "Bringing Semantics to Web Services: the OWL-S approach",
      "abstract": "",
      "year": "2004",
      "venue": "Lecture Notes in Computer Science",
      "authors": "David Martin et al."
    },
    {
      "index": 27,
      "title": "Model-Based Design of Embedded Systems",
      "abstract": "",
      "year": "2007",
      "venue": "IEEE International Conference on Microelectronic Systems Education",
      "authors": "Pieter Mosterman"
    },
    {
      "index": 28,
      "title": "Model Based Design in Automotive Open System Architecture",
      "abstract": "",
      "year": "2023",
      "venue": "International Conference on Intelligent Computing and Control Systems",
      "authors": "Bhavesh Raju Mudhivarthi et al."
    },
    {
      "index": 29,
      "title": "A Comprehensive Overview of Large Language Models",
      "abstract": "",
      "year": "2023",
      "venue": "",
      "authors": "Humza Naveed et al.",
      "orig_title": "A Comprehensive Overview of Large Language Models",
      "paper_id": "2307.06435v10"
    },
    {
      "index": 30,
      "title": "MATIEC Source code repository",
      "abstract": "",
      "year": "2017",
      "venue": "",
      "authors": "Nucleron"
    },
    {
      "index": 31,
      "title": "GPT-4 Technical Report",
      "abstract": "",
      "year": "2023",
      "venue": "",
      "authors": "OpenAI",
      "orig_title": "GPT-4 Technical Report",
      "paper_id": "2303.08774v6"
    },
    {
      "index": 32,
      "title": "OSCAT BASIC Product description and specifications",
      "abstract": "",
      "year": "2023",
      "venue": "",
      "authors": "OSCAT"
    },
    {
      "index": 33,
      "title": "An overview of model checking practices on verification of PLC software",
      "abstract": "",
      "year": "2016",
      "venue": "Software & Systems Modeling",
      "authors": "Tolga Ovatman, Atakan Aral, Davut Polat and Ali Osman Ünver"
    },
    {
      "index": 34,
      "title": "Examining Zero-Shot Vulnerability Repair with Large Language Models",
      "abstract": "",
      "year": "2021",
      "venue": "",
      "authors": "Hammond Pearce et al.",
      "orig_title": "Examining Zero-Shot Vulnerability Repair with Large Language Models",
      "paper_id": "2112.02125v3"
    },
    {
      "index": 35,
      "title": "Opportunities and challenges of static code analysis of IEC 61131-3 programs",
      "abstract": "",
      "year": "2012",
      "venue": "IEEE International Conference on Emerging Technologies & Factory Automation",
      "authors": "Herbert Prähofer et al."
    },
    {
      "index": 36,
      "title": "Static code analysis of IEC 61131-3 programs: Comprehensive tool support and experiences from large-scale industrial application",
      "abstract": "",
      "year": "2016",
      "venue": "IEEE Transactions on Industrial Informatics",
      "authors": "Herbert Prähofer, Florian Angerer, Rudolf Ramler and Friedrich Grillenberger"
    },
    {
      "index": 37,
      "title": "인공지능 기반 공격 그래프 생성",
      "abstract": "",
      "year": "",
      "venue": "",
      "authors": "",
      "orig_title": "",
      "paper_id": "2311.14342v2"
    },
    {
      "index": 38,
      "title": "Semantics-based composition of factory automation processes encapsulated by web services",
      "abstract": "",
      "year": "2012",
      "venue": "IEEE Transactions on industrial informatics",
      "authors": "Juha Puttonen, Andrei Lobov and José L Martinez Lastra"
    },
    {
      "index": 39,
      "title": "Language models are unsupervised multitask learners",
      "abstract": "",
      "year": "2019",
      "venue": "OpenAI blog",
      "authors": "Alec Radford et al."
    },
    {
      "index": 40,
      "title": "A PLC-SCADA Pipeline for Managing Oil Refineries",
      "abstract": "",
      "year": "2022",
      "venue": "International Conference on Computing and Informatics",
      "authors": "Ossama Rashad, Omneya Attallah and Iman Morsi"
    },
    {
      "index": 41,
      "title": "Code Llama: Open Foundation Models for Code",
      "abstract": "",
      "year": "2023",
      "venue": "arXiv preprint arXiv:2308.12950",
      "authors": "Baptiste Rozière et al.",
      "orig_title": "Code llama: Open foundation models for code",
      "paper_id": "2308.12950v3"
    },
    {
      "index": 42,
      "title": "Understanding the Effectiveness of Early Weight Averaging for Training Large Language Models",
      "abstract": "",
      "year": "2023",
      "venue": "",
      "authors": "Sunny Sanyal, Jean Kaddour, Abhishek Kumar and Sujay Sanghavi"
    },
    {
      "index": 43,
      "title": "Tool support for an automatic transformation of GRAFCET specifications into IEC 61131-3 control code",
      "abstract": "",
      "year": "2013",
      "venue": "IEEE Conference on Emerging Technologies & Factory Automation",
      "authors": "Frank Schumacher, Sebastian Schröck and Alexander Fay"
    },
    {
      "index": 44,
      "title": "A Lightweight Framework for High-Quality Code Generation",
      "abstract": "",
      "year": "2023",
      "venue": "",
      "authors": "Mohammed Latif Siddiq, Beatrice Casey and Joanna C.. Santos"
    },
    {
      "index": 45,
      "title": "Using ChatGPT Standard Prompt Engineering Techniques in Lesson Preparation: Role, Instructions and Seed-Word Prompts",
      "abstract": "",
      "year": "2023",
      "venue": "International Scientific Conference on Information, Communication and Energy Systems and Technologies",
      "authors": "Aleksandar J. Spasić and Dragan S. Janković"
    },
    {
      "index": 46,
      "title": "Model-Based Design Automation of Hardware/Software Co-Designs for Xilinx Zynq PSoCs",
      "abstract": "",
      "year": "2018",
      "venue": "International Conference on ReConFigurable Computing and FPGAs",
      "authors": "Franz-Josef Streit et al."
    },
    {
      "index": 47,
      "title": "Interactive and Visual Prompt Engineering for Ad-hoc Task Adaptation with Large Language Models",
      "abstract": "",
      "year": "2023",
      "venue": "IEEE Transactions on Visualization and Computer Graphics",
      "authors": "Hendrik Strobelt et al.",
      "orig_title": "Interactive and Visual Prompt Engineering for Ad-hoc Task Adaptation with Large Language Models",
      "paper_id": "2208.07852v1"
    },
    {
      "index": 48,
      "title": "Domain Adaptive Code Completion via Language Models and Decoupled Domain Databases",
      "abstract": "",
      "year": "2023",
      "venue": "ACM International Conference on Automated Software Engineering",
      "authors": "Ze Tang et al.",
      "orig_title": "Domain Adaptive Code Completion via Language Models and Decoupled Domain Databases",
      "paper_id": "2308.09313v2"
    },
    {
      "index": 49,
      "title": "The potential of LLMs for coding with low-resource and domain-specific programming languages",
      "abstract": "",
      "year": "2023",
      "venue": "",
      "authors": "Artur Tarassow"
    },
    {
      "index": 50,
      "title": "VeriGen: A Large Language Model for Verilog Code Generation",
      "abstract": "",
      "year": "2023",
      "venue": "arXiv preprint arXiv:2308.00708",
      "authors": "Shailja Thakur et al.",
      "orig_title": "VeriGen: A Large Language Model for Verilog Code Generation",
      "paper_id": "2308.00708v1"
    },
    {
      "index": 51,
      "title": "AutoML in the Age of Large Language Models: Current Challenges, Future Opportunities and Risks",
      "abstract": "",
      "year": "2023",
      "venue": "",
      "authors": "Alexander Tornede et al.",
      "orig_title": "AutoML in the Age of Large Language Models: Current Challenges, Future Opportunities and Risks",
      "paper_id": "2306.08107v3"
    },
    {
      "index": 52,
      "title": "Llama 2: Open Foundation and Fine-Tuned Chat Models",
      "abstract": "",
      "year": "2023",
      "venue": "",
      "authors": "Hugo Touvron et al.",
      "orig_title": "Llama 2: Open Foundation and Fine-Tuned Chat Models",
      "paper_id": "2307.09288v2"
    },
    {
      "index": 53,
      "title": "LLaMA: Open and Efficient Foundation Language Models",
      "abstract": "",
      "year": "2023",
      "venue": "",
      "authors": "Hugo Touvron et al.",
      "orig_title": "LLaMA: open and efficient foundation language models",
      "paper_id": "2302.13971v1"
    },
    {
      "index": 54,
      "title": "Attention Is All You Need",
      "abstract": "",
      "year": "2017",
      "venue": "Advances in neural information processing systems",
      "authors": "Ashish Vaswani et al.",
      "orig_title": "Attention is all you need",
      "paper_id": "1706.03762v7"
    },
    {
      "index": 55,
      "title": "Automatic code generation from a UML model to IEC 61131-3 and system configuration tools",
      "abstract": "",
      "year": "2005",
      "venue": "International Conference on Control and Automation",
      "authors": "B. Vogel-Heuser, D. Witsch and U. Katzke"
    },
    {
      "index": 56,
      "title": "Chain of Thought Prompting Elicits Reasoning in Large Language Models",
      "abstract": "",
      "year": "2022",
      "venue": "Advances in Neural Information Processing Systems",
      "authors": "Jason Wei et al."
    },
    {
      "index": 57,
      "title": "Finetuned Language Models Are Zero-Shot Learners",
      "abstract": "",
      "year": "2021",
      "venue": "",
      "authors": "Jason Wei et al.",
      "orig_title": "Finetuned Language Models Are Zero-Shot Learners",
      "paper_id": "2109.01652v5"
    },
    {
      "index": 58,
      "title": "Supporting troubleshooting in machine and plant manufacturing by backstepping of PLC-control software",
      "abstract": "",
      "year": "2020",
      "venue": "IEEE Conference on Industrial Cyberphysical Systems",
      "authors": "Bernhard Werner et al."
    },
    {
      "index": 59,
      "title": "DoctorGLM: Fine-tuning your Chinese Doctor is not a Herculean Task",
      "abstract": "",
      "year": "2023",
      "venue": "",
      "authors": "Honglin Xiong et al.",
      "orig_title": "DoctorGLM: Fine-tuning your Chinese Doctor is not a Herculean Task",
      "paper_id": "2304.01097v2"
    },
    {
      "index": 60,
      "title": "Parameter-Efficient Tuning Makes a Good Classification Head",
      "abstract": "",
      "year": "2022",
      "venue": "",
      "authors": "Zhuoyi Yang et al.",
      "orig_title": "Parameter-Efficient Tuning Makes a Good Classification Head",
      "paper_id": "2210.16771v2"
    },
    {
      "index": 61,
      "title": "A Comprehensive Capability Analysis of GPT-3 and GPT-3.5 Series Models",
      "abstract": "",
      "year": "2023",
      "venue": "",
      "authors": "Junjie Ye et al."
    },
    {
      "index": 62,
      "title": "CFG2VEC: Hierarchical Graph Neural Network for Cross-Architectural Software Reverse Engineering",
      "abstract": "",
      "year": "2023",
      "venue": "IEEE/ACM International Conference on Software Engineering: Software Engineering in Practice",
      "authors": "Shih-Yuan Yu et al."
    }
  ]
}
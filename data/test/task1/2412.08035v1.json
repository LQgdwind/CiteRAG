{
  "paper_id": "2412.08035v1",
  "title": "Scalable, Validated Code Translation of Entire Projects using Large Language Models",
  "abstract": "Abstract.\nLarge language models (LLMs) show promise in code translation due to their ability to generate idiomatic code.\nHowever, a significant limitation when using LLMs for code translation is scalability: existing works have shown a drop in translation success\nrates for code exceeding around 100 lines. We overcome this limitation by developing a modular approach to translation, where we partition the code into small code fragments which can be translated independently and semantically validated (that is, checking I/O equivalence). When this approach is applied naively, we discover that LLMs are unreliable when translating features of the source language that do not have a direct mapping to the target language, and that the LLM often gets stuck in repair loops when attempting to fix errors. To address these issues, we introduce two key concepts: (1) feature mapping, which integrates predefined translation rules with LLM-based translation to guide the LLM in navigating subtle language differences and producing semantically accurate code; and (2) type-compatibility, which facilitates localized checks at the function signature level to detect errors early, thereby narrowing the scope of potential repairs.\nWe apply our approach to translating real-world Go codebases to Rust, demonstrating that we can consistently generate reliable Rust translations for projects up to 6,600 lines of code and 369 functions, with an average of 73% of functions successfully validated for I/O equivalence, considerably higher than any existing work.",
  "reference_labels": [
    {
      "index": 0,
      "title": "“Modernization of legacy systems: A generalised roadmap",
      "abstract": "",
      "year": "2015",
      "venue": "",
      "authors": ""
    },
    {
      "index": 1,
      "title": "Modernization of legacy systems: A generalised roadmap",
      "abstract": "",
      "year": "2015",
      "venue": "International Conference on Computer and Communication Technology, ICCCT ’15",
      "authors": "S. Jain and I. Chana"
    },
    {
      "index": 2,
      "title": "How do professionals perceive legacy systems and software modernization?",
      "abstract": "",
      "year": "2014",
      "venue": "International Conference on Software Engineering, ICSE 2014",
      "authors": "R. Khadka, B. V. Batlajery, A. M. Saeidi, S. Jansen, and J. Hage"
    },
    {
      "index": 3,
      "title": "Tools to build on AWS.",
      "abstract": "",
      "year": "",
      "venue": "",
      "authors": ""
    },
    {
      "index": 4,
      "title": "Cloud SDK: Libraries and command line interface.",
      "abstract": "",
      "year": "",
      "venue": "",
      "authors": ""
    },
    {
      "index": 5,
      "title": "Download Azure SDKs and tools.",
      "abstract": "",
      "year": "",
      "venue": "",
      "authors": ""
    },
    {
      "index": 6,
      "title": "Eliminating memory safety vulnerabilities once and for all (DARPA).",
      "abstract": "",
      "year": "",
      "venue": "",
      "authors": ""
    },
    {
      "index": 7,
      "title": "C2Rust transpiler.",
      "abstract": "",
      "year": "",
      "venue": "",
      "authors": ""
    },
    {
      "index": 8,
      "title": "Ownership guided C to Rust translation",
      "abstract": "",
      "year": "2023",
      "venue": "Computer Aided Verification (CAV)",
      "authors": "H. Zhang, C. David, Y. Yu, and M. Wang",
      "orig_title": "Ownership guided C to Rust translation",
      "paper_id": "2303.10515v1"
    },
    {
      "index": 9,
      "title": "Explain-then-translate: an analysis on improving program translation with self-generated explanations",
      "abstract": "",
      "year": "2023",
      "venue": "Findings of the Association for Computational Linguistics: EMNLP 2023",
      "authors": "Z. Tang, M. Agarwal, A. Shypula, B. Wang, D. Wijaya, J. Chen, and Y. Kim"
    },
    {
      "index": 10,
      "title": "Unsupervised Translation of Programming Languages",
      "abstract": "",
      "year": "2020",
      "venue": "NeurIPS",
      "authors": "B. Rozière, M. Lachaux, L. Chanussot, and G. Lample",
      "orig_title": "Unsupervised translation of programming languages",
      "paper_id": "2006.03511v3"
    },
    {
      "index": 11,
      "title": "Leveraging Automated Unit Tests for Unsupervised Code Translation",
      "abstract": "",
      "year": "2022",
      "venue": "ICLR",
      "authors": "B. Rozière, J. Zhang, F. Charton, M. Harman, G. Synnaeve, and G. Lample",
      "orig_title": "Leveraging automated unit tests for unsupervised code translation",
      "paper_id": "2110.06773v2"
    },
    {
      "index": 12,
      "title": "Code Translation with Compiler Representations",
      "abstract": "",
      "year": "2023",
      "venue": "ICLR",
      "authors": "M. Szafraniec, B. Roziere, H. L. F. Charton, P. Labatut, and G. Synnaeve",
      "orig_title": "Code translation with compiler representations",
      "paper_id": "2207.03578v5"
    },
    {
      "index": 13,
      "title": "Rectifier: Code Translation with Corrector via LLMs",
      "abstract": "",
      "year": "2024",
      "venue": "CoRR",
      "authors": "X. Yin, C. Ni, T. N. Nguyen, S. Wang, and X. Yang",
      "orig_title": "Rectifier: Code translation with corrector via LLMs",
      "paper_id": "2407.07472v1"
    },
    {
      "index": 14,
      "title": "Lost in Translation: A Study of Bugs Introduced by Large Language Models while Translating Code",
      "abstract": "",
      "year": "2024",
      "venue": "",
      "authors": "R. Pan, A. R. Ibrahimzada, R. Krishna, D. Sankar, L. P. Wassi, M. Merler, B. Sobolev, R. Pavuluri, S. Sinha, and R. Jabbarvand",
      "orig_title": "Lost in translation: A study of bugs introduced by large language models while translating code",
      "paper_id": "2308.03109v3"
    },
    {
      "index": 15,
      "title": "Towards translating real-world code with LLMs: A study of translating to Rust",
      "abstract": "",
      "year": "2024",
      "venue": "",
      "authors": "H. F. Eniser, H. Zhang, C. David, M. Wang, M. Christakis, B. Paulsen, J. Dodds, and D. Kroening"
    },
    {
      "index": 16,
      "title": "VERT: Verified equivalent Rust transpilation with large language models as few-shot learners",
      "abstract": "",
      "year": "2024",
      "venue": "",
      "authors": "A. Z. H. Yang, Y. Takashima, B. Paulsen, J. Dodds, and D. Kroening"
    },
    {
      "index": 17,
      "title": "Repository-Level Compositional Code Translation and Validation",
      "abstract": "",
      "year": "2024",
      "venue": "",
      "authors": "A. R. Ibrahimzada, K. Ke, M. Pawagi, M. S. Abid, R. Pan, S. Sinha, and R. Jabbarvand",
      "orig_title": "Repository-level compositional code translation and validation",
      "paper_id": "2410.24117v5"
    },
    {
      "index": 18,
      "title": "Context-aware Code Segmentation for C-to-Rust Translation using Large Language Models",
      "abstract": "",
      "year": "2024",
      "venue": "",
      "authors": "M. Shiraishi and T. Shinagawa",
      "orig_title": "Context-aware code segmentation for C-to-Rust translation using large language models",
      "paper_id": "2409.10506v1"
    },
    {
      "index": 19,
      "title": "Operational semantics for multi-language programs",
      "abstract": "",
      "year": "2007",
      "venue": "ACM SIGPLAN-SIGACT Symposium on Principles of Programming Languages, POPL ’07",
      "authors": "J. Matthews and R. B. Findler"
    },
    {
      "index": 20,
      "title": "Moov ACH.",
      "abstract": "",
      "year": "",
      "venue": "",
      "authors": ""
    },
    {
      "index": 21,
      "title": "Featherweight Go",
      "abstract": "",
      "year": "2020",
      "venue": "",
      "authors": "R. Griesemer, R. Hu, W. Kokke, J. Lange, I. L. Taylor, B. Toninho, P. Wadler, and N. Yoshida"
    },
    {
      "index": 22,
      "title": "Anyhow.",
      "abstract": "",
      "year": "2024",
      "venue": "",
      "authors": "D. Tolnay"
    },
    {
      "index": 23,
      "title": "RustAssistant: Using LLMs to fix compilation errors in Rust code",
      "abstract": "",
      "year": "2025",
      "venue": "International Conference on Software Engineering (ICSE)",
      "authors": "P. Deligiannis, A. Lal, N. Mehrotra, R. Poddar, and A. Rastogi"
    },
    {
      "index": 24,
      "title": "Claude.",
      "abstract": "",
      "year": "",
      "venue": "",
      "authors": ""
    },
    {
      "index": 25,
      "title": "GPT-4 Technical Report",
      "abstract": "",
      "year": "2023",
      "venue": "arXiv preprint arXiv:2303.08774",
      "authors": "J. Achiam, S. Adler, S. Agarwal, L. Ahmad, I. Akkaya, F. L. Aleman, D. Almeida, J. Altenschmidt, S. Altman, S. Anadkat, et al.",
      "orig_title": "GPT-4 technical report",
      "paper_id": "2303.08774v6"
    },
    {
      "index": 26,
      "title": "Gemini.",
      "abstract": "",
      "year": "",
      "venue": "",
      "authors": ""
    },
    {
      "index": 27,
      "title": "String comparison and edit distance algorithms library.",
      "abstract": "",
      "year": "",
      "venue": "",
      "authors": ""
    },
    {
      "index": 28,
      "title": "Stats – Golang statistics package.",
      "abstract": "",
      "year": "",
      "venue": "",
      "authors": ""
    },
    {
      "index": 29,
      "title": "Textrank implementation in golang with extendable features (summarization, phrase extraction) and multithreading (goroutine)..",
      "abstract": "",
      "year": "",
      "venue": "",
      "authors": ""
    },
    {
      "index": 30,
      "title": "Streaming approximate histograms in Go.",
      "abstract": "",
      "year": "",
      "venue": "",
      "authors": ""
    },
    {
      "index": 31,
      "title": "Takes a full name and splits it into individual name parts.",
      "abstract": "",
      "year": "",
      "venue": "",
      "authors": ""
    },
    {
      "index": 32,
      "title": "Provide check digit algorithms and calculators written in Go.",
      "abstract": "",
      "year": "",
      "venue": "",
      "authors": ""
    },
    {
      "index": 33,
      "title": "Translating C to safer Rust",
      "abstract": "",
      "year": "2021",
      "venue": "ACM on Programming Languages",
      "authors": "M. Emre, R. Schroeder, K. Dewey, and B. Hardekopf"
    },
    {
      "index": 34,
      "title": "C to Go translator.",
      "abstract": "",
      "year": "",
      "venue": "",
      "authors": ""
    },
    {
      "index": 35,
      "title": "Sharpen – automated Java-¿C# coversion.",
      "abstract": "",
      "year": "",
      "venue": "",
      "authors": ""
    },
    {
      "index": 36,
      "title": "On the evaluation of neural code translation: Taxonomy and benchmark",
      "abstract": "",
      "year": "2023",
      "venue": "Automated Software Engineering (ASE)",
      "authors": "M. Jiao, T. Yu, X. Li, G. Qiu, X. Gu, and B. Shen"
    },
    {
      "index": 37,
      "title": "Attention, compilation, and solver-based symbolic analysis are all you need",
      "abstract": "",
      "year": "2023",
      "venue": "arXiv preprint arXiv:2306.06755",
      "authors": "P. Jana, P. Jha, H. Ju, G. Kishore, A. Mahajan, and V. Ganesh"
    },
    {
      "index": 38,
      "title": "CodeFuse-13B: A Pretrained Multi-lingual Code Large Language Model",
      "abstract": "",
      "year": "2024",
      "venue": "International Conference on Software Engineering: Software Engineering in Practice, ICSE-SEIP ’24",
      "authors": "P. Di, J. Li, H. Yu, W. Jiang, W. Cai, Y. Cao, C. Chen, D. Chen, H. Chen, L. Chen, G. Fan, J. Gong, Z. Gong, W. Hu, T. Guo, Z. Lei, T. Li, Z. Li, M. Liang, C. Liao, B. Liu, J. Liu, Z. Liu, S. Lu, M. Shen, G. Wang, H. Wang, Z. Wang, Z. Xu, J. Yang, Q. Ye, G. Zhang, Y. Zhang, Z. Zhao, X. Zheng, H. Zhou, L. Zhu, and X. Zhu",
      "orig_title": "CodeFuse-13B: A pretrained multi-lingual code large language model",
      "paper_id": "2310.06266v2"
    },
    {
      "index": 39,
      "title": "StructCoder: Structure-aware transformer for code generation",
      "abstract": "",
      "year": "2024",
      "venue": "ACM Trans. Knowl. Discov. Data",
      "authors": "S. Tipirneni, M. Zhu, and C. K. Reddy"
    },
    {
      "index": 40,
      "title": "CodeTransOcean: A Comprehensive Multilingual Benchmark for Code Translation",
      "abstract": "",
      "year": "2023",
      "venue": "arXiv preprint arXiv:2310.04951",
      "authors": "W. Yan, Y. Tian, Y. Li, Q. Chen, and W. Wang",
      "orig_title": "CodeTransOcean: A comprehensive multilingual benchmark for code translation",
      "paper_id": "2310.04951v2"
    },
    {
      "index": 41,
      "title": "CodeNet: A Large-Scale AI for Code Dataset for Learning a Diversity of Coding Tasks",
      "abstract": "",
      "year": "2021",
      "venue": "arXiv preprint arXiv:2105.12655",
      "authors": "R. Puri, D. S. Kung, G. Janssen, W. Zhang, G. Domeniconi, V. Zolotov, J. Dolby, J. Chen, M. Choudhury, L. Decker, et al.",
      "orig_title": "CodeNet: A large-scale AI for code dataset for learning a diversity of coding tasks",
      "paper_id": "2105.12655v2"
    },
    {
      "index": 42,
      "title": "CodeXGLUE: A Machine Learning Benchmark Dataset for Code Understanding and Generation",
      "abstract": "",
      "year": "2021",
      "venue": "Neural Information Processing Systems Track on Datasets and Benchmarks",
      "authors": "S. Lu, D. Guo, S. Ren, J. Huang, A. Svyatkovskiy, A. Blanco, C. Clement, D. Drain, D. Jiang, D. Tang, G. Li, L. Zhou, L. Shou, L. Zhou, M. Tufano, M. GONG, M. Zhou, N. Duan, N. Sundaresan, S. K. Deng, S. Fu, and S. LIU",
      "orig_title": "CodeXGLUE: A machine learning benchmark dataset for code understanding and generation",
      "paper_id": "2102.04664v2"
    },
    {
      "index": 43,
      "title": "AVATAR: A parallel corpus for Java-Python program translation",
      "abstract": "",
      "year": "2021",
      "venue": "arXiv preprint arXiv:2108.11590",
      "authors": "W. U. Ahmad, M. G. R. Tushar, S. Chakraborty, and K.-W. Chang"
    },
    {
      "index": 44,
      "title": "Is Your Code Generated by ChatGPT Really Correct? Rigorous Evaluation of Large Language Models for Code Generation",
      "abstract": "",
      "year": "2024",
      "venue": "Advances in Neural Information Processing Systems",
      "authors": "J. Liu, C. S. Xia, Y. Wang, and L. Zhang",
      "orig_title": "Is your code generated by ChatGPT really correct? Rigorous evaluation of large language models for code generation",
      "paper_id": "2305.01210v3"
    },
    {
      "index": 45,
      "title": "Evaluating Large Language Models Trained on Code",
      "abstract": "",
      "year": "2021",
      "venue": "arXiv preprint arXiv:2107.03374",
      "authors": "M. Chen, J. Tworek, H. Jun, Q. Yuan, H. P. d. O. Pinto, J. Kaplan, H. Edwards, Y. Burda, N. Joseph, G. Brockman, et al.",
      "orig_title": "Evaluating large language models trained on code",
      "paper_id": "2107.03374v2"
    },
    {
      "index": 46,
      "title": "Multilingual Code Co-Evolution Using Large Language Models",
      "abstract": "",
      "year": "2023",
      "venue": "Foundations of Software Engineering",
      "authors": "J. Zhang, P. Nie, J. J. Li, and M. Gligoric",
      "orig_title": "Multilingual code co-evolution using large language models",
      "paper_id": "2307.14991v2"
    },
    {
      "index": 47,
      "title": "Automated program repair in the era of large pre-trained language models",
      "abstract": "",
      "year": "2023",
      "venue": "ICSE",
      "authors": "C. S. Xia, Y. Wei, and L. Zhang"
    },
    {
      "index": 48,
      "title": "ContrastRepair: Enhancing Conversation-Based Automated Program Repair via Contrastive Test Case Pairs",
      "abstract": "",
      "year": "2024",
      "venue": "arXiv preprint arXiv:2403.01971",
      "authors": "J. Kong, M. Cheng, X. Xie, S. Liu, X. Du, and Q. Guo",
      "orig_title": "Contrastrepair: Enhancing conversation-based automated program repair via contrastive test case pairs",
      "paper_id": "2403.01971v2"
    },
    {
      "index": 49,
      "title": "Leveraging compiler intermediate representation for multi- and cross-language verification",
      "abstract": "",
      "year": "2020",
      "venue": "Verification, Model Checking, and Abstract Interpretation",
      "authors": "J. J. Garzella, M. Baranowski, S. He, and Z. Rakamarić"
    },
    {
      "index": 50,
      "title": "Semantic soundness for language interoperability",
      "abstract": "",
      "year": "2022",
      "venue": "Programming Language Design and Implementation, PLDI 2022",
      "authors": "D. Patterson, N. Mushtak, A. Wagner, and A. Ahmed"
    },
    {
      "index": 51,
      "title": "Translation validation",
      "abstract": "",
      "year": "1998",
      "venue": "Tools and Algorithms for Construction and Analysis of Systems",
      "authors": "A. Pnueli, M. Siegel, and E. Singerman"
    },
    {
      "index": 52,
      "title": "Translation validation for an optimizing compiler",
      "abstract": "",
      "year": "2000",
      "venue": "ACM SIGPLAN 2000 conference on Programming language design and implementation",
      "authors": "G. C. Necula"
    },
    {
      "index": 53,
      "title": "HyDiff: Hybrid differential software analysis",
      "abstract": "",
      "year": "2020",
      "venue": "International Conference on Software Engineering",
      "authors": "Y. Noller, C. S. Păsăreanu, M. Böhme, Y. Sun, H. L. Nguyen, and L. Grunske"
    },
    {
      "index": 54,
      "title": "Regression tests to expose change interaction errors",
      "abstract": "",
      "year": "2013",
      "venue": "Foundations of Software Engineering",
      "authors": "M. Böhme, B. C. d. S. Oliveira, and A. Roychoudhury"
    },
    {
      "index": 55,
      "title": "Shadow of a doubt: testing for divergences between software versions",
      "abstract": "",
      "year": "2016",
      "venue": "International Conference on Software Engineering",
      "authors": "H. Palikareva, T. Kuchta, and C. Cadar"
    },
    {
      "index": 56,
      "title": "Directed incremental symbolic execution",
      "abstract": "",
      "year": "2011",
      "venue": "ACM Sigplan Notices",
      "authors": "S. Person, G. Yang, N. Rungta, and S. Khurshid"
    },
    {
      "index": 57,
      "title": "DLFuzz: Differential Fuzzing Testing of Deep Learning Systems",
      "abstract": "",
      "year": "2018",
      "venue": "European Software Engineering Conference and Symposium on the Foundations of Software Engineering",
      "authors": "J. Guo, Y. Jiang, Y. Zhao, Q. Chen, and J. Sun",
      "orig_title": "DLFuzz: Differential fuzzing testing of deep learning systems",
      "paper_id": "1808.09413v1"
    },
    {
      "index": 58,
      "title": "Automated behavioral regression testing",
      "abstract": "",
      "year": "2010",
      "venue": "International Conference on Software Testing, Verification and Validation",
      "authors": "W. Jin, A. Orso, and T. Xie"
    },
    {
      "index": 59,
      "title": "DifFuzz: Differential Fuzzing for Side-Channel Analysis",
      "abstract": "",
      "year": "2019",
      "venue": "International Conference on Software Engineering (ICSE)",
      "authors": "S. Nilizadeh, Y. Noller, and C. S. Pasareanu",
      "orig_title": "Diffuzz: differential fuzzing for side-channel analysis",
      "paper_id": "1811.07005v2"
    }
  ]
}
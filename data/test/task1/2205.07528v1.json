{
  "paper_id": "2205.07528v1",
  "title": "The Smallest Hard Trees",
  "abstract": "Abstract\nWe find an orientation of a tree with 20 vertices such that the corresponding fixed-template constraint satisfaction problem (CSP) is NP-complete, and prove that for every orientation of a tree with fewer vertices the corresponding CSP can be solved in polynomial time.\nWe also compute the smallest tree that is NL-hard (assuming L‚â†NLLNL\\operatorname{L}\\neq\\operatorname{NL}), the smallest tree that cannot be solved by arc consistency, and the smallest tree that cannot be solved by Datalog.\nOur experimental results also support a conjecture of Bul√≠n concerning a question of Hell, Ne≈°et≈ôil and Zhu, namely that ‚Äòeasy trees lack the ability to count‚Äô.\nMost proofs are computer-based and make use of the most recent universal-algebraic theory about the complexity of finite-domain CSPs. However, further ideas are required because of the huge number of orientations of trees. In particular, we use the well-known fact that it suffices to study orientations of trees that are cores and show how to efficiently decide whether a given orientation of a tree is a core using the arc-consistency procedure. Moreover, we present a method to generate orientations of trees that are cores that works well in practice. In this way we found interesting examples for the open research problem to classify finite-domain CSPs in NL.\n\n\n\n\nKeywords:¬†\n\nGraph Homomorphism, Constraint Satisfaction Problem, Polymorphism, Tree, Computational Complexity, Arc Consistency, Bounded pathwidth duality, Datalog, linear Datalog, symmetric linear Datalog",
  "reference_labels": [
    {
      "index": 0,
      "title": "Expressiveness of restricted recursive queries (extended abstract)",
      "abstract": "",
      "year": "1989",
      "venue": "21st Annual ACM Symposium on Theory of Computing",
      "authors": "F. N. Afrati and S. S. Cosmadakis"
    },
    {
      "index": 1,
      "title": "The dichotomy for conservative constraint satisfaction problems revisited",
      "abstract": "",
      "year": "2011",
      "venue": "Symposium on Logic in Computer Science (LICS)",
      "authors": "L. Barto"
    },
    {
      "index": 2,
      "title": "Finitely related algebras in congruence distributive varieties have near unanimity terms",
      "abstract": "",
      "year": "2013",
      "venue": "Canadian Journal of Mathematics",
      "authors": "L. Barto"
    },
    {
      "index": 3,
      "title": "CSP dichotomy for special polyads",
      "abstract": "",
      "year": "2013",
      "venue": "Int. J. Algebra Comput.",
      "authors": "L. Barto and J. Bul√≠n"
    },
    {
      "index": 4,
      "title": "Constraint satisfaction problems of bounded width",
      "abstract": "",
      "year": "2009",
      "venue": "Symposium on Foundations of Computer Science (FOCS)",
      "authors": "L. Barto and M. Kozik"
    },
    {
      "index": 5,
      "title": "Absorbing subalgebras, cyclic terms and the constraint satisfaction problem",
      "abstract": "",
      "year": "2012",
      "venue": "Logical Methods in Computer Science",
      "authors": "L. Barto and M. Kozik"
    },
    {
      "index": 6,
      "title": "Constraint satisfaction problems solvable by local consistency methods",
      "abstract": "",
      "year": "2014",
      "venue": "Journal of the ACM",
      "authors": "L. Barto and M. Kozik"
    },
    {
      "index": 7,
      "title": "CSP dichotomy for special triads",
      "abstract": "",
      "year": "2009",
      "venue": "American Mathematical Society",
      "authors": "L. Barto, M. Kozik, M. Mar√≥ti, and T. Niven"
    },
    {
      "index": 8,
      "title": "Erratum to: CSP dichotomy for special triads",
      "abstract": "",
      "year": "2009",
      "venue": "",
      "authors": "L. Barto, M. Kozik, M. Mar√≥ti, and T. Niven"
    },
    {
      "index": 9,
      "title": "The CSP dichotomy holds for digraphs with no sources and no sinks (a positive answer to a conjecture of Bang-Jensen and Hell)",
      "abstract": "",
      "year": "2009",
      "venue": "SIAM Journal on Computing",
      "authors": "L. Barto, M. Kozik, and T. Niven"
    },
    {
      "index": 10,
      "title": "Near unanimity constraints have bounded pathwidth duality",
      "abstract": "",
      "year": "2012",
      "venue": "27th ACM/IEEE Symposium on Logic in Computer Science (LICS)",
      "authors": "L. Barto, M. Kozik, and R. Willard"
    },
    {
      "index": 11,
      "title": "Polymorphisms, and how to use them",
      "abstract": "",
      "year": "2017",
      "venue": "The Constraint Satisfaction Problem: Complexity and Approximability",
      "authors": "L. Barto, A. Krokhin, and R. Willard"
    },
    {
      "index": 12,
      "title": "The Wonderland of Reflections",
      "abstract": "",
      "year": "2018",
      "venue": "Israel Journal of Mathematics",
      "authors": "L. Barto, J. Opr≈°al, and M. Pinsker",
      "orig_title": "The wonderland of reflections",
      "paper_id": "1510.04521v2"
    },
    {
      "index": 13,
      "title": "Canonical polymorphisms of Ramsey structures and the unique interpolation property",
      "abstract": "",
      "year": "2021",
      "venue": "Symposium on Logic in Computer Science (LICS)",
      "authors": "M. Bodirsky and B. Bodor"
    },
    {
      "index": 14,
      "title": "A model-theoretic view on qualitative constraint reasoning",
      "abstract": "",
      "year": "2017",
      "venue": "Journal of Artificial Intelligence Research",
      "authors": "M. Bodirsky and P. Jonsson"
    },
    {
      "index": 15,
      "title": "Tractable conservative constraint satisfaction problems",
      "abstract": "",
      "year": "2003",
      "venue": "Symposium on Logic in Computer Science (LICS)",
      "authors": "A. A. Bulatov"
    },
    {
      "index": 16,
      "title": "Bounded relational width",
      "abstract": "",
      "year": "2009",
      "venue": "",
      "authors": "A. A. Bulatov"
    },
    {
      "index": 17,
      "title": "Conservative constraint satisfaction re-revisited",
      "abstract": "",
      "year": "2016",
      "venue": "Journal Computer and System Sciences",
      "authors": "A. A. Bulatov",
      "orig_title": "Conservative constraint satisfaction re-revisited",
      "paper_id": "1408.3690v1"
    },
    {
      "index": 18,
      "title": "A dichotomy theorem for nonuniform CSPs",
      "abstract": "",
      "year": "2017",
      "venue": "58th IEEE Annual Symposium on Foundations of Computer Science, FOCS 2017",
      "authors": "A. A. Bulatov",
      "orig_title": "A dichotomy theorem for nonuniform CSPs",
      "paper_id": "1703.03021v2"
    },
    {
      "index": 19,
      "title": "Classifying the complexity of constraints using finite algebras",
      "abstract": "",
      "year": "2005",
      "venue": "SIAM Journal on Computing",
      "authors": "A. A. Bulatov, A. A. Krokhin, and P. G. Jeavons"
    },
    {
      "index": 20,
      "title": "On the complexity of ‚Ñç-coloring for special oriented trees",
      "abstract": "",
      "year": "2018",
      "venue": "Eur. J. Comb.",
      "authors": "J. Bul√≠n",
      "orig_title": "On the complexity of HùêªH-coloring for special oriented trees",
      "paper_id": "1407.1779v3"
    },
    {
      "index": 21,
      "title": "A finer reduction of constraint problems to digraphs",
      "abstract": "",
      "year": "2015",
      "venue": "Log. Methods Comput. Sci.",
      "authors": "J. Bul√≠n, D. Delic, M. Jackson, and T. Niven"
    },
    {
      "index": 22,
      "title": "CSP duality and trees of bounded pathwidth",
      "abstract": "",
      "year": "2010",
      "venue": "Theoretical Computer Science",
      "authors": "C. Carvalho, V. Dalmau, and A. Krokhin"
    },
    {
      "index": 23,
      "title": "Asking the metaquestions in constraint tractability",
      "abstract": "",
      "year": "2017",
      "venue": "TOCT",
      "authors": "H. Chen and B. Larose"
    },
    {
      "index": 24,
      "title": "Computational complexity of problems over generalized formulas",
      "abstract": "",
      "year": "2000",
      "venue": "",
      "authors": "V. Dalmau"
    },
    {
      "index": 25,
      "title": "Linear Datalog and bounded path duality of relational structures",
      "abstract": "",
      "year": "2005",
      "venue": "Logical Methods in Computer Science",
      "authors": "V. Dalmau"
    },
    {
      "index": 26,
      "title": "Closure functions and width 1 problems",
      "abstract": "",
      "year": "1999",
      "venue": "International Conference on Principles and Practice of Constraint Programming (CP)",
      "authors": "V. Dalmau and J. Pearson"
    },
    {
      "index": 27,
      "title": "Graph Theory",
      "abstract": "",
      "year": "2005",
      "venue": "Springer‚ÄìVerlag",
      "authors": "R. Diestel"
    },
    {
      "index": 28,
      "title": "Symmetric datalog and constraint satisfaction problems in logspace",
      "abstract": "",
      "year": "2007",
      "venue": "Symposium on Logic in Computer Science (LICS)",
      "authors": "L. Egri, B. Larose, and P. Tesson"
    },
    {
      "index": 29,
      "title": "Directed st-connectivity is not expressible in symmetric datalog",
      "abstract": "",
      "year": "2008",
      "venue": "35th International Colloquium on Automata, Languages and Programming, Part II, ICALP ‚Äô08",
      "authors": "L. Egri, B. Larose, and P. Tesson"
    },
    {
      "index": 30,
      "title": "Classification of homomorphisms to oriented cycles and of kùëòk-partite satisfiability",
      "abstract": "",
      "year": "2001",
      "venue": "SIAM Journal on Discrete Mathematics",
      "authors": "T. Feder"
    },
    {
      "index": 31,
      "title": "The computational structure of monotone monadic SNP and constraint satisfaction: a study through Datalog and group theory",
      "abstract": "",
      "year": "1999",
      "venue": "SIAM Journal on Computing",
      "authors": "T. Feder and M. Y. Vardi"
    },
    {
      "index": 32,
      "title": "CSPs of orientations of trees",
      "abstract": "",
      "year": "2015",
      "venue": "",
      "authors": "J. Fischer"
    },
    {
      "index": 33,
      "title": "Graph colourings",
      "abstract": "",
      "year": "1991",
      "venue": "",
      "authors": "W. Gutjahr"
    },
    {
      "index": 34,
      "title": "Polynomial graph-colorings",
      "abstract": "",
      "year": "1992",
      "venue": "Discret. Appl. Math.",
      "authors": "W. Gutjahr, E. Welzl, and G. J. Woeginger"
    },
    {
      "index": 35,
      "title": "Complexity of tree homomorphisms",
      "abstract": "",
      "year": "1996",
      "venue": "Discret. Appl. Math.",
      "authors": "P. Hell, J. Nesetril, and X. Zhu"
    },
    {
      "index": 36,
      "title": "On the complexity of H-coloring",
      "abstract": "",
      "year": "1990",
      "venue": "Journal of Combinatorial Theory, Series B",
      "authors": "P. Hell and J. Ne≈°et≈ôil"
    },
    {
      "index": 37,
      "title": "The core of a graph",
      "abstract": "",
      "year": "1992",
      "venue": "Discrete Mathematics",
      "authors": "P. Hell and J. Ne≈°et≈ôil"
    },
    {
      "index": 38,
      "title": "Graphs and Homomorphisms",
      "abstract": "",
      "year": "2004",
      "venue": "Oxford University Press",
      "authors": "P. Hell and J. Ne≈°et≈ôil"
    },
    {
      "index": 39,
      "title": "Duality and polynomial testing of tree homomorphisms",
      "abstract": "",
      "year": "1996",
      "venue": "TAMS",
      "authors": "P. Hell, J. Ne≈°et≈ôil, and X. Zhu"
    },
    {
      "index": 40,
      "title": "The dichotomy of list homomorphisms for digraphs",
      "abstract": "",
      "year": "2011",
      "venue": "Twenty-Second Annual ACM-SIAM Symposium on Discrete Algorithms, SODA ‚Äô11",
      "authors": "P. Hell and A. Rafiey"
    },
    {
      "index": 41,
      "title": "The structure of finite algebras, volume 76 of Contemporary Mathematics",
      "abstract": "",
      "year": "1988",
      "venue": "American Mathematical Society",
      "authors": "D. Hobby and R. McKenzie"
    },
    {
      "index": 42,
      "title": "Closure properties of constraints",
      "abstract": "",
      "year": "1997",
      "venue": "Journal of the ACM",
      "authors": "P. Jeavons, D. Cohen, and M. Gyssens"
    },
    {
      "index": 43,
      "title": "On generating all maximal independent sets",
      "abstract": "",
      "year": "1988",
      "venue": "Information Processing Letters",
      "authors": "D. S. Johnson, M. Yannakakis, and C. H. Papadimitriou"
    },
    {
      "index": 44,
      "title": "Maltsev digraphs have a majority polymorphism",
      "abstract": "",
      "year": "2011",
      "venue": "European Journal of Combinatorics",
      "authors": "A. Kazda"
    },
    {
      "index": 45,
      "title": "ùëõ-permutability and linear Datalog implies symmetric Datalog",
      "abstract": "",
      "year": "2018",
      "venue": "Logical Methods in Computer Science",
      "authors": "A. Kazda",
      "orig_title": "nùëõn-permutability and linear Datalog implies symmetric Datalog",
      "paper_id": "1508.05766v6"
    },
    {
      "index": 46,
      "title": "CSP for binary conservative relational structures",
      "abstract": "",
      "year": "2019",
      "venue": "Algebra universalis",
      "authors": "A. Kazda"
    },
    {
      "index": 47,
      "title": "The Shape of Congruence Lattices, volume 222 (1046) of Memoirs of the American Mathematical Society",
      "abstract": "",
      "year": "2013",
      "venue": "American Mathematical Society",
      "authors": "K. A. Kearnes and E. W. Kiss"
    },
    {
      "index": 48,
      "title": "Optimal strong Mal‚Äôcev conditions for omitting type 1 in locally finite varieties",
      "abstract": "",
      "year": "2015",
      "venue": "Algebra Universalis",
      "authors": "K. A. Kearnes, P. Markoviƒá, and R. McKenzie"
    },
    {
      "index": 49,
      "title": "Weak consistency notions for all the CSPs of bounded width",
      "abstract": "",
      "year": "2016",
      "venue": "31st Annual ACM/IEEE Symposium on Logic in Computer Science, LICS ‚Äô16",
      "authors": "M. Kozik"
    },
    {
      "index": 50,
      "title": "Characterizations of several Maltsev conditions",
      "abstract": "",
      "year": "2015",
      "venue": "Algebra universalis",
      "authors": "M. Kozik, A. Krokhin, M. Valeriote, and R. Willard"
    },
    {
      "index": 51,
      "title": "Universal algebra and hardness results for constraint satisfaction problems",
      "abstract": "",
      "year": "2009",
      "venue": "Theoretical Computer Science",
      "authors": "B. Larose and P. Tesson"
    },
    {
      "index": 52,
      "title": "Omitting types, bounded width and the ability to count",
      "abstract": "",
      "year": "2009",
      "venue": "International Journal of Algebra and Computation",
      "authors": "B. Larose, M. Valeriote, and L. Z√°dori"
    },
    {
      "index": 53,
      "title": "When is a random graph projective?",
      "abstract": "",
      "year": "2006",
      "venue": "Eur. Journal Comb.",
      "authors": "T. ≈Åuczak and J. Ne≈°et≈ôil"
    },
    {
      "index": 54,
      "title": "Consistency in networks of relations",
      "abstract": "",
      "year": "1977",
      "venue": "Artificial Intelligence",
      "authors": "A. K. Mackworth"
    },
    {
      "index": 55,
      "title": "Existence theorems for weakly symmetric operations",
      "abstract": "",
      "year": "2008",
      "venue": "Algebra Universalis",
      "authors": "M. Mar√≥ti and R. McKenzie"
    },
    {
      "index": 56,
      "title": "Minizinc: Towards a standard CP modelling language",
      "abstract": "",
      "year": "2007",
      "venue": "Principles and Practice of Constraint Programming ‚Äì CP 2007",
      "authors": "N. Nethercote, P. J. Stuckey, R. Becket, S. Brand, G. J. Duck, and G. Tack"
    },
    {
      "index": 57,
      "title": "Contradicting conventional wisdom in constraint satisfaction",
      "abstract": "",
      "year": "1994",
      "venue": "ECAI",
      "authors": "D. Sabin and E. C. Freuder"
    },
    {
      "index": 58,
      "title": "Gecode, generic constraint development environment, 2010",
      "abstract": "",
      "year": "",
      "venue": "",
      "authors": "C. Schulte, M. Z. Lagerkvist, and G. Tack"
    },
    {
      "index": 59,
      "title": "A strong Mal‚Äôcev condition for varieties omitting the unary type",
      "abstract": "",
      "year": "2010",
      "venue": "Algebra Universalis",
      "authors": "M. H. Siggers"
    },
    {
      "index": 60,
      "title": "CSP over oriented trees",
      "abstract": "",
      "year": "2019",
      "venue": "",
      "authors": "W. Tatarko"
    },
    {
      "index": 61,
      "title": "Algorithm for generating all unlabeled trees with nùëõn nodes?",
      "abstract": "",
      "year": "",
      "venue": "Computer Science Stack Exchange",
      "authors": "P. Taylor"
    },
    {
      "index": 62,
      "title": "A Proof of the CSP Dichotomy Conjecture",
      "abstract": "",
      "year": "2020",
      "venue": "J. ACM",
      "authors": "D. Zhuk",
      "orig_title": "A proof of the CSP dichotomy conjecture",
      "paper_id": "1704.01914v11"
    },
    {
      "index": 63,
      "title": "A proof of CSP dichotomy conjecture",
      "abstract": "",
      "year": "2017",
      "venue": "58th IEEE Annual Symposium on Foundations of Computer Science, FOCS 2017",
      "authors": "D. N. Zhuk"
    }
  ]
}
{
  "paper_id": "2008.11601v3",
  "title": "TZ4Fabric: Executing Smart Contracts with ARM TrustZone",
  "abstract": "Abstract\nBlockchain technology promises to revolutionize manufacturing industries.\nFor example, several supply chain use cases may benefit from transparent asset tracking and automated processes using smart contracts.\nSeveral real-world deployments exist where the transparency aspect of a blockchain is both an advantage and a disadvantage at the same time.\nThe exposure of assets and business interaction represent critical risks.\nHowever, there are typically no confidentiality guarantees to protect the smart contract logic as well as the processed data.\nTrusted execution environments (TEE) are an emerging technology available in both edge or mobile-grade processors (e.g., ARM TrustZone) and server-grade processors (e.g., Intel SGX).\nTEEs shield both code and data from malicious attackers.\nThis practical experience report presents Tz4Fabric, an extension of Hyperledger Fabric to leverage ARM TrustZone for the secure execution of smart contracts.\nOur design minimizes the trusted computing base executed by avoiding the execution of a whole Hyperledger Fabric node inside the TEE, which continues to run in untrusted environment.\nInstead, we restrict it to the execution of only the smart contract.\nThe Tz4Fabric prototype exploits the open-source OP-TEE framework, as it supports deployments on cheap low-end devices (e.g., Raspberry Pis). Our experimental results highlight the performance trade-off due to the additional security guarantees provided by ARM TrustZone.\nTz4Fabric will be released as open source.",
  "reference_labels": [
    {
      "index": 0,
      "title": "Industry 4.0",
      "abstract": "",
      "year": "2014",
      "venue": "Business & information systems engineering",
      "authors": "H. Lasi, P. Fettke, H.-G. Kemper, T. Feld, and M. Hoffmann"
    },
    {
      "index": 1,
      "title": "Applications of blockchain technology beyond cryptocurrency",
      "abstract": "",
      "year": "2018",
      "venue": "arXiv preprint arXiv:1801.03528",
      "authors": "M. H. Miraz and M. Ali"
    },
    {
      "index": 2,
      "title": "Blockchain-based settlement for asset trading",
      "abstract": "",
      "year": "2019",
      "venue": "The Review of Financial Studies",
      "authors": "J. Chiu and T. V. Koeppl"
    },
    {
      "index": 3,
      "title": "A blockchain framework for insurance processes",
      "abstract": "",
      "year": "2018",
      "venue": "2018 9th IFIP International Conference on New Technologies, Mobility and Security (NTMS)",
      "authors": "M. Raikwar, S. Mazumdar, S. Ruj, S. S. Gupta, A. Chattopadhyay, and K.-Y. Lam"
    },
    {
      "index": 4,
      "title": "Bitspark",
      "abstract": "",
      "year": "2019",
      "venue": "bitspark.io",
      "authors": ""
    },
    {
      "index": 5,
      "title": "Abra",
      "abstract": "",
      "year": "2019",
      "venue": "abra.com",
      "authors": ""
    },
    {
      "index": 6,
      "title": "How blockchain is changing finance",
      "abstract": "",
      "year": "2017",
      "venue": "Harvard Business Review",
      "authors": "A. Tapscott and D. Tapscott"
    },
    {
      "index": 7,
      "title": "Farmer connect",
      "abstract": "",
      "year": "2018",
      "venue": "farmerconnect.com",
      "authors": ""
    },
    {
      "index": 8,
      "title": "IBM Food Trust",
      "abstract": "",
      "year": "2018",
      "venue": "ibm.com/blockchain/solutions/food-trust",
      "authors": ""
    },
    {
      "index": 9,
      "title": "TradeLens",
      "abstract": "",
      "year": "2018",
      "venue": "tradelens.com",
      "authors": ""
    },
    {
      "index": 10,
      "title": "A Taxonomy of Blockchain-Based Systems for Architecture Design",
      "abstract": "",
      "year": "2017",
      "venue": "IEEE International Conference on Software Architecture, ICSA 2017",
      "authors": "X. Xu, I. Weber, M. Staples, L. Zhu, J. Bosch, L. Bass, C. Pautasso, and P. Rimba"
    },
    {
      "index": 11,
      "title": "The idea of smart contracts",
      "abstract": "",
      "year": "1997",
      "venue": "nakamotoinstitute.org/the-idea-of-smart-contracts",
      "authors": ""
    },
    {
      "index": 12,
      "title": "Blockchains and Smart Contracts for the Internet of Things",
      "abstract": "",
      "year": "2016",
      "venue": "IEEE Access",
      "authors": "K. Christidis and M. Devetsikiotis"
    },
    {
      "index": 13,
      "title": "Intersections between IoT and distributed ledger",
      "abstract": "",
      "year": "2019",
      "venue": "Advances in Computers",
      "authors": "H. F. Atlam and G. B. Wills"
    },
    {
      "index": 14,
      "title": "Intel SGX explained",
      "abstract": "",
      "year": "2016",
      "venue": "IACR Cryptology ePrint Archive",
      "authors": "V. Costan and S. Devadas"
    },
    {
      "index": 15,
      "title": "ARM Security Technology Building a Secure System using TrustZone Technology",
      "abstract": "",
      "year": "",
      "venue": "",
      "authors": "ARM Limited"
    },
    {
      "index": 16,
      "title": "TrustZone",
      "abstract": "",
      "year": "",
      "venue": "",
      "authors": "ARM Developer"
    },
    {
      "index": 17,
      "title": "TrustZone explained: Architectural features and use cases",
      "abstract": "",
      "year": "2016",
      "venue": "IEEE 2nd International Conference on Collaboration and Internet Computing (CIC)",
      "authors": "B. Ngabonziza, D. Martin, A. Bailey, H. Cho, and S. Martin"
    },
    {
      "index": 18,
      "title": "Blockchain and Trusted Computing: Problems, Pitfalls, and a Solution for Hyperledger Fabric",
      "abstract": "",
      "year": "2018",
      "venue": "CoRR",
      "authors": "M. Brandenburger, C. Cachin, R. Kapitza, and A. Sorniotti",
      "orig_title": "Blockchain and Trusted Computing: Problems, Pitfalls, and a Solution for Hyperledger Fabric",
      "paper_id": "1805.08541v1"
    },
    {
      "index": 19,
      "title": "fabric-private-chaincode github repository",
      "abstract": "",
      "year": "",
      "venue": "github.com/hyperledger-labs/fabric-private-chaincode",
      "authors": ""
    },
    {
      "index": 20,
      "title": "The IoT Requires A New Type Of Low-Power Processor",
      "abstract": "",
      "year": "2014",
      "venue": "electronicdesign.com",
      "authors": "P. Garden"
    },
    {
      "index": 21,
      "title": "CPU Comparison: X86 vs ARM — Will Intel i9 9900K Stay Atop?",
      "abstract": "",
      "year": "2019",
      "venue": "fossbytes.com",
      "authors": "Y. Dubey"
    },
    {
      "index": 22,
      "title": "Hyperledger Fabric Documentation",
      "abstract": "",
      "year": "",
      "venue": "hyperledger-fabric.readthedocs.io",
      "authors": "Hyperledger"
    },
    {
      "index": 23,
      "title": "Bitcoin as a transaction ledger: A composable treatment",
      "abstract": "",
      "year": "2017",
      "venue": "Annual International Cryptology Conference",
      "authors": "C. Badertscher, U. Maurer, D. Tschudi, and V. Zikas"
    },
    {
      "index": 24,
      "title": "The bitcoin backbone protocol: Analysis and applications",
      "abstract": "",
      "year": "2015",
      "venue": "Annual International Conference on the Theory and Applications of Cryptographic Techniques",
      "authors": "J. Garay, A. Kiayias, and N. Leonardos"
    },
    {
      "index": 25,
      "title": "Snow white: Provably secure proofs of stake.",
      "abstract": "",
      "year": "2016",
      "venue": "IACR Cryptology ePrint Archive",
      "authors": "I. Bentov, R. Pass, and E. Shi"
    },
    {
      "index": 26,
      "title": "Ouroboros praos: An adaptively-secure, semi-synchronous proof-of-stake blockchain",
      "abstract": "",
      "year": "2018",
      "venue": "Annual International Conference on the Theory and Applications of Cryptographic Techniques",
      "authors": "B. David, P. Gaži, A. Kiayias, and A. Russell"
    },
    {
      "index": 27,
      "title": "Blockchain Consensus Protocols in the Wild (Keynote Talk)",
      "abstract": "",
      "year": "2017",
      "venue": "31st International Symposium on Distributed Computing, DISC 2017",
      "authors": "C. Cachin and M. Vukolic"
    },
    {
      "index": 28,
      "title": "Bitcoin",
      "abstract": "",
      "year": "",
      "venue": "bitcoin.org/en",
      "authors": ""
    },
    {
      "index": 29,
      "title": "Ethereum",
      "abstract": "",
      "year": "",
      "venue": "ethereum.org",
      "authors": ""
    },
    {
      "index": 30,
      "title": "Ripple",
      "abstract": "",
      "year": "",
      "venue": "ripple.com",
      "authors": ""
    },
    {
      "index": 31,
      "title": "Hyperledger Fabric: A Distributed Operating System for Permissioned Blockchains",
      "abstract": "",
      "year": "2018",
      "venue": "Thirteenth EuroSys Conference, EuroSys 2018",
      "authors": "E. Androulaki, A. Barger, V. Bortnikov, C. Cachin, K. Christidis, A. D. Caro, D. Enyeart, C. Ferris, G. Laventman, Y. Manevich, S. Muralidharan, C. Murthy, B. Nguyen, M. Sethi, G. Singh, K. Smith, A. Sorniotti, C. Stathakopoulou, M. Vukolic, S. W. Cocco, and J. Yellick",
      "orig_title": "Hyperledger Fabric: a Distributed Operating System for Permissioned Blockchains",
      "paper_id": "1801.10228v2"
    },
    {
      "index": 32,
      "title": "On blockchain and its integration with IoT. Challenges and opportunities",
      "abstract": "",
      "year": "2018",
      "venue": "Future Generation Comp. Syst.",
      "authors": "A. Reyna, C. Martín, J. Chen, E. Soler, and M. Díaz"
    },
    {
      "index": 33,
      "title": "What Is Smart Contracts Blockchain and Its Use Cases in Business",
      "abstract": "",
      "year": "2018",
      "venue": "dzone.com",
      "authors": "V. Osetskyi"
    },
    {
      "index": 34,
      "title": "A Survey of Attacks on Ethereum Smart Contracts (SoK)",
      "abstract": "",
      "year": "2017",
      "venue": "Principles of Security and Trust - 6th International Conference, POST 2017, Held as Part of the European Joint Conferences on Theory and Practice of Software, ETAPS 2017",
      "authors": "N. Atzei, M. Bartoletti, and T. Cimoli"
    },
    {
      "index": 35,
      "title": "Hyperledger",
      "abstract": "",
      "year": "",
      "venue": "hyperledger.org",
      "authors": "T. L. Foundation"
    },
    {
      "index": 36,
      "title": "Secure and Trusted Execution: Past, Present, and Future - A Critical Review in the Context of the Internet of Things and Cyber-Physical Systems",
      "abstract": "",
      "year": "2016",
      "venue": "IEEE Trustcom/BigDataSE/ISPA",
      "authors": "C. Shepherd, G. Arfaoui, I. Gurulian, R. P. Lee, K. Markantonakis, R. N. Akram, D. Sauveron, and E. Conchon"
    },
    {
      "index": 37,
      "title": "OP-TEE Documentation",
      "abstract": "",
      "year": "",
      "venue": "optee.readthedocs.io",
      "authors": "Linaro"
    },
    {
      "index": 38,
      "title": "GlobalPlatform",
      "abstract": "",
      "year": "",
      "venue": "globalplatform.org",
      "authors": ""
    },
    {
      "index": 39,
      "title": "TrustZone Explained: Architectural Features and Use Cases",
      "abstract": "",
      "year": "2016",
      "venue": "2nd IEEE International Conference on Collaboration and Internet Computing, CIC 2016",
      "authors": "B. Ngabonziza, D. Martin, A. Bailey, H. Cho, and S. Martin"
    },
    {
      "index": 40,
      "title": "Practical byzantine fault tolerance",
      "abstract": "",
      "year": "1999",
      "venue": "Third Symposium on Operating Systems Design and Implementation, OSDI '99",
      "authors": "M. Castro and B. Liskov"
    },
    {
      "index": 41,
      "title": "Fides – Unleashing the full potential of remote attestation",
      "abstract": "",
      "year": "2019",
      "venue": "16th International Joint Conference on e-Business and Telecommunications, SECRYPT’19",
      "authors": "B. Prünster, G. Palfinger, and C. Kollmann"
    },
    {
      "index": 42,
      "title": "Hardware-Backed Heist: Extracting ECDSA Keys from Qualcomm’s TrustZone",
      "abstract": "",
      "year": "2019",
      "venue": "2019 ACM SIGSAC Conference on Computer and Communications Security, CCS '19",
      "authors": "K. Ryan"
    },
    {
      "index": 43,
      "title": "VoltJockey: Breaching TrustZone by Software-Controlled Voltage Manipulation over Multi-Core Frequencies",
      "abstract": "",
      "year": "2019",
      "venue": "2019 ACM SIGSAC Conference on Computer and Communications Security, CCS '19",
      "authors": "P. Qiu, D. Wang, Y. Lyu, and G. Qu"
    },
    {
      "index": 44,
      "title": "ARM Speculation Barrier",
      "abstract": "",
      "year": "2020",
      "venue": "github.com/ARM-software/speculation-barrier",
      "authors": ""
    },
    {
      "index": 45,
      "title": "Meltdown: Reading kernel memory from user space",
      "abstract": "",
      "year": "2018",
      "venue": "27th USENIX Security Symposium (USENIX Security 18)",
      "authors": "M. Lipp, M. Schwarz, D. Gruss, T. Prescher, W. Haas, A. Fogh, J. Horn, S. Mangard, P. Kocher, D. Genkin et al."
    },
    {
      "index": 46,
      "title": "Introducing gRPC, a new open source HTTP/2 RPC Framework",
      "abstract": "",
      "year": "2015",
      "venue": "developers.googleblog.com",
      "authors": "M. Marculescu"
    },
    {
      "index": 47,
      "title": "Solidity - the Contract-Oriented Programming Language",
      "abstract": "",
      "year": "",
      "venue": "github.com/ethereum/solidity",
      "authors": ""
    },
    {
      "index": 48,
      "title": "TEE Client API Specification, Version 1.0",
      "abstract": "",
      "year": "2010",
      "venue": "globalplatform.org/specs-library",
      "authors": "GlobalPlatform, Inc."
    },
    {
      "index": 49,
      "title": "TEE Internal Core API Specification, Version 1.1",
      "abstract": "",
      "year": "2014",
      "venue": "globalplatform.org/specs-library",
      "authors": "GlobalPlatform, Inc."
    },
    {
      "index": 50,
      "title": "Does the ARM TrustZone technology support sealing a private key under a code hash?",
      "abstract": "",
      "year": "",
      "venue": "security.stackexchange.com",
      "authors": "StackExchange"
    },
    {
      "index": 51,
      "title": "remote attestation for OP-TEE",
      "abstract": "",
      "year": "2019",
      "venue": "github.com/OP-TEE/optee_os/issues/3057",
      "authors": "optee_os github issue"
    },
    {
      "index": 52,
      "title": "All you need to know about Power over Ethernet (PoE) and the IEEE 802.3 af Standard",
      "abstract": "",
      "year": "2004",
      "venue": "",
      "authors": "G. Mendelson"
    },
    {
      "index": 53,
      "title": "CCF’s documentation",
      "abstract": "",
      "year": "",
      "venue": "github.com/Microsoft/CCF",
      "authors": "M. Research"
    },
    {
      "index": 54,
      "title": "Ekiden: A Platform for Confidentiality-Preserving, Trustworthy, and Performant Smart Contract Execution",
      "abstract": "",
      "year": "2018",
      "venue": "CoRR",
      "authors": "R. Cheng, F. Zhang, J. Kos, W. He, N. Hynes, N. M. Johnson, A. Juels, A. Miller, and D. Song"
    },
    {
      "index": 55,
      "title": "ShadowEth: Private Smart Contract on Public Blockchain",
      "abstract": "",
      "year": "2018",
      "venue": "J. Comput. Sci. Technol.",
      "authors": "R. Yuan, Y. Xia, H. Chen, B. Zang, and J. Xie"
    },
    {
      "index": 56,
      "title": "Private Data Objects: an Overview",
      "abstract": "",
      "year": "2018",
      "venue": "CoRR",
      "authors": "M. Bowman, A. Miele, M. Steiner, and B. Vavala",
      "orig_title": "Private Data Objects: an Overview",
      "paper_id": "1807.05686v2"
    },
    {
      "index": 57,
      "title": "Trusted computing meets blockchain: Rollback attacks and a solution for hyperledger fabric",
      "abstract": "",
      "year": "2019",
      "venue": "38th Symposium on Reliable Distributed Systems (SRDS)",
      "authors": "M. Brandenburger, C. Cachin, R. Kapitza, and A. Sorniotti"
    },
    {
      "index": 58,
      "title": "AnyLedger: Embedded wallet for decentralized IoT",
      "abstract": "",
      "year": "",
      "venue": "anyledger.io/whitepaperAnyLedger.pdf",
      "authors": "B. Djukic and L. Pieri"
    },
    {
      "index": 59,
      "title": "IoT Resource Access utilizing Blockchains and Trusted Execution Environments",
      "abstract": "",
      "year": "2019",
      "venue": "2019 Global IoT Summit, GIoTS 2019",
      "authors": "V. A. Siris, D. Dimopoulos, N. Fotiou, S. Voulgaris, and G. C. Polyzos"
    },
    {
      "index": 60,
      "title": "BeeKeeper 2.0: Confidential Blockchain-Enabled IoT System with Fully Homomorphic Computation",
      "abstract": "",
      "year": "2018",
      "venue": "Sensors",
      "authors": "L. Zhou, L. Wang, T. Ai, and Y. Sun"
    },
    {
      "index": 61,
      "title": "SBLWT: A Secure Blockchain Lightweight Wallet Based on Trustzone",
      "abstract": "",
      "year": "2018",
      "venue": "IEEE Access",
      "authors": "W. Dai, J. Deng, Q. Wang, C. Cui, D. Zou, and H. Jin"
    },
    {
      "index": 62,
      "title": "TrustZone-backed bitcoin wallet",
      "abstract": "",
      "year": "2017",
      "venue": "Fourth Workshop on Cryptography and Security in Computing Systems, CS2@HiPEAC 2017",
      "authors": "M. Gentilal, P. Martins, and L. Sousa"
    }
  ]
}
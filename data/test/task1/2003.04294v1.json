{
  "paper_id": "2003.04294v1",
  "title": "Optimizing Streaming Parallelism on Heterogeneous Many-Core Architectures: A Machine Learning Based Approach",
  "abstract": "Abstract\nAs many-core accelerators keep integrating more processing units, it becomes increasingly more difficult for a\nparallel application to make effective use of all available resources. An effective way for improving hardware\nutilization is to exploit spatial and temporal sharing of the heterogeneous processing units by multiplexing\ncomputation and communication tasks – a strategy known as heterogeneous streaming. Achieving effective\nheterogeneous streaming requires carefully partitioning hardware among tasks, and matching the granularity of\ntask parallelism to the resource partition. However, finding the right resource partitioning and task granularity\nis extremely challenging, because there is a large number of possible solutions and the optimal solution varies\nacross programs and datasets. This article presents an automatic approach to quickly derive a good solution for\nhardware resource partition and task granularity for task-based parallel applications on heterogeneous many-core\narchitectures. Our approach employs a performance model to estimate the resulting performance of the target\napplication under a given resource partition and task granularity configuration. The model is used as a utility\nto quickly search for a good configuration at runtime. Instead of hand-crafting an analytical model that requires\nexpert insights into low-level hardware details, we employ machine learning techniques to automatically learn it.\nWe achieve this by first learning a predictive model offline using training programs. The learnt model can then\nbe used to predict the performance of any unseen program at runtime. We apply our approach to 39 representative\nparallel applications and evaluate it on two representative heterogeneous many-core platforms: a CPU-XeonPhi\nplatform and a CPU-GPU platform. Compared to the single-stream version, our approach achieves, on average, a 1.6x and 1.1x speedup on the XeonPhi and\nthe GPU platform, respectively. These results translate to over 93% of the performance delivered by a\ntheoretically perfect predictor.",
  "reference_labels": [
    {
      "index": 0,
      "title": "Gpu computing",
      "abstract": "",
      "year": "2008",
      "venue": "IEEE",
      "authors": "J. D. Owens et al."
    },
    {
      "index": 1,
      "title": "Exploring and analyzing the real impact of modern on-package memory on HPC scientific kernels",
      "abstract": "",
      "year": "2017",
      "venue": "SC",
      "authors": "A. Li et al."
    },
    {
      "index": 2,
      "title": "LU factorization on heterogeneous systems: an energy-efficient approach towards high performance",
      "abstract": "",
      "year": "2017",
      "venue": "Computing",
      "authors": "C. Chen et al."
    },
    {
      "index": 3,
      "title": "Modeling and predicting performance of high performance computing applications on hardware accelerators",
      "abstract": "",
      "year": "2013",
      "venue": "IJHPCA",
      "authors": "M. R. Meswani et al."
    },
    {
      "index": 4,
      "title": "A comprehensive performance comparison of CUDA and opencl",
      "abstract": "",
      "year": "2011",
      "venue": "ICPP",
      "authors": "J. Fang et al."
    },
    {
      "index": 5,
      "title": "Heterogeneous streaming",
      "abstract": "",
      "year": "2016",
      "venue": "IPDPSW",
      "authors": "C. J. Newburn, et al."
    },
    {
      "index": 6,
      "title": "CUDA C Best Practices Guide Version 7.0",
      "abstract": "",
      "year": "2015",
      "venue": "",
      "authors": "NVIDIA Inc."
    },
    {
      "index": 7,
      "title": "OpenCL - The open standard for parallel programming of heterogeneous systems",
      "abstract": "",
      "year": "2016",
      "venue": "",
      "authors": "The Khronos OpenCL Working Group"
    },
    {
      "index": 8,
      "title": "hStreams Architecture for MPSS 3.5",
      "abstract": "",
      "year": "2015",
      "venue": "",
      "authors": "Intel Inc."
    },
    {
      "index": 9,
      "title": "Performance models for cpu-gpu data transfers",
      "abstract": "",
      "year": "2014",
      "venue": "CCGrid",
      "authors": "B. Van Werkhoven et al."
    },
    {
      "index": 10,
      "title": "Performance models for asynchronous data transfers on consumer graphics processing units",
      "abstract": "",
      "year": "2012",
      "venue": "JPDC",
      "authors": "J. GóMez-Luna et al."
    },
    {
      "index": 11,
      "title": "Software pipelining for graphic processing unit acceleration: Partition, scheduling and granularity",
      "abstract": "",
      "year": "2016",
      "venue": "IJHPCA",
      "authors": "B. Liu et al."
    },
    {
      "index": 12,
      "title": "Streaming Applications on Heterogeneous Platforms",
      "abstract": "",
      "year": "2016",
      "venue": "NPC",
      "authors": "Z. Li et al.",
      "orig_title": "Streaming applications on heterogeneous platforms",
      "paper_id": "1608.03044v1"
    },
    {
      "index": 13,
      "title": "Evaluating multiple streams on heterogeneous platforms",
      "abstract": "",
      "year": "2016",
      "venue": "Parallel Processing Letters",
      "authors": "J. Fang et al."
    },
    {
      "index": 14,
      "title": "Evaluating the Performance Impact of Multiple Streams on the MIC-based Heterogeneous Platform",
      "abstract": "",
      "year": "2016",
      "venue": "IPDPSW",
      "authors": "Z. Li et al.",
      "orig_title": "Evaluating the performance impact of multiple streams on the mic-based heterogeneous platform",
      "paper_id": "1603.08619v1"
    },
    {
      "index": 15,
      "title": "Auto-tuning streamed applications on intel xeon phi",
      "abstract": "",
      "year": "2018",
      "venue": "IPDPS",
      "authors": "P. Zhang et al."
    },
    {
      "index": 16,
      "title": "LLVM: A compilation framework for lifelong program analysis & transformation",
      "abstract": "",
      "year": "2004",
      "venue": "CGO",
      "authors": "C. Lattner and V. Adve"
    },
    {
      "index": 17,
      "title": "Scikit-learn: Machine learning in python",
      "abstract": "",
      "year": "2011",
      "venue": "Journal of machine learning research",
      "authors": "F. Pedregosa et al."
    },
    {
      "index": 18,
      "title": "Milepost gcc: machine learning based research compiler",
      "abstract": "",
      "year": "2008",
      "venue": "GCC summit",
      "authors": "G. Fursin et al."
    },
    {
      "index": 19,
      "title": "Automatic and portable mapping of data parallel programs to opencl for gpu-based heterogeneous systems",
      "abstract": "",
      "year": "2015",
      "venue": "ACM TACO",
      "authors": "Z. Wang et al."
    },
    {
      "index": 20,
      "title": "Statistics in a Nutshell, 2nd Edition",
      "abstract": "",
      "year": "2012",
      "venue": "O’Reilly Media",
      "authors": "S. Boslaugh"
    },
    {
      "index": 21,
      "title": "Multivariate statistical methods: a primer",
      "abstract": "",
      "year": "2004",
      "venue": "CRC Press",
      "authors": "B. F. Manly"
    },
    {
      "index": 22,
      "title": "Openmp to gpgpu: a compiler framework for automatic translation and optimization",
      "abstract": "",
      "year": "2009",
      "venue": "ACM Sigplan Notices",
      "authors": "S. Lee et al."
    },
    {
      "index": 23,
      "title": "Portable mapping of data parallel programs to opencl for heterogeneous systems",
      "abstract": "",
      "year": "2013",
      "venue": "CGO",
      "authors": "D. Grewe et al."
    },
    {
      "index": 24,
      "title": "Kernelgen–the design and implementation of a next generation compiler platform for accelerating numerical models on gpus",
      "abstract": "",
      "year": "2014",
      "venue": "IPDSW",
      "authors": "D. Mikushin et al."
    },
    {
      "index": 25,
      "title": "Polly-acc transparent compilation to heterogeneous hardware",
      "abstract": "",
      "year": "2016",
      "venue": "Supercomputing",
      "authors": "T. Grosser and T. Hoefler"
    },
    {
      "index": 26,
      "title": "Automatic cpu/gpu generation of multi-versioned opencl kernels for c++ scientific applications",
      "abstract": "",
      "year": "2017",
      "venue": "International Journal of Parallel Programming",
      "authors": "R. Sotomayor et al."
    },
    {
      "index": 27,
      "title": "On the definition of speedup",
      "abstract": "",
      "year": "1994",
      "venue": "International Conference on Parallel Architectures and Languages Europe",
      "authors": "W. Ertel"
    },
    {
      "index": 28,
      "title": "Advanced Engineering Mathematics, 10th Eddition",
      "abstract": "",
      "year": "2009",
      "venue": "",
      "authors": "E. Kreyszig"
    },
    {
      "index": 29,
      "title": "Factor Analysis, 2nd Edition",
      "abstract": "",
      "year": "2014",
      "venue": "Routledge",
      "authors": "R. L. Gorsuch"
    },
    {
      "index": 30,
      "title": "Analysis of a complex of statistical variables into principal components.",
      "abstract": "",
      "year": "1933",
      "venue": "Journal of educational psychology",
      "authors": "H. Hotelling"
    },
    {
      "index": 31,
      "title": "A survey of CPU-GPU heterogeneous computing techniques",
      "abstract": "",
      "year": "2015",
      "venue": "ACM Computing Surveys (CSUR)",
      "authors": "S. Mittal and J. S. Vetter"
    },
    {
      "index": 32,
      "title": "Qilin: exploiting parallelism on heterogeneous multiprocessors with adaptive mapping",
      "abstract": "",
      "year": "2009",
      "venue": "MICRO",
      "authors": "C.-K. Luk et al."
    },
    {
      "index": 33,
      "title": "Workload partitioning for accelerating applications on heterogeneous platforms",
      "abstract": "",
      "year": "2016",
      "venue": "IEEE TPDS",
      "authors": "J. Shen et al."
    },
    {
      "index": 34,
      "title": "Many-core needs fine-grained scheduling: A case study of query processing on intel xeon phi processors",
      "abstract": "",
      "year": "2018",
      "venue": "JPDC",
      "authors": "X. Cheng et al."
    },
    {
      "index": 35,
      "title": "Improving main memory hash joins on intel xeon phi processors: An experimental approach",
      "abstract": "",
      "year": "2015",
      "venue": "PVLDB",
      "authors": "S. Jha et al."
    },
    {
      "index": 36,
      "title": "Mrphi: An optimized mapreduce framework on intel xeon phi coprocessors",
      "abstract": "",
      "year": "2015",
      "venue": "IEEE TPDS",
      "authors": "M. Lu et al."
    },
    {
      "index": 37,
      "title": "Model-based optimization of eulag kernel on intel xeon phi through load imbalancing",
      "abstract": "",
      "year": "2017",
      "venue": "IEEE TPDS",
      "authors": "A. Lastovetsky et al."
    },
    {
      "index": 38,
      "title": "Optimizing and auto-tuning scale-free sparse matrix-vector multiplication on intel xeon phi",
      "abstract": "",
      "year": "2015",
      "venue": "CGO",
      "authors": "W. T. Tang et al."
    },
    {
      "index": 39,
      "title": "Optimizing matrix multiplication on intel® xeon phi th x200 architecture",
      "abstract": "",
      "year": "2017",
      "venue": "ARITH",
      "authors": "M. E. Guney et al."
    },
    {
      "index": 40,
      "title": "Stream processing on hybrid cpu/intel® xeon phi systems",
      "abstract": "",
      "year": "2018",
      "venue": "European Conference on Parallel Processing",
      "authors": "P. Ferrão et al."
    },
    {
      "index": 41,
      "title": "Hstream: A directive-based language extension for heterogeneous stream computing",
      "abstract": "",
      "year": "2018",
      "venue": "CSE",
      "authors": "S. Memeti and S. Pllana"
    },
    {
      "index": 42,
      "title": "End-to-end deep learning of optimization heuristics",
      "abstract": "",
      "year": "2017",
      "venue": "PACT",
      "authors": "C. Cummins et al."
    },
    {
      "index": 43,
      "title": "Machine Learning in Compiler Optimisation",
      "abstract": "",
      "year": "2018",
      "venue": "IEEE",
      "authors": "Z. Wang and M. O’Boyle",
      "orig_title": "Machine learning in compiler optimisation",
      "paper_id": "1805.03441v1"
    },
    {
      "index": 44,
      "title": "Predicting cross-core performance interference on multicore processors with regression analysis",
      "abstract": "",
      "year": "2016",
      "venue": "IEEE TPDS",
      "authors": "J. Zhao et al."
    },
    {
      "index": 45,
      "title": "Using machine learning to partition streaming programs",
      "abstract": "",
      "year": "2013",
      "venue": "ACM TACO",
      "authors": "Z. Wang and M. F. O’boyle"
    },
    {
      "index": 46,
      "title": "Towards a holistic approach to auto-parallelization: integrating profile-driven parallelism detection and machine-learning based mapping",
      "abstract": "",
      "year": "2009",
      "venue": "ACM Sigplan Notices",
      "authors": "G. Tournavitis et al."
    },
    {
      "index": 47,
      "title": "Partitioning streaming parallelism for multi-cores: a machine learning based approach",
      "abstract": "",
      "year": "2010",
      "venue": "PACT",
      "authors": "Z. Wang and M. F. O’Boyle"
    },
    {
      "index": 48,
      "title": "Integrating profile-driven parallelism detection and machine-learning-based mapping",
      "abstract": "",
      "year": "2014",
      "venue": "ACM TACO",
      "authors": "Z. Wang et al."
    },
    {
      "index": 49,
      "title": "Adaptive optimization for opencl programs on embedded heterogeneous systems",
      "abstract": "",
      "year": "2017",
      "venue": "LCTES",
      "authors": "B. Taylor et al."
    },
    {
      "index": 50,
      "title": "Smart, adaptive mapping of parallelism in the presence of external workload",
      "abstract": "",
      "year": "2013",
      "venue": "CGO",
      "authors": "M. K. Emani et al."
    },
    {
      "index": 51,
      "title": "Improving Spark Application Throughput Via Memory Aware Task Co-location: A Mixture of Experts Approach",
      "abstract": "",
      "year": "2017",
      "venue": "Middleware",
      "authors": "V. S. Marco et al.",
      "orig_title": "Improving spark application throughput via memory aware task co-location: A mixture of experts approach",
      "paper_id": "1710.00610v1"
    },
    {
      "index": 52,
      "title": "Optimise web browsing on heterogeneous mobile platforms: a machine learning based approach",
      "abstract": "",
      "year": "2017",
      "venue": "INFOCOM",
      "authors": "J. Ren et al."
    },
    {
      "index": 53,
      "title": "Proteus: Network-aware web browsing on heterogeneous mobile systems",
      "abstract": "",
      "year": "2018",
      "venue": "CoNEXT ’18",
      "authors": "——"
    },
    {
      "index": 54,
      "title": "Using Machine Learning to Optimize Web Interactions on Heterogeneous Mobile Systems",
      "abstract": "",
      "year": "2019",
      "venue": "IEEE Access",
      "authors": "L. Yuan et al.",
      "orig_title": "Using machine learning to optimize web interactions on heterogeneous mobile systems",
      "paper_id": "1906.08689v3"
    },
    {
      "index": 55,
      "title": "Adaptive deep learning model selection on embedded systems",
      "abstract": "",
      "year": "2018",
      "venue": "ACM SIGPLAN Notices",
      "authors": "B. Taylor et al."
    },
    {
      "index": 56,
      "title": "Smart multi-task scheduling for opencl programs on cpu/gpu heterogeneous platforms",
      "abstract": "",
      "year": "2014",
      "venue": "HiPC",
      "authors": "Y. Wen et al."
    },
    {
      "index": 57,
      "title": "Stencil computation optimization and auto-tuning on state-of-the-art multicore architectures",
      "abstract": "",
      "year": "2008",
      "venue": "Supercomputing",
      "authors": "K. Datta et al."
    },
    {
      "index": 58,
      "title": "Opentuner: An extensible framework for program autotuning",
      "abstract": "",
      "year": "2014",
      "venue": "PACT",
      "authors": "J. Ansel et al."
    },
    {
      "index": 59,
      "title": "Halide: A language and compiler for optimizing parallelism, locality, and recomputation in image processing pipelines",
      "abstract": "",
      "year": "2013",
      "venue": "PLDI",
      "authors": "J. Ragan-Kelley et al."
    },
    {
      "index": 60,
      "title": "Auto-tuning 3-d fft library for cuda gpus",
      "abstract": "",
      "year": "2009",
      "venue": "SC",
      "authors": "A. Nukada and S. Matsuoka"
    },
    {
      "index": 61,
      "title": "Input-Aware Auto-Tuning of Compute-Bound HPC Kernels",
      "abstract": "",
      "year": "2017",
      "venue": "SC",
      "authors": "P. Tillet and D. Cox",
      "orig_title": "Input-aware auto-tuning of compute-bound hpc kernels",
      "paper_id": "1802.05371v1"
    },
    {
      "index": 62,
      "title": "An auto-tuner for opencl work-group size on gpus",
      "abstract": "",
      "year": "2018",
      "venue": "IEEE TPDS",
      "authors": "T. T. Dao and J. Lee"
    },
    {
      "index": 63,
      "title": "Auto-tuning skepu: a multi-backend skeleton programming framework for multi-gpu systems",
      "abstract": "",
      "year": "2011",
      "venue": "IWMSE",
      "authors": "U. Dastgeer et al."
    },
    {
      "index": 64,
      "title": "Bootstrapping parameter space exploration for fast tuning",
      "abstract": "",
      "year": "2018",
      "venue": "Supercomputing",
      "authors": "J. J. Thiagarajan et al."
    },
    {
      "index": 65,
      "title": "Optimizing sparse matrix–vector multiplications on an armv8-based many-core architecture",
      "abstract": "",
      "year": "2019",
      "venue": "International Journal of Parallel Programming",
      "authors": "D. Chen et al."
    },
    {
      "index": 66,
      "title": "Auto-tuning on numa and many-core environments with an fdm code",
      "abstract": "",
      "year": "2017",
      "venue": "IPDPSW",
      "authors": "T. Katagiri et al."
    },
    {
      "index": 67,
      "title": "Uhcl-darknet: An opencl-based deep neural network framework for heterogeneous multi-/many-core clusters",
      "abstract": "",
      "year": "2018",
      "venue": "ICPP",
      "authors": "L. Liao et al."
    },
    {
      "index": 68,
      "title": "Openmpc: Extended openmp programming and tuning for gpus",
      "abstract": "",
      "year": "2010",
      "venue": "SC",
      "authors": "S. Lee and R. Eigenmann"
    },
    {
      "index": 69,
      "title": "Exploitation of gpus for the parallelisation of probably parallel legacy code",
      "abstract": "",
      "year": "2014",
      "venue": "CC ’14",
      "authors": "Z. Wang et al."
    },
    {
      "index": 70,
      "title": "Domain-specific optimization and generation of high-performance gpu code for stencil computations",
      "abstract": "",
      "year": "2018",
      "venue": "IEEE",
      "authors": "P. S. Rawat et al."
    }
  ]
}
{
  "paper_id": "2111.04473v2",
  "title": "Senatus - A Fast and Accurate Code-to-Code Recommendation Engine",
  "abstract": "Abstract.\nMachine learning on source code (MLOnCode) is a popular research field that has been driven by the availability of large-scale\ncode repositories and the development of powerful probabilistic and deep learning models for mining source code. Code-to-code recommendation is a task in MLOnCode that aims to recommend relevant, diverse and concise code snippets that usefully extend the code currently being written by a developer in their development environment (IDE). Code-to-code recommendation engines hold the promise of increasing developer productivity by reducing context switching from the IDE and increasing code-reuse. Existing code-to-code recommendation engines do not scale gracefully to large codebases, exhibiting a linear growth in query time as the code repository increases in size. In addition, existing code-to-code recommendation engines fail to account for the global statistics of code repositories in the ranking function, such as the distribution of code snippet lengths, leading to sub-optimal retrieval results. We address both of these weaknesses with Senatus, a new code-to-code recommendation engine. At the core of Senatus is De-Skew LSH a new locality sensitive hashing (LSH) algorithm that indexes the data for fast (sub-linear time) retrieval while also counteracting the skewness in the snippet length distribution using novel abstract syntax tree-based feature scoring and selection algorithms. We evaluate Senatus and find the recommendations to be of higher quality than competing baselines, while achieving faster search. For example on the CodeSearchNet dataset Senatus improves performance by 31.21% F1 and 147.9x faster query time compared to Facebook Aroma. Senatus also outperforms standard MinHash LSH by 29.2% F1 and 51.02x faster query time.",
  "reference_labels": [
    {
      "index": 0,
      "title": "인공지능 기반 공격 그래프 생성",
      "abstract": "",
      "year": "",
      "venue": "",
      "authors": "",
      "orig_title": "",
      "paper_id": "2311.14342v2"
    },
    {
      "index": 1,
      "title": "A Survey of Machine Learning for Big Code and Naturalness",
      "abstract": "",
      "year": "2018",
      "venue": "ACM Computing Surveys (CSUR)",
      "authors": "Miltiadis Allamanis, Earl T Barr, Premkumar Devanbu, and Charles Sutton",
      "orig_title": "A survey of machine learning for big code and naturalness",
      "paper_id": "1709.06182v2"
    },
    {
      "index": 2,
      "title": "code2vec: Learning Distributed Representations of Code",
      "abstract": "",
      "year": "2019",
      "venue": "ACM Program. Lang.",
      "authors": "Uri Alon, Meital Zilberstein, Omer Levy, and Eran Yahav",
      "orig_title": "Code2vec: Learning Distributed Representations of Code",
      "paper_id": "1803.09473v5"
    },
    {
      "index": 3,
      "title": "Near-Optimal Hashing Algorithms for Approximate Nearest Neighbor in High Dimensions",
      "abstract": "",
      "year": "2008",
      "venue": "Commun. ACM",
      "authors": "Alexandr Andoni and Piotr Indyk"
    },
    {
      "index": 4,
      "title": "Analyzing and Mining a Code Search Engine Usage Log",
      "abstract": "",
      "year": "2012",
      "venue": "Empirical Softw. Engg.",
      "authors": "Sushil Krishna Bajracharya and Cristina Videira Lopes"
    },
    {
      "index": 5,
      "title": "Query by example in large-scale code repositories",
      "abstract": "",
      "year": "2015",
      "venue": "IEEE International Conference on Software Maintenance and Evolution",
      "authors": "Vipin Balachandran"
    },
    {
      "index": 6,
      "title": "Learning Python Code Suggestion with a Sparse Pointer Network",
      "abstract": "",
      "year": "2016",
      "venue": "arXiv",
      "authors": "Avishkar Bhoopchand, Tim Rocktäschel, Earl Barr, and Sebastian Riedel"
    },
    {
      "index": 7,
      "title": "On the resemblance and containment of documents",
      "abstract": "",
      "year": "1997",
      "venue": "Compression and Complexity of SEQUENCES 1997",
      "authors": "A.Z. Broder"
    },
    {
      "index": 8,
      "title": "Min-Wise Independent Permutations (Extended Abstract)",
      "abstract": "",
      "year": "1998",
      "venue": "ACM Symposium on Theory of Computing",
      "authors": "Andrei Z. Broder, Moses Charikar, Alan M. Frieze, and Michael Mitzenmacher"
    },
    {
      "index": 9,
      "title": "Bias and the Limits of Pooling",
      "abstract": "",
      "year": "2006",
      "venue": "ACM SIGIR Conference on Research and Development in Information Retrieval",
      "authors": "Chris Buckley, Darrin Dimmick, Ian Soboroff, and Ellen Voorhees"
    },
    {
      "index": 10,
      "title": "When Deep Learning Met Code Search",
      "abstract": "",
      "year": "2019",
      "venue": "ACM Joint Meeting on European Software Engineering Conference and Symposium on the Foundations of Software Engineering",
      "authors": "Jose Cambronero, Hongyu Li, Seohyun Kim, Koushik Sen, and Satish Chandra",
      "orig_title": "When Deep Learning Met Code Search",
      "paper_id": "1905.03813v4"
    },
    {
      "index": 11,
      "title": "Similarity Estimation Techniques from Rounding Algorithms",
      "abstract": "",
      "year": "2002",
      "venue": "ACM Symposium on Theory of Computing",
      "authors": "Moses S. Charikar"
    },
    {
      "index": 12,
      "title": "SNIFF: A Search Engine for Java Using Free-Form Queries",
      "abstract": "",
      "year": "2009",
      "venue": "International Conference on Fundamental Approaches to Software Engineering",
      "authors": "Shaunak Chatterjee, Sudeep Juvekar, and Koushik Sen"
    },
    {
      "index": 13,
      "title": "The NiCad Clone Detector",
      "abstract": "",
      "year": "2011",
      "venue": "IEEE International Conference on Program Comprehension",
      "authors": "James R. Cordy and Chanchal K. Roy"
    },
    {
      "index": 14,
      "title": "Space Efficient Mining of Multigraph Streams",
      "abstract": "",
      "year": "2005",
      "venue": "ACM SIGMOD-SIGACT-SIGART Symposium on Principles of Database Systems",
      "authors": "Graham Cormode and S. Muthukrishnan"
    },
    {
      "index": 15,
      "title": "Google News Personalization: Scalable Online Collaborative Filtering",
      "abstract": "",
      "year": "2007",
      "venue": "International Conference on World Wide Web",
      "authors": "Abhinandan S. Das, Mayur Datar, Ashutosh Garg, and Shyam Rajaram"
    },
    {
      "index": 16,
      "title": "Locality-Sensitive Hashing Scheme Based on p-Stable Distributions",
      "abstract": "",
      "year": "2004",
      "venue": "Symposium on Computational Geometry",
      "authors": "Mayur Datar, Nicole Immorlica, Piotr Indyk, and Vahab S. Mirrokni"
    },
    {
      "index": 17,
      "title": "CoNCRA: A Convolutional Neural Network Code Retrieval Approach",
      "abstract": "",
      "year": "2020",
      "venue": "Brazilian Symposium on Software Engineering",
      "authors": "Marcelo de Rezende Martins and Marco Aurélio Gerosa",
      "orig_title": "CoNCRA: A Convolutional Neural Networks Code Retrieval Approach",
      "paper_id": "2009.01959v1"
    },
    {
      "index": 18,
      "title": "An Algorithm for Finding Best Matches in Logarithmic Expected Time",
      "abstract": "",
      "year": "1977",
      "venue": "ACM Trans. Math. Softw.",
      "authors": "Jerome H. Friedman, Jon Louis Bentley, and Raphael Ari Finkel"
    },
    {
      "index": 19,
      "title": "Deep Code Search",
      "abstract": "",
      "year": "2018",
      "venue": "IEEE/ACM International Conference on Software Engineering",
      "authors": "X. Gu, H. Zhang, and S. Kim"
    },
    {
      "index": 20,
      "title": "CodeSearchNet Challenge Evaluating the State of Semantic Code Search",
      "abstract": "",
      "year": "2019",
      "venue": "arXiv",
      "authors": "Hamel Husain, Ho-Hsiang Wu, Tiferet Gazit, Miltiadis Allamanis, and Marc Brockschmidt",
      "orig_title": "CodeSearchNet Challenge: Evaluating the State of Semantic Code Search",
      "paper_id": "1909.09436v3"
    },
    {
      "index": 21,
      "title": "CodeSearchNet Challenge Evaluating the State of Semantic Code Search",
      "abstract": "",
      "year": "2020",
      "venue": "",
      "authors": "Hamel Husain, Ho-Hsiang Wu, Tiferet Gazit, Miltiadis Allamanis, and Marc Brockschmidt",
      "orig_title": "CodeSearchNet Challenge: Evaluating the State of Semantic Code Search",
      "paper_id": "1909.09436v3"
    },
    {
      "index": 22,
      "title": "Approximate Nearest Neighbors: Towards Removing the Curse of Dimensionality",
      "abstract": "",
      "year": "1998",
      "venue": "ACM Symposium on Theory of Computing",
      "authors": "Piotr Indyk and Rajeev Motwani"
    },
    {
      "index": 23,
      "title": "Improved Consistent Sampling, Weighted Minhash and L1 Sketching",
      "abstract": "",
      "year": "2010",
      "venue": "ICDM",
      "authors": "Sergey Ioffe"
    },
    {
      "index": 24,
      "title": "DECKARD: Scalable and Accurate Tree-Based Detection of Code Clones",
      "abstract": "",
      "year": "2007",
      "venue": "International Conference on Software Engineering",
      "authors": "Lingxiao Jiang, Ghassan Misherghi, Zhendong Su, and Stephane Glondu"
    },
    {
      "index": 25,
      "title": "Report on the Need for and Provision of an ’ideal’ Information Retrieval Test Collection",
      "abstract": "",
      "year": "1975",
      "venue": "University Computer Laboratory",
      "authors": "K.S. Jones, C.J. Van Rijsbergen, British Library. Research, and Development Department"
    },
    {
      "index": 26,
      "title": "CCFinder: a multilinguistic token-based code clone detection system for large scale source code",
      "abstract": "",
      "year": "2002",
      "venue": "IEEE Transactions on Software Engineering",
      "authors": "T. Kamiya, S. Kusumoto, and K. Inoue"
    },
    {
      "index": 27,
      "title": "FaCoY: A Code-to-Code Search Engine",
      "abstract": "",
      "year": "2018",
      "venue": "International Conference on Software Engineering",
      "authors": "Kisub Kim, Dongsun Kim, Tegawendé F. Bissyandé, Eunjong Choi, Li Li, Jacques Klein, and Yves Le Traon"
    },
    {
      "index": 28,
      "title": "Krugle Code Search Architecture",
      "abstract": "",
      "year": "2013",
      "venue": "Finding Source Code on the Web for Remix and Reuse",
      "authors": "Ken Krugler"
    },
    {
      "index": 29,
      "title": "Maximal Divergence Sequential Autoencoder for Binary Software Vulnerability Detection",
      "abstract": "",
      "year": "2019",
      "venue": "International Conference on Learning Representations",
      "authors": "Tue Le, Tuan Nguyen, Trung Le, Dinh Q. Phung, Paul Montague, Olivier Y. de Vel, and Lizhen Qu"
    },
    {
      "index": 30,
      "title": "Maximal Divergence Sequential Autoencoder for Binary Software Vulnerability Detection",
      "abstract": "",
      "year": "2019",
      "venue": "International Conference on Learning Representations",
      "authors": "Tue Le, Tuan Nguyen, Trung Le, Dinh Q. Phung, Paul Montague, Olivier Y. de Vel, and Lizhen Qu"
    },
    {
      "index": 31,
      "title": "CodeGenie: Using Test-Cases to Search and Reuse Source Code",
      "abstract": "",
      "year": "2007",
      "venue": "IEEE/ACM International Conference on Automated Software Engineering",
      "authors": "Otávio Augusto Lazzarini Lemos, Sushil Krishna Bajracharya, Joel Ossher, Ricardo Santos Morla, Paulo Cesar Masiero, Pierre Baldi, and Cristina Videira Lopes"
    },
    {
      "index": 32,
      "title": "Neural Code Search Evaluation Dataset",
      "abstract": "",
      "year": "2019",
      "venue": "arXiv",
      "authors": "Hongyu Li, Seohyun Kim, and Satish Chandra",
      "orig_title": "Neural Code Search Evaluation Dataset",
      "paper_id": "1908.09804v6"
    },
    {
      "index": 33,
      "title": "Neural Code Search Evaluation Dataset",
      "abstract": "",
      "year": "2019",
      "venue": "CoRR",
      "authors": "Hongyu Li, Seohyun Kim, and Satish Chandra",
      "orig_title": "Neural Code Search Evaluation Dataset",
      "paper_id": "1908.09804v6"
    },
    {
      "index": 34,
      "title": "Code Completion with Neural Attention and Pointer Networks",
      "abstract": "",
      "year": "2018",
      "venue": "International Joint Conference on Artificial Intelligence",
      "authors": "Jian Li, Yue Wang, Michael R. Lyu, and Irwin King",
      "orig_title": "Code Completion with Neural Attention and Pointer Networks",
      "paper_id": "1711.09573v2"
    },
    {
      "index": 35,
      "title": "Theory and Applications of b-Bit Minwise Hashing",
      "abstract": "",
      "year": "2011",
      "venue": "Commun. ACM",
      "authors": "Ping Li and Arnd Christian König"
    },
    {
      "index": 36,
      "title": "b-Bit Minwise Hashing",
      "abstract": "",
      "year": "2010",
      "venue": "World Wide Web Conference",
      "authors": "Ping Li and Arnd Christian König"
    },
    {
      "index": 37,
      "title": "Learning Code-Query Interaction for Enhancing Code Searches",
      "abstract": "",
      "year": "2020",
      "venue": "IEEE International Conference on Software Maintenance and Evolution",
      "authors": "Wei Li, Haozhe Qin, Shuhan Yan, Beijun Shen, and Yuting Chen"
    },
    {
      "index": 38,
      "title": "Opportunities and Challenges in Code Search Tools",
      "abstract": "",
      "year": "2020",
      "venue": "arXiv",
      "authors": "Chao Liu, Xin Xia, David Lo, Cuiyun Gao, Xiaohu Yang, and John Grundy",
      "orig_title": "Opportunities and Challenges in Code Search Tools",
      "paper_id": "2011.02297v1"
    },
    {
      "index": 39,
      "title": "Aroma: Code Recommendation via Structural Code Search",
      "abstract": "",
      "year": "2019",
      "venue": "ACM Program. Lang.",
      "authors": "Sifei Luan, Di Yang, Celeste Barnaby, Koushik Sen, and Satish Chandra",
      "orig_title": "Aroma: Code Recommendation via Structural Code Search",
      "paper_id": "1812.01158v4"
    },
    {
      "index": 40,
      "title": "Mash: Fast genome and metagenome distance estimation using MinHash",
      "abstract": "",
      "year": "2016",
      "venue": "Genome Biology",
      "authors": "Brian Ondov, Todd Treangen, Páll Melsted, Adam Mallonee, Nicholas Bergman, Sergey Koren, and Adam Phillippy"
    },
    {
      "index": 41,
      "title": "Feedback-directed random test generation",
      "abstract": "",
      "year": "2007",
      "venue": "International Conference on Software Engineering",
      "authors": "Carlos Pacheco, Shuvendu K. Lahiri, Michael D. Ernst, and Thomas Ball"
    },
    {
      "index": 42,
      "title": "Real-time event detection in massive streams",
      "abstract": "",
      "year": "2013",
      "venue": "",
      "authors": "S. Petrovic"
    },
    {
      "index": 43,
      "title": "DeepBugs: A Learning Approach to Name-based Bug Detection",
      "abstract": "",
      "year": "2018",
      "venue": "ACM Program. Lang.",
      "authors": "Michael Pradel and Koushik Sen",
      "orig_title": "DeepBugs: A Learning Approach to Name-Based Bug Detection",
      "paper_id": "1805.11683v1"
    },
    {
      "index": 44,
      "title": "Project CodeNet: A Large-Scale AI for Code Dataset for Learning a Diversity of Coding Tasks",
      "abstract": "",
      "year": "2021",
      "venue": "",
      "authors": "Ruchir Puri, David Kung, Geert Janssen, Wei Zhang, Giacomo Domeniconi, Vladmir Zolotov, Julian Dolby, Jie Chen, Mihir Choudhury, Lindsey Decker, Veronika Thost, Luca Buratti, Saurabh Pujar, and Ulrich Finkler"
    },
    {
      "index": 45,
      "title": "Mining of massive datasets",
      "abstract": "",
      "year": "2012",
      "venue": "Cambridge University Press",
      "authors": "Anand Rajaraman and Jeffrey David Ullman"
    },
    {
      "index": 46,
      "title": "MC-MinH: Metagenome Clustering using Minwise based Hashing",
      "abstract": "",
      "year": "2013",
      "venue": "SDM",
      "authors": "Huzefa Rangwala and Zeehasham Rasheed"
    },
    {
      "index": 47,
      "title": "Locality-Sensitive Hashing for Earthquake Detection: A Case Study of Scaling Data-Driven Science",
      "abstract": "",
      "year": "2018",
      "venue": "VLDB Endow.",
      "authors": "Kexin Rong, Clara E. Yoon, Karianne J. Bergen, Hashem Elezabi, Peter Bailis, Philip Levis, and Gregory C. Beroza",
      "orig_title": "Locality-Sensitive Hashing for Earthquake Detection: A Case Study of Scaling Data-Driven Science",
      "paper_id": "1803.09835v2"
    },
    {
      "index": 48,
      "title": "Oreo: Detection of Clones in the Twilight Zone",
      "abstract": "",
      "year": "2018",
      "venue": "ACM Joint Meeting on European Software Engineering Conference and Symposium on the Foundations of Software Engineering",
      "authors": "Vaibhav Saini, Farima Farmahinifarahani, Yadong Lu, Pierre Baldi, and Cristina V. Lopes",
      "orig_title": "Oreo: Detection of Clones in the Twilight Zone",
      "paper_id": "1806.05837v1"
    },
    {
      "index": 49,
      "title": "SourcererCC: Scaling Code Clone Detection to Big Code",
      "abstract": "",
      "year": "2016",
      "venue": "IEEE/ACM International Conference on Software Engineering",
      "authors": "H. Sajnani, V. Saini, J. Svajlenko, C. K. Roy, and C. V. Lopes",
      "orig_title": "SourcererCC: Scaling Code Clone Detection to Big-Code",
      "paper_id": "1512.06448v1"
    },
    {
      "index": 50,
      "title": "Asymmetric minwise hashing for indexing binary inner products and set containment",
      "abstract": "",
      "year": "2015",
      "venue": "International Conference on World Wide Web",
      "authors": "Anshumali Shrivastava and Ping Li"
    },
    {
      "index": 51,
      "title": "Unit Test Case Generation with Transformers",
      "abstract": "",
      "year": "2020",
      "venue": "arXiv",
      "authors": "Michele Tufano, Dawn Drain, Alexey Svyatkovskiy, Shao Kun Deng, and Neel Sundaresan"
    },
    {
      "index": 52,
      "title": "On detection of gapped code clones using gap locations",
      "abstract": "",
      "year": "2002",
      "venue": "Asia-Pacific Software Engineering Conference",
      "authors": "Y. Ueda, T. Kamiya, S. Kusumoto, and K. Inoue"
    },
    {
      "index": 53,
      "title": "Deep learning code fragments for code clone detection",
      "abstract": "",
      "year": "2016",
      "venue": "IEEE/ACM International Conference on Automated Software Engineering",
      "authors": "M. White, M. Tufano, C. Vendome, and D. Poshyvanyk"
    },
    {
      "index": 54,
      "title": "Are the Code Snippets What We Are Searching for? A Benchmark and an Empirical Study on Code Search with Natural-Language Queries",
      "abstract": "",
      "year": "2020",
      "venue": "IEEE International Conference on Software Analysis, Evolution and Reengineering",
      "authors": "Shuhan Yan, Hang Yu, Yuting Chen, Beijun Shen, and Lingxiao Jiang"
    },
    {
      "index": 55,
      "title": "On the Theory of Weak Supervision for Information Retrieval",
      "abstract": "",
      "year": "2018",
      "venue": "ACM SIGIR International Conference on Theory of Information Retrieval",
      "authors": "Hamed Zamani and W. Bruce Croft"
    },
    {
      "index": 56,
      "title": "Automated Identification of Security Issues from Commit Messages and Bug Reports",
      "abstract": "",
      "year": "2017",
      "venue": "ACM Joint Meeting on Foundations of Software Engineering",
      "authors": "Yaqin Zhou and Asankhaya Sharma"
    },
    {
      "index": 57,
      "title": "LSH Ensemble: Internet-Scale Domain Search",
      "abstract": "",
      "year": "2016",
      "venue": "VLDB Endow.",
      "authors": "Erkang Zhu, Fatemeh Nargesian, Ken Q. Pu, and Renée J. Miller",
      "orig_title": "LSH Ensemble: Internet-Scale Domain Search",
      "paper_id": "1603.07410v4"
    },
    {
      "index": 58,
      "title": "How Reliable Are the Results of Large-Scale Information Retrieval Experiments?",
      "abstract": "",
      "year": "1998",
      "venue": "ACM SIGIR Conference on Research and Development in Information Retrieval",
      "authors": "Justin Zobel"
    },
    {
      "index": 59,
      "title": "Language-Agnostic Representation Learning of Source Code from Structure and Context",
      "abstract": "",
      "year": "2021",
      "venue": "International Conference on Learning Representations",
      "authors": "Daniel Zügner, Tobias Kirschstein, Michele Catasta, Jure Leskovec, and Stephan Günnemann",
      "orig_title": "Language-Agnostic Representation Learning of Source Code from Structure and Context",
      "paper_id": "2103.11318v1"
    }
  ]
}